{"version":3,"sources":["webpack:///(webpack)/buildin/global.js","webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/about/about.component.css","webpack:///./src/app/about/about.component.html","webpack:///./src/app/about/about.component.ts","webpack:///./src/app/app-routing.module.ts","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/auth.service.ts","webpack:///./src/app/clock.service.ts","webpack:///./src/app/cust-ext-browser-xhr.ts","webpack:///./src/app/dashboard/dashboard.component.css","webpack:///./src/app/dashboard/dashboard.component.html","webpack:///./src/app/dashboard/dashboard.component.ts","webpack:///./src/app/ethereum/ethcontract.service.ts","webpack:///./src/app/ethereum/ethereum.module.ts","webpack:///./src/app/ethereum/tokens.ts","webpack:///./src/app/getstarted/getstarted.component.css","webpack:///./src/app/getstarted/getstarted.component.html","webpack:///./src/app/getstarted/getstarted.component.ts","webpack:///./src/app/header/header.component.css","webpack:///./src/app/header/header.component.html","webpack:///./src/app/header/header.component.ts","webpack:///./src/app/images.service.ts","webpack:///./src/app/item-dialog/item-dialog.component.css","webpack:///./src/app/item-dialog/item-dialog.component.html","webpack:///./src/app/item-dialog/item-dialog.component.ts","webpack:///./src/app/item/item.component.css","webpack:///./src/app/item/item.component.html","webpack:///./src/app/item/item.component.ts","webpack:///./src/app/landing/landing.component.css","webpack:///./src/app/landing/landing.component.html","webpack:///./src/app/landing/landing.component.ts","webpack:///./src/app/login/login.component.css","webpack:///./src/app/login/login.component.html","webpack:///./src/app/login/login.component.ts","webpack:///./src/app/nav-bar/nav-bar.component.css","webpack:///./src/app/nav-bar/nav-bar.component.html","webpack:///./src/app/nav-bar/nav-bar.component.ts","webpack:///./src/app/order.service.ts","webpack:///./src/app/order.ts","webpack:///./src/app/parameters.ts","webpack:///./src/app/profile-update/profile-update.component.css","webpack:///./src/app/profile-update/profile-update.component.html","webpack:///./src/app/profile-update/profile-update.component.ts","webpack:///./src/app/qrcode-dialog/qrcode-dialog.component.css","webpack:///./src/app/qrcode-dialog/qrcode-dialog.component.html","webpack:///./src/app/qrcode-dialog/qrcode-dialog.component.ts","webpack:///./src/app/ride-detail/ride-detail.component.css","webpack:///./src/app/ride-detail/ride-detail.component.html","webpack:///./src/app/ride-detail/ride-detail.component.ts","webpack:///./src/app/ride.service.ts","webpack:///./src/app/ride/ride.component.css","webpack:///./src/app/ride/ride.component.html","webpack:///./src/app/ride/ride.component.ts","webpack:///./src/app/rider.service.ts","webpack:///./src/app/shopping-result/shopping-result.component.css","webpack:///./src/app/shopping-result/shopping-result.component.html","webpack:///./src/app/shopping-result/shopping-result.component.ts","webpack:///./src/app/shopping/shopping.component.css","webpack:///./src/app/shopping/shopping.component.html","webpack:///./src/app/shopping/shopping.component.ts","webpack:///./src/app/sms-confirmation/sms-confirmation.component.css","webpack:///./src/app/sms-confirmation/sms-confirmation.component.html","webpack:///./src/app/sms-confirmation/sms-confirmation.component.ts","webpack:///./src/app/tag-detail/tag-detail.component.css","webpack:///./src/app/tag-detail/tag-detail.component.html","webpack:///./src/app/tag-detail/tag-detail.component.ts","webpack:///./src/app/tag-reg-sms/tag-reg-sms.component.css","webpack:///./src/app/tag-reg-sms/tag-reg-sms.component.html","webpack:///./src/app/tag-reg-sms/tag-reg-sms.component.ts","webpack:///./src/app/tag-registration/tag-registration.component.css","webpack:///./src/app/tag-registration/tag-registration.component.html","webpack:///./src/app/tag-registration/tag-registration.component.ts","webpack:///./src/app/tag.service.ts","webpack:///./src/app/tags/tags.component.css","webpack:///./src/app/tags/tags.component.html","webpack:///./src/app/tags/tags.component.ts","webpack:///./src/app/tnx-detail/tnx-detail.component.css","webpack:///./src/app/tnx-detail/tnx-detail.component.html","webpack:///./src/app/tnx-detail/tnx-detail.component.ts","webpack:///./src/app/transaction.service.ts","webpack:///./src/app/use-points/use-points.component.css","webpack:///./src/app/use-points/use-points.component.html","webpack:///./src/app/use-points/use-points.component.ts","webpack:///./src/app/user-profile/user-profile.component.css","webpack:///./src/app/user-profile/user-profile.component.html","webpack:///./src/app/user-profile/user-profile.component.ts","webpack:///./src/app/user-tags/user-tags.component.css","webpack:///./src/app/user-tags/user-tags.component.html","webpack:///./src/app/user-tags/user-tags.component.ts","webpack:///./src/app/user-tnx/user-tnx.component.css","webpack:///./src/app/user-tnx/user-tnx.component.html","webpack:///./src/app/user-tnx/user-tnx.component.ts","webpack:///./src/environments/environment.ts","webpack:///./src/environments/errors.ts","webpack:///./src/main.ts","webpack:///util (ignored)","webpack:///util (ignored)?340a","webpack:///buffer (ignored)","webpack:///crypto (ignored)"],"names":[],"mappings":"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;;;;ACTiC;AACjB;AAEM;AAEG;AACe;AACA;AACP;AACJ;AACC;AACI;AACF;AACZ;AACY;AACsB;AAClB;AACF;AACJ;AACgB;AACkB;AAChB;AAC5B;AACa;AACI;AACP;AACQ;AACC;AACP;AACgC;AACZ;AAClC;AACsB;AACtB;AACc;AAC0B;AAClB;AACE;AACX;AACT;AACO;AACP;AACU;AACiB;AACL;AACvB;AACG;AACqB;AACE;AACxB;AACQ;AACO;AACL;AACH;AACa;AACR;AACU;AACD;AACV;AACX;AACQ;AACe;AACZ;AACA;AACY;AACS;AACrB;AAClB;AACgB;AACD;AACI;AACQ;AACH;AACC;AACnB;AACO;AACoB;AACY;AACR;AA6F9E;IAAA;IAAyB,CAAC;IAAb,SAAS;QA1FrB,8DAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,2DAAY;gBACZ,kEAAa;gBACb,oFAAkB;gBAClB,sGAAwB;gBACxB,sFAAkB;gBAClB,2EAAe;gBACf,4EAAgB;gBAChB,sEAAc;gBACd,sGAAwB;gBACxB,0FAAoB;gBACpB,sEAAc;gBACd,gGAAsB;gBACtB,mEAAa;gBACb,uFAAmB;gBACnB,kFAAkB;gBAClB,qFAAmB;gBACnB,oFAAkB;gBAClB,oFAAkB;gBAClB,6FAAqB;gBACrB,yEAAe;gBACf,iFAAiB;gBACjB,8EAAgB;gBAChB,+EAAiB;gBACjB,mEAAa;gBACb,uFAAmB;gBACnB,mGAAuB;aACxB;YACD,eAAe,EAAE;gBACf,6FAAqB;gBACrB,uFAAmB;aACpB;YACD,OAAO,EAAE;gBACP,uEAAa;gBACb,6FAAuB;gBACvB,+DAAiB,CAAC,aAAa,CAAC,qEAAW,CAAC,QAAQ,CAAC;gBACrD,8EAAsB;gBACtB,8EAAwB;gBACxB,oEAAa;gBACb,wEAAe;gBACf,qEAAgB;gBAChB,2DAAW;gBACX,uEAAc;gBACd,2EAAgB;gBAChB,yEAAe;gBACf,qEAAa;gBACb,wEAAqB;gBACrB,qEAAa;gBACb,8EAAiB;gBACjB,+EAAkB;gBAClB,+EAAkB;gBAClB,iFAAmB;gBACnB,sEAAmB;gBACnB,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","file":"main.js","sourcesContent":["var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\r\n} catch (e) {\r\n\t// This works if the window reference is available\r\n\tif (typeof window === \"object\") g = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error('Cannot find module \"' + req + '\".');\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","module.exports = \"\"","module.exports = \"\\n<mat-grid-list cols=\\\"3\\\" rowHeight=\\\"4em\\\">\\n    <mat-grid-tile [routerLink]=\\\"['/landing']\\\" [rowspan]=\\\"3\\\" [colspan]=\\\"3\\\">\\n        <img  src=\\\"../assets/group-6.svg\\\">\\n    </mat-grid-tile>\\n\\n    <mat-grid-tile rowHeight=\\\"3em\\\" [colspan]=\\\"3\\\">\\n      <p>GIRO d'ISEO Web Application</p>\\n    </mat-grid-tile>\\n\\n    <mat-grid-tile rowHeight=\\\"3em\\\" [colspan]=\\\"3\\\">\\n      <p><small>{{version}}</small></p>\\n    </mat-grid-tile>\\n\\n    <mat-grid-tile rowHeight=\\\"3em\\\" [colspan]=\\\"3\\\">\\n        <p><small>Ethereum Rinkiby network via https proxy</small></p>\\n      </mat-grid-tile>\\n\\n    <mat-grid-tile rowHeight=\\\"3em\\\" [colspan]=\\\"3\\\">\\n      <p><small>Copyright REGA Risk Sharing (C) 2019</small></p>\\n    </mat-grid-tile>\\n    \\n</mat-grid-list>\\n\"","import { Component, OnInit } from '@angular/core';\nimport { version } from '../../environments/environment';\n\n@Component({\n  selector: 'app-about',\n  templateUrl: './about.component.html',\n  styleUrls: ['./about.component.css']\n})\nexport class AboutComponent implements OnInit {\n  version: string;\n\n  constructor() { }\n\n  ngOnInit() {\n    this.version = version;\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { TagsComponent } from './tags/tags.component';\nimport { TagDetailComponent } from './tag-detail/tag-detail.component';\nimport { TagRegistrationComponent } from './tag-registration/tag-registration.component';\nimport { TagRegSmsComponent } from './tag-reg-sms/tag-reg-sms.component';\nimport { LandingComponent } from './landing/landing.component';\nimport { LoginComponent } from './login/login.component';\nimport { UserProfileComponent } from './user-profile/user-profile.component';\nimport { SmsConfirmationComponent } from './sms-confirmation/sms-confirmation.component';\nimport { AboutComponent } from './about/about.component';\nimport { ProfileUpdateComponent } from './profile-update/profile-update.component';\nimport { RideComponent } from './ride/ride.component';\nimport { RideDetailComponent } from './ride-detail/ride-detail.component';\nimport { DashboardComponent } from './dashboard/dashboard.component';\nimport { GetstartedComponent } from './getstarted/getstarted.component';\nimport { UsePointsComponent } from './use-points/use-points.component';\nimport { TnxDetailComponent } from './tnx-detail/tnx-detail.component';\nimport { ShoppingComponent } from './shopping/shopping.component';\nimport { ItemComponent } from './item/item.component';\nimport { ShoppingResultComponent } from './shopping-result/shopping-result.component';\n\n\nconst routes: Routes = [\n  { path: '', redirectTo: '/landing', pathMatch: 'full' },\n  { path: 'landing', component: LandingComponent },\n  { path: 'tags', component: TagsComponent },\n  { path: 'reg', component: TagRegistrationComponent },\n  { path: 'tag/:id', component: TagDetailComponent },\n  { path: 'regsms/:id/:mobile', component: TagRegSmsComponent },\n  { path: 'login', component: LoginComponent },\n  { path: 'login/:page', component: LoginComponent },\n  { path: 'profile', component: UserProfileComponent },\n  { path: 'smsconfirm/:mobile', component: SmsConfirmationComponent },\n  { path: 'smsconfirm/:mobile/:page', component: SmsConfirmationComponent },\n  { path: 'about', component: AboutComponent },\n  { path: 'update', component: ProfileUpdateComponent },\n  { path: 'ride', component: RideComponent },\n  { path: 'ride/:id', component: RideDetailComponent },\n  { path: 'item/:id', component: ItemComponent },\n  { path: 'item/:id/:ref', component: ItemComponent },\n  { path: 'dashboard', component: DashboardComponent },\n  { path: 'shopping', component: ShoppingComponent },\n  { path: 'shopping/:result', component: ShoppingResultComponent },\n  { path: 'getstarted', component: GetstartedComponent },\n  { path: 'use/:acc/:points', component: UsePointsComponent },\n  { path: 'tnx/:hash', component: TnxDetailComponent },\n];\n\n@NgModule({\n  exports: [ RouterModule ],\n  imports: [ RouterModule.forRoot(routes) ],\n})\nexport class AppRoutingModule { }\n","module.exports = \"\"","module.exports = \"<!--The content below is only a placeholder and can be replaced.-->\\n<app-nav-bar></app-nav-bar>\\n<router-outlet></router-outlet>\\n\\n\\n\"","import { Component, OnInit } from '@angular/core';\nimport { TagService } from './tag.service';\nimport { Tag } from './tag';\n\n@Component({\n  selector: 'app-root',\n  styleUrls: ['./app.component.css'],\n  templateUrl: './app.component.html'\n})\nexport class AppComponent {\n  title = `Giro d'Iseo`;\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppComponent } from './app.component';\n\nimport { AngularFireModule } from '@angular/fire';\nimport { AngularFirestoreModule } from '@angular/fire/firestore';\nimport { AngularFireStorageModule } from '@angular/fire/storage';\nimport { environment } from '../environments/environment';\nimport { TagsComponent } from './tags/tags.component';\nimport { MatListModule } from '@angular/material/list';\nimport { MatButtonModule } from '@angular/material/button';\nimport { AppRoutingModule } from './/app-routing.module';\nimport { FormsModule } from '@angular/forms';\nimport { MatInputModule } from '@angular/material/input';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { MatDividerModule } from '@angular/material/divider';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatIconModule } from '@angular/material/icon';\nimport { TagDetailComponent } from './tag-detail/tag-detail.component';\nimport { TagRegistrationComponent } from './tag-registration/tag-registration.component';\nimport { TagRegSmsComponent } from './tag-reg-sms/tag-reg-sms.component';\nimport { AuthService } from './auth.service';\nimport { AngularFireAuthModule } from 'angularfire2/auth';\nimport { NavBarComponent } from './nav-bar/nav-bar.component';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { LandingComponent } from './landing/landing.component';\nimport { MatGridListModule } from '@angular/material/grid-list';\nimport { LoginComponent } from './login/login.component';\nimport { SmsConfirmationComponent } from './sms-confirmation/sms-confirmation.component';\nimport { UserProfileComponent } from './user-profile/user-profile.component';\nimport { TagService } from './tag.service';\nimport { MatExpansionModule } from '@angular/material/expansion';\nimport { DatePipe } from '@angular/common';\nimport { AboutComponent } from './about/about.component';\nimport { ProfileUpdateComponent } from './profile-update/profile-update.component';\nimport { MatPaginatorModule } from '@angular/material/paginator';\nimport { MatDatepickerModule } from '@angular/material/datepicker';\nimport { MatNativeDateModule } from '@angular/material';\nimport { RiderService } from './rider.service';\nimport { RideComponent } from './ride/ride.component';\nimport { ClockService } from './clock.service';\nimport { MatTableModule } from '@angular/material/table';\nimport { RideDetailComponent } from './ride-detail/ride-detail.component';\nimport { DashboardComponent } from './dashboard/dashboard.component';\nimport { GravatarModule } from 'ngx-gravatar';\nimport { ImagesService } from './images.service';\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\nimport { GetstartedComponent } from './getstarted/getstarted.component';\nimport { VgCoreModule } from 'videogular2/core';\nimport { VgControlsModule } from 'videogular2/controls';\nimport { VgOverlayPlayModule } from 'videogular2/overlay-play';\nimport { VgBufferingModule } from 'videogular2/buffering';\nimport { MatCardModule } from '@angular/material/card';\nimport { EthcontractService } from './ethereum/ethcontract.service';\nimport { EthereumModule } from './ethereum/ethereum.module';\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle';\nimport { HttpClientModule, HttpBackend } from '@angular/common/http';\nimport { CustExtBrowserXhr } from './cust-ext-browser-xhr';\nimport { ClipboardModule } from 'ngx-clipboard';\nimport { ZXingScannerModule } from '@zxing/ngx-scanner';\nimport { UsePointsComponent } from './use-points/use-points.component';\nimport { MatSliderModule } from '@angular/material/slider';\nimport { TransactionService } from './transaction.service';\nimport { TnxDetailComponent } from './tnx-detail/tnx-detail.component';\nimport { QrcodeDialogComponent } from './qrcode-dialog/qrcode-dialog.component';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { NgxKjuaModule } from 'ngx-kjua';\nimport { MatRippleModule } from '@angular/material/core';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { HeaderComponent } from './header/header.component';\nimport { UserTagsComponent } from './user-tags/user-tags.component';\nimport { UserTnxComponent } from './user-tnx/user-tnx.component';\nimport { ShoppingComponent } from './shopping/shopping.component';\nimport { OrderService } from './order.service';\nimport { ItemComponent } from './item/item.component';\nimport { ItemDialogComponent } from './item-dialog/item-dialog.component';\nimport { ShoppingResultComponent } from './shopping-result/shopping-result.component';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\n\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    TagsComponent,\n    TagDetailComponent,\n    TagRegistrationComponent,\n    TagRegSmsComponent,\n    NavBarComponent,\n    LandingComponent,\n    LoginComponent,\n    SmsConfirmationComponent,\n    UserProfileComponent,\n    AboutComponent,\n    ProfileUpdateComponent,\n    RideComponent,\n    RideDetailComponent,\n    DashboardComponent,\n    GetstartedComponent,\n    UsePointsComponent,\n    TnxDetailComponent,\n    QrcodeDialogComponent,\n    HeaderComponent,\n    UserTagsComponent,\n    UserTnxComponent,\n    ShoppingComponent,\n    ItemComponent,\n    ItemDialogComponent,\n    ShoppingResultComponent,\n  ],\n  entryComponents: [\n    QrcodeDialogComponent,\n    ItemDialogComponent\n  ],\n  imports: [\n    BrowserModule,\n    BrowserAnimationsModule,\n    AngularFireModule.initializeApp(environment.firebase),\n    AngularFirestoreModule,\n    AngularFireStorageModule,\n    MatListModule,\n    MatButtonModule,\n    AppRoutingModule,\n    FormsModule,\n    MatInputModule,\n    MatDividerModule,\n    MatSelectModule,\n    MatIconModule,\n    AngularFireAuthModule,\n    MatMenuModule,\n    MatGridListModule,\n    MatExpansionModule,\n    MatPaginatorModule,\n    MatDatepickerModule,\n    MatNativeDateModule,\n    MatTableModule,\n    GravatarModule,\n    MatProgressBarModule,\n    VgCoreModule,\n    VgBufferingModule,\n    VgControlsModule,\n    VgOverlayPlayModule,\n    MatCardModule,\n    EthereumModule,\n    MatSlideToggleModule,\n    HttpClientModule,\n    ClipboardModule,\n    ZXingScannerModule,\n    MatSliderModule,\n    MatDialogModule,\n    NgxKjuaModule,\n    MatRippleModule,\n    FlexLayoutModule,\n    MatProgressSpinnerModule\n  ],\n  providers: [\n    AngularFirestoreModule,\n    AngularFireAuthModule,\n    AuthService,\n    TagService,\n    DatePipe,\n    RiderService,\n    ClockService,\n    ImagesService,\n    EthcontractService,\n    TransactionService,\n    OrderService,\n    { provide: HttpBackend, useClass: CustExtBrowserXhr },\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Injectable } from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport * as firebase from 'firebase/app';\nimport { Observable, of  } from 'rxjs';\n\n@Injectable()\nexport class AuthService {\n  private user: Observable<firebase.User>;\n  private confirmation: firebase.auth.ConfirmationResult;\n  private userDetails: firebase.User = null;\n\n  constructor(private _firebaseAuth: AngularFireAuth, private router: Router) {\n      this.user = _firebaseAuth.authState;\n\n      this.user.subscribe((user) => {\n        if (user) {\n          this.userDetails = user;\n          console.log(`AuthService: constructor: userDetails:`);\n          console.log(this.userDetails);\n        } else {\n          this.userDetails = null;\n        }\n      }\n    );\n  }\n\n  getUser(): Observable<firebase.User> {\n    return this.user;\n  }\n\n  signInWithPhoneNumber(phoneNumber: string, appVerifier: any, cb: Function) {\n    this._firebaseAuth.auth.signInWithPhoneNumber(phoneNumber, appVerifier)\n      .then(confirmationResult => {\n        this.confirmation = confirmationResult; // make a copy\n        console.log(`AuthService: signInWithPhoneNumber: confirmation object`);\n        console.log(this.confirmation);\n\n        cb(null, confirmationResult);\n      })\n      .catch(error => {\n        console.error(`AuthService: signInWithPhoneNumber: ${error}`);\n        cb(error, null);\n      });\n  }\n\n  getConfirmation(code: string, cb: Function) {\n    if (!this.confirmation) {\n      const errMsg = 'AuthSevice: error: the confirmationResult object is missing';\n      console.error(errMsg);\n      cb(errMsg, null);\n    } else {\n      // check confirmation\n      this.confirmation.confirm(code)\n        .then(result => { this.user = of(result.user); cb(null, result.user); })\n        .catch(error => cb(error, null));\n    }\n  }\n\n  authenticated(): boolean {\n    if (this.userDetails == null ) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  getUID(): string | null {\n    if (this.userDetails == null ) {\n      return null;\n    } else {\n      return this.userDetails.uid;\n    }\n  }\n\n  logout(): void {\n    this._firebaseAuth.auth.signOut().then(() => {\n      // Sign-out successful.\n      console.log(`AuthService: sing out`);\n      this.router.navigate(['/']);\n    }).catch((error) => {\n      console.error(`AuthService: error: ${error}`);\n    });\n  }\n\n  getUserPhone(): string | null {\n    if (!this.userDetails) {\n      return null;\n    } else {\n      return this.userDetails.phoneNumber;\n    }\n  }\n\n  getUserName(): string | null {\n    if (!this.userDetails) {\n      return null;\n    } else {\n      return this.userDetails.displayName;\n    }\n  }\n\n  getUserEmail(): string | null {\n    if (!this.userDetails) {\n      return null;\n    } else {\n      return this.userDetails.email;\n    }\n  }\n\n  getUserPhotoURL(): string | null {\n    if (!this.userDetails) {\n      return null;\n    } else {\n      return this.userDetails.photoURL;\n    }\n  }\n\n  updateProfileCB(username: string, photoURL: string, cb: Function): void {\n    const user = this._firebaseAuth.auth.currentUser;\n    user.updateProfile({ displayName: username, photoURL: photoURL })\n      .then(() => cb(null))\n      .catch((error) => cb(error));\n  }\n\n  updateEmailCB(email: string, cb: Function): void {\n    const user = this._firebaseAuth.auth.currentUser;\n    user.updateEmail(email)\n      .then(() => cb(null))\n      .catch((error) => cb(error));\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ClockService {\n  private clock: Observable<Date>;\n  private timeoutId;\n\n  constructor() {\n    this.clock = new Observable(obsever => {\n      this.timeoutId = setTimeout(() => {\n        obsever.next(new Date);\n        return {unsubscribe() {\n          clearTimeout(this.timeoutId);\n        }};\n      }, 100);\n    });\n  }\n  getClock(): Observable<Date> {\n    return this.clock;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpXhrBackend, HttpRequest, HttpEvent, XhrFactory } from '@angular/common/http';\nimport { Observable } from 'rxjs';\n\n@Injectable()\nexport class CustExtBrowserXhr extends HttpXhrBackend {\n    constructor(xhrFactory: XhrFactory) {\n        super(xhrFactory);\n    }\n    handle(req: HttpRequest<any>): Observable<HttpEvent<any>> {\n        const event = super.handle(req);\n        req.headers.set('Access-Control-Allow-Origin', '*');\n        return event;\n      }\n}\n","module.exports = \"table {\\n    width: 100%;\\n  }\\n\\n.mat-cell .mat-icon {\\n    -webkit-transform: scale(0.6);\\n            transform: scale(0.6);\\n}\"","module.exports = \"<app-header [back]=\\\"true\\\" [title]=\\\"'Dashboard'\\\" [reload]=\\\"true\\\" [parent]=\\\"'dashboard'\\\"></app-header>\\n\\n<div *ngIf=\\\"rides\\\">\\n  <table *ngIf=\\\"rides.length>0\\\" mat-table [dataSource]=\\\"rides | slice:start:end\\\" class=\\\"mat-elevation-z8\\\">\\n    <!-- Position Column -->\\n    <ng-container matColumnDef=\\\"position\\\">\\n      <th mat-header-cell *matHeaderCellDef> No. </th>\\n      <td mat-cell *matCellDef=\\\"let element; let i = index;\\\"> {{i+1}} </td>\\n    </ng-container>\\n\\n    <ng-container matColumnDef=\\\"avatar\\\">\\n        <th mat-header-cell *matHeaderCellDef></th>\\n        <td mat-cell *matCellDef=\\\"let element\\\"><img *ngIf=\\\"element.rider && element.rider.avatar\\\" ngxGravatar size=\\\"30\\\" [fallback]=\\\"'monsterid'\\\" [src]=\\\"element.rider.avatar\\\"></td>\\n      </ng-container>\\n\\n    <ng-container matColumnDef=\\\"nikname\\\">\\n      <th mat-header-cell *matHeaderCellDef> Rider </th>\\n      <td mat-cell *matCellDef=\\\"let element\\\"> {{element.rider?element.rider.nikname:\\\"N/A\\\"}}</td>\\n    </ng-container>\\n    \\n    <ng-container matColumnDef=\\\"date\\\">\\n      <th mat-header-cell *matHeaderCellDef> Date </th>\\n      <td mat-cell *matCellDef=\\\"let element\\\"> {{element.start|date:\\\"dd-MM-yyyy\\\"}}</td>\\n    </ng-container>\\n    \\n    <ng-container matColumnDef=\\\"start\\\">\\n      <th mat-header-cell *matHeaderCellDef> Start </th>\\n      <td mat-cell *matCellDef=\\\"let element\\\"> {{element.start|date:\\\"HH:mm\\\"}}</td>\\n    </ng-container>\\n    \\n    <ng-container matColumnDef=\\\"finish\\\">\\n      <th mat-header-cell *matHeaderCellDef> Finish </th>\\n      <td mat-cell *matCellDef=\\\"let element\\\"> {{element.finish|date:\\\"HH:mm:ss\\\"}}</td>\\n    </ng-container>\\n      \\n    <ng-container matColumnDef=\\\"time\\\">\\n      <th mat-header-cell *matHeaderCellDef> Time </th>\\n      <td mat-cell *matCellDef=\\\"let element\\\"> {{(element.finish-element.start)|date:\\\"HH:mm:ss\\\":\\\"+00\\\"}} </td>\\n    </ng-container>\\n    \\n    <ng-container matColumnDef=\\\"link\\\">\\n      <th mat-header-cell *matHeaderCellDef> Details </th>\\n      <td mat-cell *matCellDef=\\\"let element\\\"> <button (click)=\\\"gotoRide(element.id)\\\" mat-icon-button> <mat-icon>call_made</mat-icon></button> </td>\\n    </ng-container>\\n      \\n    <tr mat-header-row *matHeaderRowDef=\\\"displayedColumns\\\"></tr>\\n    <tr mat-row *matRowDef=\\\"let row; columns: displayedColumns;\\\"></tr>\\n  </table>\\n  <br>\\n      \\n  <mat-paginator *ngIf=\\\"rides.length>0\\\" [length]=\\\"rides.length\\\"\\n                [pageSize]=\\\"10\\\"\\n                [pageSizeOptions]=\\\"[1, 5, 10, 25, 100]\\\"\\n                (page)=\\\"setPage($event)\\\">\\n  </mat-paginator>\\n</div>\\n\"","import { Component, OnInit, OnDestroy, AfterViewInit, NgZone } from '@angular/core';\nimport { Router, ActivatedRoute, ParamMap } from '@angular/router';\nimport { Location } from '@angular/common';\nimport { TagService } from '../tag.service';\nimport { AuthService } from '../auth.service';\nimport { RiderService } from '../rider.service';\nimport { RideService } from '../ride.service';\nimport { Rider, Bike} from '../rider';\nimport { Ride } from '../ride';\nimport { Tag } from '../tag';\nimport { PageEvent } from '@angular/material';\nimport { DatePipe } from '@angular/common';\nimport { Subscription, Observable, timer } from 'rxjs';\nimport { Parameters, RideParameters } from '../parameters';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.css'],\n  providers: [RideParameters]\n})\nexport class DashboardComponent implements OnInit, OnDestroy {\n  rides: Ride[];\n  start: number;\n  end: number;\n\n  sub: Subscription;\n\n  displayedColumns: string[] = ['position', 'avatar', 'nikname',  'start', 'time', 'link'];\n\n  constructor(\n    private zone: NgZone,\n    private tagService: TagService,\n    private authService: AuthService,\n    private route: ActivatedRoute,\n    private router: Router,\n    private riderService: RiderService,\n    private rideService: RideService,\n    private datePipe: DatePipe,\n    private location: Location,\n    private param: RideParameters\n    ) { console.log(this.param); }\n\n  ngOnInit() {\n    this.start = 0;\n    this.end = 10;\n    this.getRides();\n  }\n\n  ngOnDestroy() {\n    this.sub.unsubscribe();\n  }\n\n  setPage(e: PageEvent): void {\n    console.log(e);\n    const { pageIndex, pageSize } = e;\n    this.start = pageIndex * pageSize;\n    this.end = this.start + pageSize;\n  }\n\n  update(): void {\n    this.rideService.setOrder('time');\n  }\n\n  gotoBack(): void {\n    this.location.back();\n  }\n\n  getRides(): void {\n    this.sub = this.rideService.getRides()\n      .subscribe(rides => this.rides = rides);\n  }\n\n  gotoRide(id: number): void {\n    this.router.navigate([`/ride/${id}`]);\n  }\n\n}\n","import { Injectable, Inject } from '@angular/core';\nimport { TransactionService } from '../transaction.service';\nimport { Transaction } from '../transaction';\n\nimport { WEB3 } from './tokens';\nimport Web3 from 'web3';\n\n\nimport { Observable, bindNodeCallback, of } from 'rxjs';\nimport { map, tap, catchError } from 'rxjs/operators';\n\ndeclare function require(url: string);\ndeclare let window: any;\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class EthcontractService {\n\n  readonly ethHdWallet = require('eth-hd-wallet');\n  readonly TokenLoyalty = require('./build/contracts/TokenLoyalty.json');\n  readonly TokenContainer = require('./build/contracts/TokenContainer.json');\n  readonly TokenPool = require('./build/contracts/TokenPool.json');\n\n  private mnemonic: string;\n  private wallet: any;\n  private contract: any;\n  private accounts: string[];\n  private container: any;\n  private pool: any;\n\n  constructor(@Inject(WEB3) private web3: Web3, private transactions: TransactionService) {\n    const { generateMnemonic, EthHdWallet } = this.ethHdWallet;\n\n    this.mnemonic = 'dish hip orange move divert opera primary sketch empty pistol car boil';\n    this.wallet = EthHdWallet.fromMnemonic(this.mnemonic);\n    this.accounts = this.wallet.generateAddresses(2);\n\n    this.contract = new web3.eth.Contract(\n      this.TokenLoyalty.abi,\n      this.TokenLoyalty.networks['4'].address,\n      {from: this.accounts[0]}\n      );\n\n    this.container = new web3.eth.Contract(\n      this.TokenContainer.abi,\n      this.TokenContainer.networks['4'].address,\n      {from: this.accounts[0]}\n      );\n\n    this.pool = new web3.eth.Contract(\n      this.TokenPool.abi,\n      this.TokenPool.networks['4'].address,\n      {from: this.accounts[0]}\n    );\n\n    if (typeof this.contract !== 'undefined') {\n      console.log(`EthcontractService: TokenLoyalty contract is here ${this.contract.options.address}`);\n    }\n\n    if (typeof this.container !== 'undefined') {\n      console.log(`EthcontractService: TokenContainer contract is here ${this.container.options.address}`);\n    }\n\n    if (typeof this.pool !== 'undefined') {\n      console.log(`EthcontractService: TokenPool contract is here ${this.pool.options.address}`);\n    }\n\n    console.log(this.accounts);\n    console.log(this.mnemonic);\n  }\n\n  alife() {\n    if (typeof this.web3 !== 'undefined') {\n      console.log('EthcontractService: web3 is here');\n    } else {\n      console.error('EthcontractService: web3 is not injected');\n    }\n  }\n\n  getAccounts(): Observable<string[]> {\n    return of(this.accounts);\n  }\n\n  getMnemonic(): Observable<string> {\n    return of(this.mnemonic);\n  }\n\n  getBalance(): Observable<any[] | Error> {\n    console.log('getBalance');\n    return bindNodeCallback(this.contract.methods.getBalance().call)({from: this.accounts[0], gasPrice: '8000000000', gas: '1000000'});\n  }\n\n  getAccountBalance(account: string | null): Observable<string[]> {\n    const acc = account ? account : this.accounts[0];\n    console.log(`getAccountBalance: ${acc}`);\n    return bindNodeCallback(this.web3.eth.getBalance)(acc);\n  }\n\n  getAccountNonce(account: string | null): Observable<any[]> {\n    const acc = account ? account : this.accounts[0];\n    console.log(`getAccountBalance: ${acc}`);\n    return bindNodeCallback(this.web3.eth.getTransactionCount)(acc);\n  }\n\n  getTokenBalance(account: string | null): Observable<string[]> {\n    const acc = account ? account : this.accounts[0];\n    console.log(`getTokenBalance: ${acc}`);\n    return bindNodeCallback(this.container.methods.balanceOf(acc).call)({from: this.accounts[0], gasPrice: '8000000000', gas: '1000000'});\n  }\n\n  getTokenIds(): Observable<any[]> {\n    // tslint:disable-next-line:max-line-length\n    return bindNodeCallback(this.container.methods.tokensOfOwner(this.accounts[0]).call)({from: this.accounts[0], gasPrice: '8000000000', gas: '1000000'});\n  }\n\n  transfer(account: string): void {\n    // get token id\n    this.getTokenIds().subscribe(result => {\n      console.log('Token ID :' + result[0]);\n      const id = result[0];\n      const data = this.container.methods.transfer(account, id).encodeABI();\n      console.log('Data: ' + data);\n      // get account nonce\n      this.getAccountNonce(null).subscribe(nonce => {\n        console.log(`Nonce ${nonce}`);\n        const rawTx = this.wallet.signTransaction({\n          from: this.accounts[0],\n          to: this.container.options.address,\n          value: 0x0,\n          nonce: nonce,\n          gasPrice: 80000000000,\n          gasLimit: 1000000,\n          chainId: 4,\n          data: data,\n        });\n        console.log(rawTx);\n        this.web3.eth.sendSignedTransaction(rawTx)\n          .on('receipt', (receipt) => {\n            const tnx: Transaction = {\n              from: this.accounts[0],\n              to: this.container.options.address,\n              value: 0x0,\n              nonce: +nonce,\n              chainId: 4,\n              points: 1,\n              hash: receipt.transactionHash,\n              block: receipt.blockNumber\n            };\n            console.log(receipt);\n            console.log(tnx);\n            this.transactions.addTransaction(tnx);\n          })\n          .on('error', console.error);\n\n      });\n    });\n\n  }\n\n}\n","import { NgModule, ModuleWithProviders, Type, Optional } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n// Web3\nimport { WEB3 } from './tokens';\n\ndeclare function require(url: string);\n\nconst Web3 = require('web3');\n\n// Services\nimport { EthcontractService } from './ethcontract.service';\n\n@NgModule({\n imports: [CommonModule],\n declarations: [],\n providers: [ EthcontractService , {\n         provide: WEB3,\n         useFactory: () => new Web3('https://us-central1-cloud-firestore-test-d95bf.cloudfunctions.net/proxy')\n  }]\n})\nexport class EthereumModule {}\n","import { InjectionToken } from '@angular/core';\nimport Web3 from 'web3';\nexport const WEB3 = new InjectionToken<Web3>('web3');\n","module.exports = \".home-intro-section {\\n    background: url('bike.png') no-repeat center center;\\n    background-size: cover;\\n    padding: 180px 0;\\n    color: #ffffff;\\n    overflow: hidden;\\n  }\\n  \\n  .home-footer-section {\\n    height: 20px;\\n    background-color: #010020;\\n    color: #ffffff;\\n  }\\n  \\n  .get-started {\\n    width: 270px;\\n    height: 48px;\\n    opacity: 0.4;\\n    border-radius: 24px;\\n    font-size: 16px;\\n    border-color: aqua;\\n    box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.5);\\n    color: #ffffff;\\n    background-color: #010020;\\n  }\\n  \\n  .footer-info {\\n    font-size: 9px;\\n    color: gray;\\n  }\\n  \\n  .home-intro-section-small {\\n    background: url('bike-small.png') no-repeat center center;\\n    background-size: cover;\\n    padding: 180px 0;\\n    color: #ffffff;\\n    overflow: hidden;\\n  }\\n  \\n  \\n  \"","module.exports = \"<div fxLayout=\\\"column\\\">\\n  <div fxLayout=\\\"raw\\\" \\n         fxLayout.lt-md=\\\"column\\\" \\n         fxLayoutAlign=\\\"space-around center\\\" \\n         id=\\\"intro-section\\\" \\n         class = \\\"home-intro-section\\\"\\n         [ngClass.md]=\\\"['home-intro-section']\\\" \\n         [ngClass.sm]=\\\"['home-intro-section-small']\\\"\\n         [ngClass.xs]=\\\"['home-intro-section-small']\\\">\\n         <div fxHide.lt-md></div>\\n         <div fxLayout=\\\"column\\\" fxLayoutAlign=\\\"space-around center\\\">\\n              <h1>GIRO d'ISEO</h1>\\n              <button [routerLink]=\\\"['/reg']\\\" class=\\\"get-started\\\">New Tag</button><br><br>\\n              <button [routerLink]=\\\"['/ride']\\\" class=\\\"get-started\\\">New Ride</button><br><br>\\n              <button [routerLink]=\\\"['/dashboard']\\\" class=\\\"get-started\\\">Dashboard</button>\\n         </div>\\n         <div></div>\\n  </div>\\n  <div id=\\\"footer-section\\\" fxLayout=\\\"raw\\\" fxLayoutAlign=\\\"space-around center\\\" class=\\\"home-footer-section\\\">\\n         <div class=\\\"footer-info\\\">Giro d'Iseo Web App</div>\\n         <div class=\\\"footer-info\\\">{{version}}</div>\\n         \\n         <div></div>\\n         <div class=\\\"footer-info\\\"> Copyright REGA Risk Sharing 2019</div>\\n  </div>\\n</div>\\n\"","import { Component, OnInit } from '@angular/core';\nimport { Location } from '@angular/common';\nimport { version } from '../../environments/environment';\n\n@Component({\n  selector: 'app-getstarted',\n  templateUrl: './getstarted.component.html',\n  styleUrls: ['./getstarted.component.css']\n})\nexport class GetstartedComponent implements OnInit {\n\n  constructor(private location: Location) { }\n  version: string;\n\n  ngOnInit() {\n    this.version = version;\n  }\n\n  gotoBack(): void {\n    this.location.back();\n  }\n\n}\n","module.exports = \".header-bar {\\n    background-color: #010020;\\n    color: #ffffff;\\n}\\n\\n.header-btn {\\n    color: #ffffff;\\n}\\n\\n.header-title {\\n    color: #ffffff;\\n}\"","module.exports = \"<div fxLayout=\\\"row\\\" fxLayoutWrap=\\\"wrap\\\" fxLayoutAlign=\\\"start center\\\"  class=\\\"header-bar\\\">\\n\\n    <div fxFlex=\\\"2\\\"></div>\\n    <div fxFlex=\\\"8\\\">\\n        <button *ngIf=\\\"back\\\" (click)=\\\"gotoBack()\\\" class=\\\"header-btn\\\" mat-icon-button>\\n            <mat-icon>arrow_back_ios</mat-icon>\\n        </button>\\n    </div>\\n\\n    <div fxFlex=\\\"35\\\"></div>\\n    <div fxFlex=\\\"10\\\"><h3 class=\\\"header-title\\\">{{title}}</h3></div>\\n    <div fxFlex=\\\"35\\\"></div>\\n\\n    <div fxFlex=\\\"8\\\">\\n        <button *ngIf=\\\"reload\\\" (click)=\\\"doReload()\\\" class=\\\"header-btn\\\" mat-icon-button>\\n            <mat-icon>autorenew</mat-icon>\\n        </button>\\n        <span *ngIf=\\\"subtitle\\\" fxHide fxShow.gt-sm><small>{{subtitle}}</small></span>\\n    </div>\\n    <div fxFlex=\\\"2\\\"></div>\\n</div>\\n\\n\"","import { Component, OnInit, Input } from '@angular/core';\nimport { Location } from '@angular/common';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.css']\n})\nexport class HeaderComponent implements OnInit {\n  @Input() back: boolean;\n  @Input() reload: boolean;\n  @Input() title: string;\n  @Input() parent: string;\n  @Input() subtitle: string;\n  constructor(private location: Location, private router: Router) { }\n\n  ngOnInit() {\n\n  }\n\n  gotoBack(): void {\n    this.location.back();\n  }\n\n  doReload(): void {\n    this.router.navigateByUrl('/about', { skipLocationChange: true })\n      .then(() => this.router.navigate([this.parent]))\n      .catch(console.error);\n  }\n\n\n}\n","import { Injectable } from '@angular/core';\nimport { AngularFireStorage, AngularFireUploadTask } from '@angular/fire/storage';\nimport { Router } from '@angular/router';\n\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport * as firebase from 'firebase/app';\nimport { Observable, of  } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ImagesService {\n  private storageRef: firebase.storage.Reference;\n  private imagesRef: firebase.storage.Reference;\n\n  constructor(private storage: AngularFireStorage) {}\n\n  uploadAvatar(id: string, avatar: File): AngularFireUploadTask {\n    // create full path to the file with id as subdirectory\n    const filePath = `${id}/images/${avatar.name}`;\n    const ref = this.storage.ref(filePath);\n    // upload and return task\n    return this.storage.upload(filePath, avatar);\n  }\n}\n","module.exports = \"\"","module.exports = \"<div fxLayout=\\\"column\\\">\\n\\n  <div fxLayout=\\\"row\\\" fxLayoutWrap=\\\"wrap\\\" fxLayoutAlign=\\\"start center\\\">\\n      <div fxFlex=\\\"100\\\">\\n        <br><br>\\n      </div>\\n  </div>\\n\\n  <div fxLayout=\\\"row\\\" fxLayoutWrap=\\\"wrap\\\" fxLayoutAlign=\\\"start center\\\">\\n      <div fxFlex=\\\"100\\\">\\n          <mat-form-field>\\n              <input matInput name=\\\"itemid\\\" type=\\\"text\\\" placeholder=\\\"Enter item ID\\\" required minlenght=\\\"8\\\" [(ngModel)]=\\\"data.id\\\">\\n          </mat-form-field>\\n      </div>\\n  </div>\\n\\n  <div fxLayout=\\\"row\\\" fxLayoutWrap=\\\"wrap\\\" fxLayoutAlign=\\\"start center\\\">\\n      <div fxFlex=\\\"100\\\">\\n        <br><br>\\n      </div>\\n  </div>\\n\\n  <div fxLayout=\\\"row\\\" fxLayoutWrap=\\\"wrap\\\" fxLayoutAlign=\\\"start center\\\">\\n      <div fxFlex=\\\"40\\\" mat-dialog-actions>\\n          <button mat-raised-button color=\\\"primary\\\" mat-button [disabled]=\\\"!data.id\\\" [mat-dialog-close]=\\\"data.id\\\" cdkFocusInitial>Ok</button>\\n      </div>\\n      <div fxFlex=\\\"20\\\" mat-dialog-actions></div>\\n      <div fxFlex=\\\"40\\\" mat-dialog-actions>\\n          <button mat-raised-button color=\\\"warn\\\" mat-button (click)=\\\"onNoClick()\\\">Cancel</button>\\n      </div>\\n          \\n     \\n  </div>\\n  \\n</div>\\n\"","import { Component, OnInit, Inject } from '@angular/core';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\n\nexport interface ItemDialogData {\n  id: string;\n  scan: boolean;\n}\n\n@Component({\n  selector: 'app-item-dialog',\n  templateUrl: './item-dialog.component.html',\n  styleUrls: ['./item-dialog.component.css']\n})\nexport class ItemDialogComponent implements OnInit {\n\n  itemId: string;\n\n  constructor(\n    public dialogRef: MatDialogRef<ItemDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: ItemDialogData) {\n      this.data.id = '';\n      this.data.scan = true;\n    }\n\n  ngOnInit() {\n  }\n\n  onNoClick(): void {\n    this.dialogRef.close();\n  }\n\n}\n","module.exports = \"\"","module.exports = \"<app-header *ngIf=\\\"!scanning\\\" [back]=\\\"true\\\" [title]=\\\"'Item'\\\"></app-header>\\n\\n<div *ngIf=\\\"!scanning\\\" fxLayout=\\\"column\\\">\\n    <div *ngIf=\\\"loading\\\" fxFlex=\\\"100\\\"><br><br><br><br><br><br></div>\\n    <div *ngIf=\\\"loading\\\" fxLayout=\\\"row\\\" fxLayoutWrap=\\\"wrap\\\" fxLayoutAlign=\\\"start center\\\">\\n        <div fxFlex=\\\"40\\\"></div><div fxFlex=\\\"20\\\"><h2>Loading...</h2></div><div fxFlex=\\\"40\\\"></div>\\n    </div>\\n\\n    <div *ngIf=\\\"!loading\\\" fxFlex=\\\"100\\\"><br></div>\\n    <div *ngIf=\\\"!loading\\\" fxLayout=\\\"row\\\" fxLayoutWrap=\\\"wrap\\\" fxLayoutAlign=\\\"start center\\\">\\n        <div fxFlex=\\\"2\\\"></div>\\n        <div fxFlex=\\\"88\\\">{{schemaProductName}}</div>\\n\\n        <div fxFlex=\\\"8\\\">\\n          <button (click)=\\\"addItem()\\\" mat-icon-button>\\n              <mat-icon>add_circle_outline</mat-icon>\\n          </button>\\n        </div>\\n        <div fxFlex=\\\"2\\\"></div>\\n    </div>\\n\\n    <div *ngIf=\\\"!loading\\\" fxLayout=\\\"row\\\" fxLayoutWrap=\\\"wrap\\\" fxLayoutAlign=\\\"start center\\\">\\n        <div fxFlex=\\\"2\\\"></div>\\n        <div fxFlex=\\\"88\\\">{{schemaProductId}}</div>\\n        <div fxFlex=\\\"8\\\">\\n            <button (click)=\\\"plusOne()\\\" mat-icon-button>\\n                <mat-icon>expand_less</mat-icon>\\n            </button>\\n          </div>\\n          <div fxFlex=\\\"2\\\"></div>\\n    </div>\\n\\n    <div *ngIf=\\\"!loading\\\" fxLayout=\\\"row\\\" fxLayoutWrap=\\\"wrap\\\" fxLayoutAlign=\\\"start center\\\">\\n        <div fxFlex=\\\"2\\\"></div>\\n        <div fxFlex=\\\"45\\\" [innerHTML]=\\\"schemaProductPrice\\\"></div>\\n        <div fxFlex=\\\"8\\\">{{itemQty}}</div>\\n        <div fxFlex=\\\"35\\\"></div>\\n        \\n        <div fxFlex=\\\"8\\\">\\n            <button (click)=\\\"minusOne()\\\" mat-icon-button>\\n                <mat-icon>expand_more</mat-icon>\\n            </button>\\n          </div>\\n          <div fxFlex=\\\"2\\\"></div>\\n    </div>\\n\\n    \\n\\n\\n    <div *ngIf=\\\"!loading\\\" fxLayout=\\\"row\\\" fxLayoutWrap=\\\"wrap\\\" fxLayoutAlign=\\\"start center\\\">\\n        <div fxFlex=\\\"100\\\">\\n            <img *ngIf=\\\"!loading\\\" [src]=\\\"schemaProductImg\\\">\\n        </div>\\n        \\n    </div>\\n</div>\\n\\n\\n<div *ngIf=\\\"scanning\\\" fxLayout=\\\"row\\\" fxLayoutWrap=\\\"wrap\\\" fxLayoutAlign=\\\"start center\\\">\\n\\n    <div fxFlex=\\\"2\\\"></div>\\n    <div fxFlex=\\\"8\\\">\\n        <button (click)=\\\"getItemId()\\\" mat-icon-button>\\n            <mat-icon>add_circle_outline</mat-icon>\\n        </button>\\n    </div>\\n\\n    <div fxFlex=\\\"35\\\"></div>\\n    <div fxFlex=\\\"10\\\"><h4>Scan</h4></div>\\n    <div fxFlex=\\\"35\\\"></div>\\n\\n    <div fxFlex=\\\"8\\\">\\n        <button (click)=\\\"close()\\\" mat-icon-button>\\n            <mat-icon>close</mat-icon>\\n          </button>\\n    </div>\\n    <div fxFlex=\\\"2\\\"></div>\\n</div>\\n\\n\\n<zxing-scanner [formats]=\\\"['QR_CODE', 'EAN_13', 'CODE_128', 'CODABAR', 'UPC_A', 'UPC_E', 'UPC_EAN_EXTENSION', 'CODE_39', 'ITF']\\\" *ngIf=\\\"scanning\\\" #scanner (camerasFound)=\\\"camerasFoundHandler($event)\\\" (scanComplete)=\\\"scanCompleteHandler($event)\\\"></zxing-scanner>\\n\"","import { Component, OnInit, Output, ViewChild } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Location } from '@angular/common';\nimport { AuthService } from '../auth.service';\nimport { Observable } from 'rxjs';\nimport { Order, Item, ORDERSTATUS } from '../order';\nimport { ZXingScannerComponent } from '@zxing/ngx-scanner';\nimport { Result } from '@zxing/library';\nimport { HttpClient } from '@angular/common/http';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport { ItemDialogComponent, ItemDialogData } from '../item-dialog/item-dialog.component';\nimport { OrderService } from '../order.service';\n\n@Component({\n  selector: 'app-item',\n  templateUrl: './item.component.html',\n  styleUrls: ['./item.component.css']\n})\nexport class ItemComponent implements OnInit {\n  @Output() item: Item;\n  @ViewChild('scanner') scanner: ZXingScannerComponent;\n\n  scanning: boolean;\n  loading: boolean;\n  qr_code: string;\n  invalid: boolean;\n  id: string;\n  url: string;\n  index: number;\n  schemaProductId: string;\n  schemaProductName: string;\n  schemaProductImg: string;\n  schemaProductPrice: string;\n  itemQty: number;\n  price: number;\n  ref: string;\n  order: Order;\n\n  constructor(\n    private location: Location,\n    private route: ActivatedRoute,\n    private http: HttpClient,\n    public dialog: MatDialog,\n    private orderService: OrderService\n    ) { }\n\n  loadItem(): void {\n    this.url = `https://us-central1-cloud-firestore-test-d95bf.cloudfunctions.net/snitch?id=${this.id}`;\n      this.http.get(this.url, { responseType: 'text' }).subscribe((res: string) => {\n        const parser = new DOMParser();\n        const doc = parser.parseFromString(res, 'text/html');\n        this.schemaProductId = doc.getElementById('schemaProductId').innerHTML;\n        this.schemaProductName = doc.getElementById('schemaProductName').innerHTML;\n        this.schemaProductImg = doc.getElementById('schemaProductImg').innerHTML;\n        this.schemaProductPrice = doc.getElementById('schemaProductPrice').innerHTML;\n        this.price = parseInt(doc.getElementById('schemaProductPrice').getAttribute('content'), 10);\n        this.loading = false;\n        this.itemQty = 1;\n        this.item = {\n          id: this.id,\n          code: this.schemaProductId,\n          name: this.schemaProductName,\n          img: this.schemaProductImg,\n          price: this.price,\n          priceTag: this.schemaProductPrice,\n          currency: 'RUB',\n          qty: 1\n        };\n      });\n  }\n\n  findItem(): void {\n    if (!this.order) { return; }\n    if (!this.order.items) { return; }\n\n    let index = -1;\n    for (let i = 0; i < this.order.items.length; i++) {\n      if (this.order.items[i].id === this.id) {\n        index = i;\n        break;\n      }\n    }\n\n    if (index >= 0) {\n      console.log(`Item is found on index: ${index}`);\n      this.index = index;\n    }\n  }\n\n  showItemByIndex(): void {\n    if (this.index < 0) { return; }\n    if (!this.order) { return; }\n    if (!this.order.items) { return; }\n    if (this.index >= this.order.items.length) { return; }\n    this.schemaProductId = this.order.items[this.index].code;\n    this.schemaProductImg = this.order.items[this.index].img;\n    this.schemaProductName = this.order.items[this.index].name;\n    this.price = this.order.items[this.index].price;\n    this.schemaProductPrice = this.order.items[this.index].priceTag;\n    this.itemQty = this.order.items[this.index].qty;\n    this.loading = false;\n  }\n\n  ngOnInit() {\n    this.id = this.route.snapshot.paramMap.get('id');\n    this.ref = this.route.snapshot.paramMap.get('ref');\n    this.index = -1;\n    this.invalid = false;\n    this.qr_code = '';\n    this.url = '';\n    this.loading = true;\n    this.itemQty = 0;\n\n    if (this.id === 'NEW') {\n      this.scanning = true;\n    } else {\n      this.scanning = false;\n    }\n\n    if (this.ref) {\n      this.orderService.getOrderByRef(this.ref).subscribe((res) => {\n        if (res.length > 0) {\n          this.order = res[0];\n        } else {\n          this.order = null;\n        }\n        if (this.id !== 'NEW') {\n          this.findItem();\n          this.showItemByIndex();\n        }\n      });\n    } else {\n      if (this.id !== 'NEW') {\n        this.loadItem();\n      }\n    }\n  }\n\n  getItemId(): void {\n    const data: ItemDialogData = {\n      id: 'NEW',\n      scan: false\n    };\n    const dialogRef = this.dialog.open(ItemDialogComponent, {\n      width: '250px',\n      height: '250px',\n      data\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      console.log('The Item Dialog was closed');\n      this.id = result;\n      if (this.id === '') {\n        this.scanning = true;\n      } else {\n        this.scanning = false;\n        this.loadItem();\n      }\n    });\n  }\n\n  camerasFoundHandler(event) {\n    this.scanner.scan(event[0].deviceId);\n  }\n\n  scanCompleteHandler(event) {\n    this.scanning = false;\n    console.log(event);\n    if (event instanceof Result) {\n      this.qr_code = event.getText();\n      this.id = this.qr_code.slice(0, 8);\n      this.loadItem();\n      console.log('Item URL: ' + this.url);\n    } else {\n      console.error('Scanner error');\n    }\n  }\n\n  close(): void {\n    this.scanning = false;\n  }\n\n  addItem(): void {\n    if (this.ref && this.order) {\n      if (this.schemaProductId) {\n\n        const item: Item = {\n          id: this.id,\n          code: this.schemaProductId,\n          name: this.schemaProductName,\n          qty: this.itemQty,\n          currency: 'RUB',\n          priceTag: this.schemaProductPrice,\n          price: this.price,\n          img: this.schemaProductImg\n        };\n\n        if (this.index >= 0) {\n          if (this.order.items) {\n            if (this.index < this.order.items.length) {\n              this.order.items[this.index] = item;\n            }\n          }\n        } else {\n          this.order.items.push(item);\n        }\n\n        this.orderService.updateOrder(this.order);\n        this.location.back();\n      }\n    }\n  }\n\n  plusOne(): void {\n    this.itemQty += 1;\n  }\n\n  minusOne(): void {\n    this.itemQty = this.itemQty > 1 ? this.itemQty - 1 : 1;\n  }\n\n}\n","module.exports = \".home-intro-section {\\n  background: url('bike.png') no-repeat center center;\\n  background-size: cover;\\n  padding: 180px 0;\\n  color: #ffffff;\\n  overflow: hidden;\\n}\\n\\n.home-footer-section {\\n  height: 20px;\\n  background-color: #010020;\\n  color: #ffffff;\\n}\\n\\n.get-started {\\n  width: 270px;\\n  height: 48px;\\n  opacity: 0.4;\\n  border-radius: 24px;\\n  font-size: 16px;\\n  border-color: aqua;\\n  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.5);\\n  color: #ffffff;\\n  background-color: #010020;\\n}\\n\\n.footer-info {\\n  font-size: 9px;\\n  color: gray;\\n}\\n\\n.home-intro-section-small {\\n  background: url('bike-small.png') no-repeat center center;\\n  background-size: cover;\\n  padding: 180px 0;\\n  color: #ffffff;\\n  overflow: hidden;\\n}\\n\\n\\n\"","module.exports = \"<div fxLayout=\\\"column\\\">\\n       <div fxLayout=\\\"raw\\\" \\n              fxLayout.lt-md=\\\"column\\\" \\n              fxLayoutAlign=\\\"space-around center\\\" \\n              id=\\\"intro-section\\\" \\n              class = \\\"home-intro-section\\\"\\n              [ngClass.md]=\\\"['home-intro-section']\\\" \\n              [ngClass.sm]=\\\"['home-intro-section-small']\\\"\\n              [ngClass.xs]=\\\"['home-intro-section-small']\\\">\\n              <div fxHide.lt-md></div>\\n              <div><img [routerLink]=\\\"['/getstarted']\\\" src=\\\"../../assets/group-6.png\\\" src.xs=\\\"../../assets/group-6-small.png\\\"></div>\\n              <div fxLayout=\\\"column\\\" fxLayoutAlign.lt-md=\\\"space-around center\\\">\\n                     <h1>GIRO d'ISEO</h1>\\n                     \\n                     <h3><span fxFlex.lt-md=\\\"30px\\\" fxFlex=\\\"0\\\"></span>Ride around Iseo lake, earning points<br>\\n                     and use them to buy local goods and services</h3>\\n              \\n                     \\n                     <button [routerLink]=\\\"['/getstarted']\\\" class=\\\"get-started\\\">Get Started</button>\\n              </div>\\n              <div></div>\\n       </div>\\n       <div id=\\\"footer-section\\\" fxLayout=\\\"raw\\\" fxLayoutAlign=\\\"space-around center\\\" class=\\\"home-footer-section\\\">\\n              <div class=\\\"footer-info\\\">GIRO d'ISEO Web App</div>\\n              <div class=\\\"footer-info\\\">{{version}}</div>\\n              \\n              <div></div>\\n              <div class=\\\"footer-info\\\"> Copyright REGA Risk Sharing 2019</div>\\n       </div>\\n</div>\\n\\n  \\n\\n\\n\\n\\n\"","import { Component, OnInit, NgZone } from '@angular/core';\nimport { EthcontractService } from '../ethereum/ethcontract.service';\nimport { version } from '../../environments/environment';\n\n@Component({\n  selector: 'app-landing',\n  templateUrl: './landing.component.html',\n  styleUrls: ['./landing.component.css']\n})\nexport class LandingComponent implements OnInit {\n  version: string;\n\n\n  constructor() {\n  }\n\n  ngOnInit() {\n    this.version = version;\n  }\n\n}\n","module.exports = \"\"","module.exports = \"<app-header [title]=\\\"'User login'\\\"></app-header>\\n\\n<form class=\\\"example-form\\\">\\n\\n  <mat-grid-list cols=\\\"3\\\" rowHeight=\\\"3em\\\">\\n\\n    <mat-grid-tile [rowspan]=\\\"3\\\" [colspan]=\\\"3\\\">\\n      <mat-form-field>\\n        <input matInput name=\\\"mobile\\\" type=\\\"text\\\" placeholder=\\\"Enter mobile\\\" required minlenght=\\\"7\\\" [(ngModel)]=\\\"mobile\\\">\\n        <mat-hint align=\\\"start\\\">Example: <strong>+16505551234</strong> </mat-hint>\\n      </mat-form-field>\\n    </mat-grid-tile>\\n\\n    <mat-grid-tile [colspan]=\\\"3\\\">\\n      {{msg}}\\n    </mat-grid-tile>\\n\\n    <mat-grid-tile>\\n      <button mat-raised-button color=\\\"primary\\\" [disabled]=\\\"!mobile || progress\\\" (click)=\\\"login($event)\\\">Login</button>\\n    </mat-grid-tile>\\n\\n    <mat-grid-tile>\\n\\n    </mat-grid-tile>\\n\\n    <mat-grid-tile>\\n      <button mat-raised-button color=\\\"warn\\\" [disabled]=\\\"!mobile || progress\\\" (click)=\\\"clear()\\\">Clear</button>\\n    </mat-grid-tile>\\n  \\n    <mat-grid-tile [colspan]=\\\"3\\\">\\n    </mat-grid-tile>\\n\\n  </mat-grid-list>\\n</form>\\n\\n<div id=\\\"recaptcha-container\\\"></div>\\n\"","import { Component, OnInit, AfterViewInit, NgZone } from '@angular/core';\nimport { Router, ActivatedRoute, ParamMap } from '@angular/router';\nimport { TagService } from '../tag.service';\nimport { Tag, Registration } from '../tag';\nimport * as firebase from 'firebase/app';\nimport { AuthService } from '../auth.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent implements OnInit, AfterViewInit {\n  recaptchaVerifier: any;\n  mobile: string;\n  msg: string;\n  progress: boolean;\n  page: string;\n\n  constructor(\n    private zone: NgZone,\n    private tagService: TagService,\n    private authService: AuthService,\n    private route: ActivatedRoute,\n    private router: Router\n    ) { }\n\n  ngAfterViewInit() {\n    // Called after ngAfterContentInit when the component's view has been initialized. Applies to components only.\n    // Add 'implements AfterViewInit' to the class.\n    this.recaptchaVerifier = new firebase.auth.RecaptchaVerifier('recaptcha-container');\n  }\n\n  ngOnInit() {\n    this.page = this.route.snapshot.paramMap.get('page');\n    if (this.page) {\n      console.log('Back to page after login ' + this.page);\n    }\n    this.clear();\n  }\n  clear() {\n    this.mobile = null;\n    this.msg = null;\n    this.progress = false;\n  }\n  login(e: Event) {\n    this.progress = true;\n    e.preventDefault();\n    e.stopPropagation();\n    this.authService.signInWithPhoneNumber(this.mobile, this.recaptchaVerifier, (error, confirmationResult) => {\n      if (error) {\n        // Login error\n        console.error(`LoginComponent: login: ${error}`);\n        this.msg = error;\n        this.progress = false;\n      } else {\n        // I've got a confirmation object, lets go to the SMS confirmation screen\n        // Need to use NgZone.run to go back to Angular zone exec env\n        // tslint:disable-next-line:max-line-length\n        this.zone.run(() => this.page ? this.router.navigate([`/smsconfirm/${this.mobile}/${this.page}`]) : this.router.navigate([`/smsconfirm/${this.mobile}`]))\n          .then(() => console.log('LoginComponent: login: navigated to smsconfirm'))\n          .catch((err) => console.error(err));\n        console.log(`Has confirmation for ${this.mobile}`);\n        console.log(confirmationResult);\n      }\n    });\n  }\n\n}\n","module.exports = \".nav-bar {\\n    background-color: #010020;\\n    color: #ffffff;\\n}\\n\\n.hometop-btn {\\n    color: #ffffff;\\n}\"","module.exports = \" <div fxLayout=\\\"row\\\" fxLayoutWrap=\\\"wrap\\\" fxLayoutAlign=\\\"start center\\\"  class=\\\"nav-bar\\\">\\n\\n    <div fxFlex.gt-sm=\\\"2\\\" fxFlex=\\\"5\\\"></div>\\n    <div fxFlex.gt-sm=\\\"8\\\" fxFlex=\\\"20\\\" (click)=\\\"gotoHome()\\\">\\n      <img  src=\\\"../assets/group-6-logo.png\\\">\\n    </div>\\n\\n    <div fxLayout=\\\"row\\\" fxFlex.gt-sm=\\\"80\\\" fxFlex=\\\"22\\\">\\n        <div fxFlex=\\\"10\\\" fxHide fxShow.gt-sm></div>\\n        <button fxHide fxShow.gt-sm class=\\\"hometop-btn\\\" mat-menu-item (click)=\\\"gotoHome()\\\">Home</button>\\n        <button fxHide fxShow.gt-sm class=\\\"hometop-btn\\\" mat-menu-item (click)=\\\"gotoRide()\\\">Ride</button>\\n        <button fxHide fxShow.gt-sm class=\\\"hometop-btn\\\" mat-menu-item (click)=\\\"gotoDashboard()\\\">Dashboard</button>\\n        <button fxHide fxShow.gt-sm class=\\\"hometop-btn\\\" mat-menu-item (click)=\\\"gotoTags()\\\">Tag list</button>\\n        <button fxHide fxShow.gt-sm class=\\\"hometop-btn\\\" mat-menu-item (click)=\\\"gotoAbout()\\\">About</button>\\n        <button fxHide fxShow.gt-sm class=\\\"hometop-btn\\\" mat-menu-item (click)=\\\"gotoShopping()\\\">Shopping</button>\\n        <button fxHide fxShow.gt-sm class=\\\"hometop-btn\\\" (click)=\\\"logout()\\\" mat-menu-item>{{authenticated()?\\\"Logout\\\":\\\"Login\\\"}}</button>\\n        <div fxFlex=\\\"10\\\" fxHide fxShow.gt-sm></div>\\n    </div>\\n\\n    <div fxFlex.gt-sm=\\\"10\\\" fxFlex=\\\"43\\\">\\n        <button (click)=\\\"gotoReg()\\\" mat-icon-button>\\n            <mat-icon>{{authenticated()?\\\"account_circle\\\":\\\"add_circle_outline\\\"}}</mat-icon>\\n        </button>\\n    </div>\\n\\n    <div fxHide.gt-sm fxFlex.gt-sm=\\\"0\\\" fxFlex=\\\"5\\\">\\n        <button mat-icon-button [matMenuTriggerFor]=\\\"menu\\\">\\n            <mat-icon>more_vert</mat-icon>\\n        </button>\\n        <mat-menu #menu=\\\"matMenu\\\">\\n            <button mat-menu-item (click)=\\\"gotoHome()\\\">Home</button>\\n            <button mat-menu-item (click)=\\\"gotoRide()\\\">Ride</button>\\n            <button mat-menu-item (click)=\\\"gotoDashboard()\\\">Dashboard</button>\\n            <button mat-menu-item (click)=\\\"gotoTags()\\\">Tag list</button>\\n            <button mat-menu-item (click)=\\\"gotoAbout()\\\">About</button>\\n            <button mat-menu-item (click)=\\\"gotoShopping()\\\">Shopping</button>\\n            <button (click)=\\\"logout()\\\" mat-menu-item>{{authenticated()?\\\"Logout\\\":\\\"Login\\\"}}</button>\\n        </mat-menu>\\n    </div>\\n    <div fxHide.gt-sm fxFlex.gt-sm=\\\"0\\\" fxFlex=\\\"5\\\"></div>\\n</div>\\n\\n\"","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { AuthService } from '../auth.service';\nimport { Router } from '@angular/router';\nimport { Rider } from '../rider';\nimport { RiderService } from '../rider.service';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-nav-bar',\n  templateUrl: './nav-bar.component.html',\n  styleUrls: ['./nav-bar.component.css']\n})\nexport class NavBarComponent implements OnInit, OnDestroy {\n  loginIcon: string;\n  rider: Rider;\n  nikname: string;\n  rider_subs: Subscription;\n  user_subs: Subscription;\n  mobile: string;\n\n  constructor(private authService: AuthService, private router: Router, private riderService: RiderService) { }\n\n  ngOnInit() {\n    this.user_subs = this.authService.getUser().subscribe((user) => {\n      if (user) {\n        this.mobile = user.phoneNumber;\n        this.getRider();\n      } else {\n        this.mobile = null;\n        this.nikname = null;\n      }\n    });\n    if (this.authService.authenticated()) {\n      this.loginIcon = 'account_circle';\n    } else {\n      this.mobile = null;\n      this.nikname = null;\n      this.loginIcon = 'add_circle_outline';\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.rider_subs) { this.rider_subs.unsubscribe(); }\n  }\n\n  getRider(): void {\n    this.rider_subs = this.riderService.getRiderByMobile(this.mobile)\n    .subscribe(riders => {\n      if (riders) {\n        if (riders.length > 0) {\n          console.log('navbar');\n          console.log(riders[0]);\n          this.rider = riders[0];\n          this.nikname = this.rider.nikname;\n        }\n      }\n     });\n  }\n\n  authenticated(): boolean {\n    return this.authService.authenticated();\n  }\n\n  logout(): void {\n    if (this.authenticated()) {\n      this.authService.logout();\n    } else {\n      this.router.navigate(['/login']);\n    }\n  }\n\n  gotoTags(): void {\n    this.router.navigate(['/tags']);\n  }\n\n  gotoRide(): void {\n    this.router.navigate(['/ride']);\n  }\n\n  gotoAbout(): void {\n    this.router.navigate(['/about']);\n  }\n\n  gotoDashboard(): void {\n    this.router.navigate(['/dashboard']);\n  }\n\n  gotoShopping(): void {\n    this.router.navigate(['/shopping']);\n  }\n\n  gotoReg(): void {\n    if (this.authenticated()) {\n      this.router.navigate(['/profile']);\n    } else {\n      this.router.navigate(['/reg']);\n    }\n  }\n\n  gotoHome(): void {\n    this.router.navigate(['/']);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { Observable, BehaviorSubject, combineLatest  } from 'rxjs';\nimport { switchMap } from 'rxjs/operators';\nimport { Order, ORDERSTATUS } from './order';\nimport { DatePipe } from '@angular/common';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class OrderService {\n  db: AngularFirestore;\n\n  orders: Observable<Order[]>;\n  order: Observable<Order[]>;\n  clientOrders: Observable<Order[]>;\n\n  number$: BehaviorSubject<number|null>;\n  start$: BehaviorSubject<string|null>;\n  order$: BehaviorSubject<string|null>;\n  where$: BehaviorSubject<string|null>;\n  client$: BehaviorSubject<string|null>;\n  status$: BehaviorSubject<string|null>;\n\n  constructor(private datePipe: DatePipe, db: AngularFirestore) {\n    this.db = db;\n    this.number$ = new BehaviorSubject(1000);\n    this.start$ = new BehaviorSubject(null);\n    this.order$ = new BehaviorSubject('ref');\n    this.orders = combineLatest(this.number$, this.start$, this.order$).pipe(\n      switchMap(([num, start, order]) =>\n        db.collection<Order>('orders', ref => {\n        let query: firebase.firestore.CollectionReference | firebase.firestore.Query = ref;\n        query = query.where('status', '==', ORDERSTATUS.CLOSED);\n        if (num) { query = query.limit(num); }\n        if (order) { query = query.orderBy(order); if (start) { query = query.startAt(start); } }\n        return query;\n        }).valueChanges()\n    ));\n\n    this.where$ = new BehaviorSubject(null);\n    this.order = combineLatest(this.where$).pipe(\n      switchMap(([where]) =>\n        db.collection<Order>('orders', ref => {\n        let query: firebase.firestore.CollectionReference | firebase.firestore.Query = ref;\n        if (where) { query = query.where('ref', '==', where); }\n        query = query.limit(1);\n        return query;\n        }).valueChanges()\n    ));\n\n    this.client$ = new BehaviorSubject(null);\n    this.status$ = new BehaviorSubject(null);\n    this.clientOrders = combineLatest(this.client$, this.status$).pipe(\n      switchMap(([client, status]) =>\n        db.collection<Order>('orders', ref => {\n        let query: firebase.firestore.CollectionReference | firebase.firestore.Query = ref;\n        query = query.where('client', '==', client);\n        if (status) { query = query.where('status', '==', status); }\n        query = query.orderBy('ref');\n        return query;\n        }).valueChanges()\n    ));\n  }\n\n  getOrders(): Observable<Order[]> {\n    return this.orders;\n  }\n\n  setNumber(num: number|null) {\n    this.number$.next(num);\n  }\n\n  setStart(start: string|null) {\n    this.start$.next(start);\n  }\n\n  setOrder(order: string|null) {\n    this.order$.next(order);\n  }\n\n  getOrderByRef(ref: string): Observable<Order[]> {\n    this.where$.next(ref);\n    return this.order;\n  }\n\n  getClientOrders(client: string): Observable<Order[]> {\n    this.client$.next(client);\n    return this.clientOrders;\n  }\n\n  getClientCurrentOrder(client: string): Observable<Order[]> {\n    this.client$.next(client);\n    this.status$.next(ORDERSTATUS.NEW);\n    return this.clientOrders;\n  }\n\n  newOrder(client: string): Order | null {\n    const timestamp = new Date();\n    const ref = Math.floor( Math.random() * 100000000 );\n    const date = this.datePipe.transform(timestamp, 'dd-MM-yy');\n    const order: Order = {\n      ref: `${date}-${ref}`,\n      date: date,\n      status: ORDERSTATUS.NEW,\n      client: client,\n      items: [],\n      total: 0\n    };\n    this.db.collection('orders').add(order)\n      .then(() => order )\n      .catch(console.error);\n    return order;\n  }\n\n  updateOrder(order: Order): void {\n    this.db.collection('orders').ref.where('ref', '==', order.ref)\n      .get()\n        .then((querySnapshot) => {\n          if (querySnapshot.empty) {\n            console.error('Order not found');\n          } else {\n            const doc = querySnapshot.docs[0];\n            this.db.collection('orders').doc(doc.id).update(order)\n              .catch(console.error);\n          }\n        });\n  }\n}\n","export const ORDERSTATUS = {\n    NEW: 'new',\n    OPEN: 'open',\n    CLOSED: 'closed'\n};\n\nexport class Item {\n    id: string;\n    code: string;\n    name: string;\n    img: string;\n    price: number;\n    priceTag: string;\n    currency: string;\n    qty: number;\n}\n\nexport class Order {\n    ref: string;\n    date: string;\n    status: string;\n    client: string;\n    items?: Item[];\n    total?: number;\n}\n","export class RideParameters {\n    mintime: number = 1000 * 6;\n    maxtime: number = 1000 * 60 * 60 * 3;\n}\n\nexport class Parameters {\n    ride: RideParameters;\n}\n","module.exports = \"input[type=\\\"file\\\"] {\\n    display: none;\\n}\\n.custom-file-upload {\\n        border: 1px solid #ccc;\\n        display: inline-block;\\n        padding: 6px 12px;\\n        cursor: pointer;\\n}\\n.mat-progress-bar {\\n    width: 50px;\\n}\"","module.exports = \"<app-header [title]=\\\"'Update'\\\"></app-header>\\n<mat-grid-list cols=\\\"3\\\" rowHeight=\\\"3em\\\">\\n    <mat-grid-tile [colspan]=\\\"3\\\">\\n    </mat-grid-tile>\\n\\n    <mat-grid-tile [colspan]=\\\"3\\\">\\n        <label for=\\\"file-upload\\\">\\n            <img ngxGravatar size=\\\"44\\\" [fallback]=\\\"'monsterid'\\\" [md5Hash]=\\\"hash\\\" [src]=\\\"avatarURL()\\\">\\n          <input id=\\\"file-upload\\\" type=\\\"file\\\" (change)=\\\"handleFileInput($event.target.files)\\\"/>\\n        </label>\\n    </mat-grid-tile>\\n\\n    <mat-grid-tile>\\n    </mat-grid-tile>\\n\\n    <mat-grid-tile>\\n      <mat-progress-bar *ngIf=\\\"avatar\\\" mode=\\\"determinate\\\" value=\\\"uploadPercent | async\\\"></mat-progress-bar>\\n    </mat-grid-tile>\\n\\n    <mat-grid-tile>\\n        <mat-icon *ngIf=\\\"updates.avatar\\\">check_circle_outline</mat-icon>\\n    </mat-grid-tile>\\n    \\n</mat-grid-list>\\n\\n<form class=\\\"example-form\\\">\\n\\n  <mat-grid-list cols=\\\"3\\\" rowHeight=\\\"3em\\\">\\n\\n    <mat-grid-tile [rowspan]=\\\"2\\\" [colspan]=\\\"2\\\">\\n      <mat-form-field>\\n        <input matInput name=\\\"username\\\" type=\\\"text\\\" placeholder=\\\"Enter name\\\" required [(ngModel)]=\\\"username\\\">\\n        <mat-hint align=\\\"start\\\">Example: <strong>John Smith</strong> </mat-hint>\\n      </mat-form-field>\\n    </mat-grid-tile>\\n\\n    <mat-grid-tile [rowspan]=\\\"2\\\">\\n      <mat-icon *ngIf=\\\"updates.username\\\">check_circle_outline</mat-icon>\\n    </mat-grid-tile>\\n\\n    <mat-grid-tile [rowspan]=\\\"2\\\" [colspan]=\\\"2\\\">\\n      <mat-form-field>\\n        <input matInput name=\\\"email\\\" type=\\\"text\\\" placeholder=\\\"Enter email\\\" [(ngModel)]=\\\"email\\\">\\n        <mat-hint align=\\\"start\\\">Example: <strong>smith.john@gmail.com</strong> </mat-hint>\\n      </mat-form-field>\\n    </mat-grid-tile>\\n\\n    <mat-grid-tile [rowspan]=\\\"2\\\">\\n      <mat-icon *ngIf=\\\"updates.email\\\">check_circle_outline</mat-icon>\\n    </mat-grid-tile>\\n\\n    <mat-grid-tile [rowspan]=\\\"2\\\" [colspan]=\\\"2\\\">\\n        <mat-form-field>\\n          <input matInput name=\\\"nikname\\\" type=\\\"text\\\" placeholder=\\\"Enter nikname\\\" [(ngModel)]=\\\"nikname\\\">\\n          <mat-hint align=\\\"start\\\">Example: <strong>Colnago Rider</strong> </mat-hint>\\n        </mat-form-field>\\n      </mat-grid-tile>\\n  \\n      <mat-grid-tile [rowspan]=\\\"2\\\">\\n        <mat-icon *ngIf=\\\"updates.nikname\\\">check_circle_outline</mat-icon>\\n      </mat-grid-tile>\\n\\n      <mat-grid-tile  [colspan]=\\\"2\\\">\\n              <mat-slide-toggle\\n              name=\\\"wallet\\\"\\n              [(ngModel)]=\\\"checked\\\"\\n              [checked]=\\\"checked\\\"\\n              [disabled]=\\\"disabled\\\">\\n            Generate a new wallet\\n          </mat-slide-toggle>\\n        </mat-grid-tile>\\n    \\n        <mat-grid-tile>\\n          <mat-icon *ngIf=\\\"updates.wallet\\\">check_circle_outline</mat-icon>\\n        </mat-grid-tile>\\n\\n    <mat-grid-tile [rowspan]=\\\"2\\\" [colspan]=\\\"3\\\">\\n      {{msg}}\\n    </mat-grid-tile>\\n\\n    <mat-grid-tile>\\n        <button mat-raised-button color=\\\"primary\\\" [disabled]=\\\"!username || progress\\\" (click)=\\\"update($event)\\\">Update</button>\\n    </mat-grid-tile>\\n\\n    <mat-grid-tile>\\n\\n    </mat-grid-tile>\\n\\n    <mat-grid-tile>\\n        <button mat-raised-button color=\\\"warn\\\" [disabled]=\\\"progress\\\" (click)=\\\"cancel()\\\">Cancel</button>\\n    </mat-grid-tile>\\n  \\n    <mat-grid-tile [colspan]=\\\"3\\\">\\n    </mat-grid-tile>\\n\\n  </mat-grid-list>\\n</form>\\n\"","import { Component, OnInit, AfterViewInit, NgZone } from '@angular/core';\nimport { AngularFireStorage, AngularFireUploadTask } from '@angular/fire/storage';\nimport { Router, ActivatedRoute, ParamMap } from '@angular/router';\nimport { TagService } from '../tag.service';\nimport { AuthService } from '../auth.service';\nimport { RiderService } from '../rider.service';\nimport { Rider, Bike} from '../rider';\nimport { ImagesService } from '../images.service';\nimport { Observable, Subscription } from 'rxjs';\nimport { Observer } from 'firebase';\nimport { finalize } from 'rxjs/operators';\nimport { Wallet } from '../wallet';\nimport { EthcontractService } from '../ethereum/ethcontract.service';\n\n@Component({\n  selector: 'app-profile-update',\n  templateUrl: './profile-update.component.html',\n  styleUrls: ['./profile-update.component.css']\n})\nexport class ProfileUpdateComponent implements OnInit {\n  rider: Rider;\n  mobile: string;\n  username: string;\n  nikname: string;\n  avatar: string;\n  email: string;\n  msg: string;\n  progress: boolean;\n  hash: string;\n  uploadPercent: Observable<number>;\n  downloadURL: Observable<string>;\n  percentage: number;\n  wallet: Wallet;\n  checked: boolean;\n  disabled: boolean;\n  updates: {\n    username: boolean,\n    email: boolean,\n    nikname: boolean,\n    rider: boolean,\n    newrider: boolean,\n    avatar: boolean,\n    wallet: boolean\n  };\n\n\n  constructor(\n    private zone: NgZone,\n    private tagService: TagService,\n    private authService: AuthService,\n    private route: ActivatedRoute,\n    private router: Router,\n    private riderService: RiderService,\n    private imagesService: ImagesService,\n    private storage: AngularFireStorage,\n    private contractService: EthcontractService\n    ) { }\n\n  ngOnInit() {\n    this.clear();\n    this.riderService.getRiderByMobile(this.authService.getUserPhone())\n      .subscribe(riders => {\n        if (riders) {\n          if (riders.length > 0) {\n            this.rider = riders[0];\n            this.nikname = this.rider.nikname;\n            this.hash = this.rider.id;\n            if (this.rider.wallet) {\n              this.disabled = true;\n              this.wallet = this.rider.wallet;\n            } else {\n              this.wallet.id = this.hash;\n            }\n          }\n        }\n       });\n      this.contractService.getMnemonic().subscribe((mnemonic) => {\n        this.wallet.mnemonic = mnemonic;\n        console.log(`get mnemonic: ${this.wallet.mnemonic}`);\n        this.contractService.getAccounts().subscribe((accounts) => {\n          this.wallet.accounts = accounts;\n          console.log(`get accounts`);\n          console.log(this.wallet.accounts);\n        });\n      });\n  }\n\n  avatarURL(): string |null {\n    if (this.avatar) {\n      return this.avatar;\n    }\n    if (this.rider) {\n      return this.rider.avatar;\n    }\n  }\n\n  clear() {\n    this.mobile = this.authService.getUserPhone();\n    this.username = this.authService.getUserName();\n    this.email = this.authService.getUserEmail();\n    this.progress = false;\n    this.msg = null;\n    this.avatar = null;\n    this.percentage = 0;\n    this.checked = false;\n    this.disabled = false;\n    this.wallet = { id: null, accounts: [], mnemonic: null};\n    this.updates = {username: false, email: false, nikname: false, rider: false, newrider: false, avatar: false, wallet: false};\n  }\n\n  update(e: Event) {\n    this.progress = true;\n    e.preventDefault();\n    e.stopPropagation();\n    if (this.username) {\n      this.authService.updateProfileCB(this.username, null, (err) => {\n        if (err) {\n          this.msg = err;\n          this.progress = false;\n          this.updates.username = false;\n          console.log(`ProfileUpdateComponent: update: ${err}`);\n        } else {\n          this.progress = false;\n          this.updates.username = true;\n          this.msg = 'Profile is updated';\n        }\n      });\n    }\n    if (this.email) {\n      this.authService.updateEmailCB(this.email, (err) => {\n        if (err) {\n          this.msg = err;\n          this.progress = false;\n          this.updates.email = false;\n          console.log(`ProfileUpdateComponent: update: ${err}`);\n        } else {\n          this.progress = false;\n          this.updates.email = true;\n          this.msg = 'Profile is updated';\n        }\n      });\n    }\n    if (this.nikname) {\n      if (this.rider) {\n        this.rider.nikname = this.nikname;\n        this.updates.rider = true;\n      } else {\n        this.rider = { id: this.authService.getUID(), mobile: this.mobile, nikname: this.nikname };\n        this.updates.rider = true;\n        this.updates.newrider = true;\n      }\n    }\n    if (this.avatar) {\n      if (this.rider) {\n        this.rider.avatar = this.avatar;\n        this.updates.avatar = true;\n      } else {\n        this.rider = { id: this.authService.getUID(), mobile: this.mobile, nikname: this.nikname, avatar: this.avatar };\n        this.updates.rider = true;\n        this.updates.newrider = true;\n      }\n    }\n    console.log('Check this out!!');\n    if (this.checked && !this.rider.wallet) {\n      console.log(`generate wallet`);\n      console.log(this.wallet);\n      // generate new wallet\n      if (this.rider) {\n        this.rider.wallet = this.wallet;\n        this.updates.wallet = true;\n      } else {\n        // tslint:disable-next-line:max-line-length\n        this.rider = { id: this.authService.getUID(), mobile: this.mobile, nikname: this.nikname, avatar: this.avatar, wallet: this.wallet };\n        this.updates.rider = true;\n        this.updates.newrider = true;\n      }\n    }\n    if (this.updates.rider) {\n      if (this.updates.newrider) {\n        this.riderService.addNewRiderCB(this.rider, (err, ref) => {\n          if (err) {\n            this.msg = err;\n            this.progress = false;\n          } else {\n            this.progress = false;\n            this.updates.rider = true;\n            this.updates.newrider = false;\n            if (this.nikname) {\n              this.updates.nikname = true;\n            }\n            if (this.avatar) {\n              this.updates.avatar = true;\n            }\n            if (this.checked) {\n              this.updates.wallet = true;\n            }\n            this.msg = 'Profile is updated';\n          }\n        });\n      } else {\n        this.riderService.updateRiderByIdCB(this.rider, (err, ref) => {\n          if (err) {\n            this.msg = err;\n            this.progress = false;\n          } else {\n            this.progress = false;\n            this.updates.rider = true;\n            this.updates.newrider = false;\n            if (this.nikname) {\n              this.updates.nikname = true;\n            }\n            if (this.avatar) {\n              this.updates.avatar = true;\n            }\n            if (this.checked) {\n              this.updates.wallet = true;\n            }\n            this.msg = 'Profile is updated';\n          }\n        });\n      }\n    }\n  }\n  cancel() {\n    this.router.navigate([`/profile`]);\n  }\n\n  handleFileInput(files: FileList): void {\n    const file = files[0];\n    const filePath = `${this.authService.getUID()}/images/${file.name}`;\n    const fileRef = this.storage.ref(filePath);\n    const task = this.storage.upload(filePath, file);\n\n    // observe percentage changes\n    this.uploadPercent = task.percentageChanges();\n    // get notified when the download URL is available\n    task.snapshotChanges()\n      .pipe(finalize(() => {\n        this.downloadURL = fileRef.getDownloadURL();\n        this.downloadURL.subscribe(url => this.avatar = url);\n      }))\n      .subscribe();\n  }\n}\n","module.exports = \"\"","module.exports = \"<div mat-dialog-content>\\n    <ngx-kjua\\n    [text]=\\\"qrcode\\\"\\n  ></ngx-kjua>\\n</div>\\n<div mat-dialog-actions>\\n  <button mat-button [mat-dialog-close]=\\\"data.result\\\" cdkFocusInitial>Ok</button>\\n</div>\"","import { Component, OnInit, Inject } from '@angular/core';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\n\nexport interface DialogData {\n  account: string;\n  result: string;\n}\n\n@Component({\n  selector: 'app-qrcode-dialog',\n  templateUrl: './qrcode-dialog.component.html',\n  styleUrls: ['./qrcode-dialog.component.css']\n})\nexport class QrcodeDialogComponent implements OnInit {\n  qrcode: string;\n\n  constructor(\n    public dialogRef: MatDialogRef<QrcodeDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: DialogData) {\n      this.data.result = 'OK';\n      this.qrcode = `ethereum:${this.data.account}`;\n    }\n\n  ngOnInit() {\n  }\n\n  onNoClick(): void {\n    this.dialogRef.close();\n  }\n\n}\n","module.exports = \"\"","module.exports = \"<app-header [title]=\\\"'Rider'\\\" [back]=\\\"true\\\"></app-header>\\n\\n<mat-grid-list *ngIf=\\\"ride; else loading;\\\"cols=\\\"3\\\" rowHeight=\\\"3em\\\">\\n    <mat-grid-tile *ngIf=\\\"ride.rider\\\" [colspan]=\\\"3\\\"></mat-grid-tile>\\n\\n    <mat-grid-tile *ngIf=\\\"ride.rider\\\"></mat-grid-tile>\\n\\n    <mat-grid-tile *ngIf=\\\"ride.rider\\\"><img *ngIf=\\\"ride.rider && ride.rider.avatar\\\" ngxGravatar size=\\\"46\\\" [fallback]=\\\"'monsterid'\\\" [src]=\\\"ride.rider.avatar\\\"></mat-grid-tile>\\n\\n    <mat-grid-tile *ngIf=\\\"ride.rider\\\"></mat-grid-tile>\\n\\n    <mat-grid-tile *ngIf=\\\"ride.rider\\\"></mat-grid-tile>\\n\\n    <mat-grid-tile *ngIf=\\\"ride.rider\\\"><strong>{{ride.rider?ride.rider.nikname:\\\"\\\"}}</strong></mat-grid-tile>\\n\\n    <mat-grid-tile *ngIf=\\\"ride.rider\\\"></mat-grid-tile>\\n\\n    <mat-grid-tile>Date:</mat-grid-tile>\\n\\n    <mat-grid-tile>{{ride.start|date:\\\"dd-MM-yyyy\\\"}}</mat-grid-tile>\\n\\n    <mat-grid-tile></mat-grid-tile>\\n\\n    <mat-grid-tile>Start:</mat-grid-tile>\\n\\n    <mat-grid-tile>{{ride.start|date:\\\"HH:mm:ss\\\"}}</mat-grid-tile>\\n\\n    <mat-grid-tile></mat-grid-tile>\\n\\n    <mat-grid-tile>Finish:</mat-grid-tile>\\n\\n    <mat-grid-tile>{{ride.finish|date:\\\"HH:mm:ss\\\"}}</mat-grid-tile>\\n\\n    <mat-grid-tile></mat-grid-tile>\\n    \\n    <mat-grid-tile>Time:</mat-grid-tile>\\n\\n    <mat-grid-tile>{{(ride.finish-ride.start)|date:\\\"HH:mm:ss\\\":\\\"+00\\\"}}</mat-grid-tile>\\n\\n    <mat-grid-tile></mat-grid-tile>\\n\\n\\n    <mat-grid-tile [colspan]=\\\"3\\\">\\n        <button mat-stroked-button (click)=\\\"gotoTagById(ride.tagid)\\\">{{ride.tagid}}</button>\\n    </mat-grid-tile>\\n\\n    <mat-grid-tile *ngIf=\\\"uid === id\\\" [colspan]=\\\"3\\\">\\n        <button mat-raised-button [disabled]=\\\"progress || !(uid === id)\\\" (click)=\\\"updateRiderInfo()\\\" color=\\\"primary\\\">Update Rider Info</button>\\n    </mat-grid-tile>\\n\\n\\n</mat-grid-list>\\n\"","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Location } from '@angular/common';\nimport { TagService } from '../tag.service';\nimport { Tag, Registration } from '../tag';\nimport { Ride } from '../ride';\nimport { Rider, Bike } from '../rider';\nimport { RideService } from '../ride.service';\nimport { RiderService } from '../rider.service';\nimport { AuthService } from '../auth.service';\nimport { Observable } from 'rxjs';\n\n@Component({\n  selector: 'app-ride-detail',\n  templateUrl: './ride-detail.component.html',\n  styleUrls: ['./ride-detail.component.css']\n})\nexport class RideDetailComponent implements OnInit {\n\n  ride: Ride;\n  riders: Observable<Rider[]>;\n  uid: string;\n  progress: boolean;\n  rider: Rider;\n  id: string;\n\n  constructor(\n    private tagService: TagService,\n    private route: ActivatedRoute,\n    private location: Location,\n    private router: Router,\n    private rideService: RideService,\n    private riderService: RiderService,\n    private authService: AuthService\n    ) {}\n\n  ngOnInit() {\n    this.progress = false;\n    const id = this.route.snapshot.paramMap.get('id');\n    this.rideService.getRideByIdCB(+id, (err, ride) => {\n      if (err) {\n        console.error(`RideDetailComponent: ngOnInit: ride not found ${id}`);\n      } else {\n        this.ride = ride;\n        this.id = ride.rider.id;\n        console.log(this.ride);\n      }\n    });\n    this.authService.getUser().subscribe((user) => {\n      this.uid = user.uid;\n      console.log(this.uid);\n      this.riders = this.riderService.getRiderById(this.uid);\n    });\n  }\n\n  gotoBack(): void {\n    this.location.back();\n  }\n\n  updateRiderInfo() {\n    this.progress = true;\n    this.riders.subscribe((riders) => {\n      if (riders && riders.length > 0) {\n        this.ride.rider = riders[0];\n        this.rideService.updateRideByIdCB(this.ride, (err, ref) => {\n          if (err) {\n            this.progress = false;\n            console.log(`RideDetailComponent: updateRiderInfo: ${err}`);\n          } else {\n            console.log(`RideDetailComponent: updateRiderInfo: rider info updated ${ref}`);\n          }\n        });\n      } else {\n        this.progress = false;\n      }\n    });\n  }\n\n  gotoTagById(id: string): void {\n    this.router.navigate([`/tag/${id}`]);\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { AngularFirestore, AngularFirestoreCollection, QuerySnapshot, CollectionReference } from '@angular/fire/firestore';\nimport { Observable, BehaviorSubject, combineLatest  } from 'rxjs';\nimport { switchMap } from 'rxjs/operators';\nimport { Rider, Bike } from './rider';\nimport { Ride } from './ride';\nimport { DatePipe } from '@angular/common';\nimport { CdkAccordion } from '@angular/cdk/accordion';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RideService {\n  db: AngularFirestore;\n  rides: Observable<Ride[]>;\n  ride: Observable<Ride[]>;\n  tagRides: Observable<Ride[]>;\n  number$: BehaviorSubject<number|null>;\n  start$: BehaviorSubject<string|null>;\n  order$: BehaviorSubject<string|null>;\n  where$: BehaviorSubject<string|null>;\n  tagid$: BehaviorSubject<string|null>;\n\n  constructor(private datePipe: DatePipe, db: AngularFirestore) {\n    this.db = db;\n    this.number$ = new BehaviorSubject(1000);\n    this.start$ = new BehaviorSubject(null);\n    this.order$ = new BehaviorSubject('time');\n    this.rides = combineLatest(this.number$, this.start$, this.order$).pipe(\n      switchMap(([num, start, order]) =>\n        db.collection<Ride>('rides', ref => {\n        let query: firebase.firestore.CollectionReference | firebase.firestore.Query = ref;\n        query = query.where('time', '>', 0);\n        if (num) { query = query.limit(num); }\n        if (order) { query = query.orderBy(order); if (start) { query = query.startAt(start); } }\n        return query;\n        }).valueChanges()\n    ));\n\n    this.where$ = new BehaviorSubject(null);\n    this.ride = combineLatest(this.where$).pipe(\n      switchMap(([where]) =>\n        db.collection<Ride>('rides', ref => {\n        let query: firebase.firestore.CollectionReference | firebase.firestore.Query = ref;\n        if (where) { query = query.where('tagid', '==', where); }\n        query = query.where('open', '==', true);\n        query = query.limit(1);\n        return query;\n        }).valueChanges()\n    ));\n\n    this.tagid$ = new BehaviorSubject(null);\n    this.tagRides = combineLatest(this.tagid$).pipe(\n      switchMap(([tagid]) =>\n        db.collection<Ride>('rides', ref => {\n        let query: firebase.firestore.CollectionReference | firebase.firestore.Query = ref;\n        query = query.where('tagid', '==', tagid);\n        query = query.orderBy('start');\n        return query;\n        }).valueChanges()\n    ));\n  }\n\n  getRides(): Observable<Ride[]> {\n    return this.rides;\n  }\n\n  setNumber(num: number|null) {\n    this.number$.next(num);\n  }\n\n  setStart(start: string|null) {\n    this.start$.next(start);\n  }\n\n  setOrder(order: string|null) {\n    this.order$.next(order);\n  }\n\n  getRideByTagId(tagid: string): Observable<Ride[]> {\n    this.where$.next(tagid);\n    return this.ride;\n  }\n\n  getRideByTagIdCB(tagid: string, cb: Function): void {\n    this.db.collection('rides').ref.where('tagid', '==', tagid)\n      .get()\n        .then(function(querySnapshot) {\n          if (querySnapshot.empty) {\n            cb(null);\n          } else {\n            cb(querySnapshot.docs[0]);\n          }\n        });\n  }\n\n  getRidesByTagId(tagid: string): Observable<Ride[]> {\n    this.tagid$.next(tagid);\n    return this.tagRides;\n  }\n\n  getRidesByTagIdCB(tagid: string, cb: Function): void {\n    this.db.collection('rides').ref.where('tagid', '==', tagid)\n      .get()\n        .then(function(querySnapshot) {\n          if (querySnapshot.empty) {\n            cb(null);\n          } else {\n            cb(querySnapshot.docs);\n          }\n        });\n  }\n\n  addNewRideCB(ride: Ride, cb: Function): void {\n    this.db.collection('rides').add(ride)\n      .then((ref) => cb(null, ref))\n      .catch((err) => cb(err, null));\n  }\n\n  updateRideByRefCB(ref: string, ride: Ride, cb: Function): void {\n    this.db.collection('rides').doc(ref).update(ride)\n      .then(() => cb(null))\n      .catch(err => cb(err));\n  }\n\n  updateRideByIdCB(ride: Ride, cb: Function): void {\n    this.db.collection('rides').ref.where('id', '==', ride.id)\n      .get()\n        .then((querySnapshot) => {\n          if (querySnapshot.empty) {\n            cb('not fount', null);\n          } else {\n            const doc = querySnapshot.docs[0];\n            this.db.collection('rides').doc(doc.id).update(ride)\n              .then(() => cb(null, doc.ref))\n              .catch((err) => cb(err, null));\n          }\n        });\n  }\n\n  getRideByIdCB(id: number, cb: Function): void {\n    this.db.collection('rides').ref.where('id', '==', id)\n      .get()\n        .then((querySnapshot) => {\n          if (querySnapshot.empty) {\n            cb('not fount', null);\n          } else {\n            const doc = querySnapshot.docs[0];\n            cb(null, doc.data());\n          }\n        });\n  }\n\n}\n","module.exports = \"table {\\n    width: 100%;\\n  }\\n\\n  .mat-cell .mat-icon {\\n    -webkit-transform: scale(0.6);\\n            transform: scale(0.6);\\n}\"","module.exports = \"<app-header [title]=\\\"'Ride'\\\" [back]=\\\"true\\\" [subtitle]=\\\"nikname\\\"></app-header>\\n\\n\\n<mat-accordion>\\n      <mat-expansion-panel (opened)=\\\"getTags()\\\">\\n        <mat-expansion-panel-header>\\n          <mat-panel-title>\\n            Tags\\n          </mat-panel-title>\\n          <mat-panel-description>\\n            Select tag to start a ride\\n          </mat-panel-description>\\n        </mat-expansion-panel-header>\\n    \\n        <span *ngFor=\\\"let tag of tags\\\">\\n            <button mat-stroked-button [disabled]=\\\"tagid === tag.id\\\" (click)=\\\"select(tag.id)\\\">{{tag.id}}</button>&nbsp;\\n        </span>\\n    \\n      </mat-expansion-panel>\\n  </mat-accordion>\\n\\n  <mat-grid-list *ngIf=\\\"ride; else loading\\\" cols=\\\"3\\\" rowHeight=\\\"3em\\\">\\n    <mat-grid-tile [colspan]=\\\"3\\\">\\n      <h3>Current Ride</h3>\\n    </mat-grid-tile>\\n  \\n    <mat-grid-tile>\\n      {{ride.start|date:\\\"dd-MM-yyyy\\\"}}\\n    </mat-grid-tile>\\n  \\n    <mat-grid-tile>\\n      {{ride.start|date:\\\"HH:mm:ss\\\"}}\\n    </mat-grid-tile>\\n  \\n    <mat-grid-tile *ngIf=\\\"!ride.finish\\\">\\n      {{timestemp|date:\\\"HH:mm:ss\\\":\\\"+00\\\"}}\\n    </mat-grid-tile>\\n\\n    <mat-grid-tile *ngIf=\\\"ride.finish\\\">\\n        {{(ride.finish-ride.start)|date:\\\"HH:mm:ss\\\":\\\"+00\\\"}}\\n      </mat-grid-tile>\\n  </mat-grid-list>\\n\\n  <mat-grid-list  *ngIf=\\\"rides; else loading\\\" cols=\\\"3\\\" rowHeight=\\\"3em\\\">\\n      \\n      <mat-grid-tile  [rowspan] = \\\"2\\\" [colspan]=\\\"3\\\">\\n        <button *ngIf=\\\"!ride\\\" mat-stroked-button mat-raised-button color=\\\"primary\\\" [disabled]=\\\"progress\\\" (click)=\\\"startRide($event)\\\">Start</button>\\n        <button *ngIf=\\\"ride\\\" mat-stroked-button mat-raised-button color=\\\"warn\\\" [disabled]=\\\"progress || !ride.open\\\" (click)=\\\"finishRide($event)\\\">End</button>\\n      </mat-grid-tile>\\n  </mat-grid-list>\\n  \\n  <div *ngIf=\\\"rides\\\">\\n      <table *ngIf=\\\"rides.length>0\\\" mat-table [dataSource]=\\\"rides | slice:start:end\\\" class=\\\"mat-elevation-z8\\\">\\n\\n          <!--- Note that these columns can be defined in any order.\\n                The actual rendered columns are set as a property on the row definition\\\" -->\\n        \\n          <!-- Position Column -->\\n          <ng-container matColumnDef=\\\"date\\\">\\n              <th mat-header-cell *matHeaderCellDef> Date </th>\\n              <td mat-cell *matCellDef=\\\"let element\\\"> {{element.start|date:\\\"dd-MM-yyyy\\\"}}</td>\\n            </ng-container>\\n\\n          <!-- Position Column -->\\n          <ng-container matColumnDef=\\\"start\\\">\\n            <th mat-header-cell *matHeaderCellDef> Start </th>\\n            <td mat-cell *matCellDef=\\\"let element\\\"> {{element.start|date:\\\"HH:mm:ss\\\"}}</td>\\n          </ng-container>\\n        \\n          <!-- Name Column -->\\n          <ng-container matColumnDef=\\\"finish\\\">\\n            <th mat-header-cell *matHeaderCellDef> Finish </th>\\n            <td mat-cell *matCellDef=\\\"let element\\\"> {{element.finish|date:\\\"HH:mm:ss\\\"}}</td>\\n          </ng-container>\\n        \\n          <!-- Weight Column -->\\n          <ng-container matColumnDef=\\\"time\\\">\\n            <th mat-header-cell *matHeaderCellDef> Time </th>\\n            <td mat-cell *matCellDef=\\\"let element\\\"> {{(element.finish-element.start)|date:\\\"HH:mm:ss\\\":\\\"+00\\\"}} </td>\\n          </ng-container>\\n        \\n          <!-- Weight Column -->\\n          <ng-container matColumnDef=\\\"link\\\">\\n              <th mat-header-cell *matHeaderCellDef> Details </th>\\n              <td mat-cell *matCellDef=\\\"let element\\\"> <button (click)=\\\"gotoRide(element.id)\\\" mat-icon-button> <mat-icon>call_made</mat-icon></button> </td>\\n            </ng-container>\\n        \\n          <tr mat-header-row *matHeaderRowDef=\\\"displayedColumns\\\"></tr>\\n          <tr mat-row *matRowDef=\\\"let row; columns: displayedColumns;\\\"></tr>\\n        </table>\\n        <br>\\n        \\n    <mat-paginator *ngIf=\\\"rides.length>0\\\" [length]=\\\"rides.length\\\"\\n                  [pageSize]=\\\"10\\\"\\n                  [pageSizeOptions]=\\\"[1, 5, 10, 25, 100]\\\"\\n                  (page)=\\\"setPage($event)\\\">\\n    </mat-paginator>\\n  </div>\\n\\n\"","import { Component, OnInit, OnDestroy, AfterViewInit, NgZone } from '@angular/core';\nimport { Router, ActivatedRoute, ParamMap } from '@angular/router';\nimport { Location } from '@angular/common';\nimport { TagService } from '../tag.service';\nimport { AuthService } from '../auth.service';\nimport { RiderService } from '../rider.service';\nimport { RideService } from '../ride.service';\nimport { Rider, Bike} from '../rider';\nimport { Ride } from '../ride';\nimport { Tag } from '../tag';\nimport { PageEvent } from '@angular/material';\nimport { DatePipe } from '@angular/common';\nimport { Subscription, Observable, timer } from 'rxjs';\nimport { Parameters, RideParameters } from '../parameters';\n\n@Component({\n  selector: 'app-ride',\n  templateUrl: './ride.component.html',\n  styleUrls: ['./ride.component.css'],\n  providers: [RideParameters]\n})\nexport class RideComponent implements OnInit, OnDestroy {\n  rider: Rider;\n  rides: Ride[];\n  ride: Ride;\n  tags: Tag[];\n  tagid: string;\n  start: number;\n  end: number;\n  progress: boolean;\n  timestemp: number;\n  hours: number;\n  minutes: number;\n  seconds: number;\n  ref: string;\n  nikname: string;\n  avatar: string;\n\n  displayedColumns: string[] = ['date', 'start', 'finish', 'time', 'link'];\n\n  private timer: Observable<number>;\n  private timer_subs: Subscription;\n  private rides_subs: Subscription;\n  private ride_subs: Subscription;\n  private tags_subs: Subscription;\n  private rider_subs: Subscription;\n\n  constructor(\n    private zone: NgZone,\n    private tagService: TagService,\n    private authService: AuthService,\n    private route: ActivatedRoute,\n    private router: Router,\n    private riderService: RiderService,\n    private rideService: RideService,\n    private datePipe: DatePipe,\n    private location: Location,\n    private param: RideParameters\n    ) { console.log(this.param); }\n\n  ngOnInit() {\n    this.clear();\n    this.getTags();\n    this.getRider();\n  }\n  ngOnDestroy() {\n    if (this.tags_subs) { this.tags_subs.unsubscribe(); }\n    if (this.rides_subs) { this.rides_subs.unsubscribe(); }\n    if (this.ride_subs) { this.ride_subs.unsubscribe(); }\n    if (this.timer_subs) { this.timer_subs.unsubscribe(); }\n    if (this.rider_subs) { this.rider_subs.unsubscribe(); }\n  }\n\n  clear() {\n    this.tagid = null;\n    this.start = 0;\n    this.end = 10;\n    this.progress = false;\n  }\n\n  gotoRide(id: number): void {\n    this.router.navigate([`/ride/${id}`]);\n  }\n\n  getTags(): void {\n    this.tags_subs = this.tagService.getTagsByMobile(this.authService.getUserPhone())\n      .subscribe(tags => this.tags = tags);\n  }\n\n  getRider(): void {\n    this.rider_subs = this.riderService.getRiderByMobile(this.authService.getUserPhone())\n    .subscribe(riders => {\n      if (riders) {\n        if (riders.length > 0) {\n          this.rider = riders[0];\n          this.nikname = this.rider.nikname;\n          this.avatar = this.rider.avatar;\n        }\n      }\n     });\n  }\n\n  getRides(): void {\n    this.rides_subs = this.rideService.getRidesByTagId(this.tagid)\n      .subscribe(rides => this.rides = rides);\n  }\n\n  getRide(): void {\n    this.ride_subs = this.rideService.getRideByTagId(this.tagid)\n      .subscribe(rides => {\n        if (rides.length > 0) {\n          this.ride = rides[0];\n          this.timer = timer(0, 1000);\n          this.timer_subs = this.timer.subscribe(t => {\n            this.timestemp = new Date().getTime() - this.ride.start;\n            this.hours = Math.floor(this.timestemp / 1000 / 60 / 60);\n            this.minutes = Math.floor(this.timestemp / 1000 / 60 );\n            this.seconds = Math.floor(this.timestemp / 1000 );\n          });\n        }\n      });\n  }\n\n  select(tagid: string) {\n    this.tagid = tagid;\n    this.getRides();\n    this.getRide();\n  }\n\n  setPage(e: PageEvent): void {\n    console.log(e);\n    const { pageIndex, pageSize } = e;\n    this.start = pageIndex * pageSize;\n    this.end = this.start + pageSize;\n  }\n\n  startRide(e: Event): void {\n    if (!this.tagid) {\n      return;\n    }\n    this.progress = true;\n    e.preventDefault();\n    e.stopPropagation();\n    const start = new Date().getTime();\n    const tagid = this.tagid;\n    const id = Math.random() * 1000 + start;\n    const open = true;\n    const rider = this.rider;\n    let ride: Ride;\n    if (rider) {\n      ride = { id, tagid, start, open, rider };\n    } else {\n      ride = { id, tagid, start, open };\n    }\n    this.rideService.addNewRideCB(ride, (err, ref) => {\n      if (err) {\n        this.progress = false;\n        console.error(err);\n      } else {\n        this.progress = false;\n        this.getRides();\n      }\n    });\n  }\n\n  finishRide(e: Event): void {\n    this.progress = true;\n    e.preventDefault();\n    e.stopPropagation();\n    const finish = new Date().getTime();\n    this.ride.finish = finish;\n    this.ride.open = false;\n    const time = finish - this.ride.start;\n    if (time > this.param.mintime && time < this.param.maxtime) {\n      this.ride.time = time;\n      console.log(`RideComponent: finishRide: record ride time: ${time}`);\n    } else {\n      this.ride.time = 0;\n      console.log(`RideComponent: finishRide: ride time: ${time} is out of range [${this.param.mintime}, ${this.param.maxtime}]`);\n    }\n    this.rideService.updateRideByIdCB(this.ride, (err, ref) => {\n      if (err) {\n        this.progress = false;\n        console.error(err);\n      } else {\n        this.progress = false;\n        this.getRides();\n      }\n    });\n  }\n\n  gotoBack(): void {\n    this.location.back();\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { AngularFirestore, AngularFirestoreCollection, QuerySnapshot, CollectionReference } from '@angular/fire/firestore';\nimport { Observable, BehaviorSubject, combineLatest  } from 'rxjs';\nimport { switchMap } from 'rxjs/operators';\nimport { Rider, Bike } from './rider';\nimport { DatePipe } from '@angular/common';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RiderService {\n  db: AngularFirestore;\n  riders: Observable<Rider[]>;\n  rider: Observable<Rider[]>;\n  userRider: Observable<Rider[]>;\n  number$: BehaviorSubject<number|null>;\n  start$: BehaviorSubject<string|null>;\n  order$: BehaviorSubject<string|null>;\n  where$: BehaviorSubject<string|null>;\n  mobile$: BehaviorSubject<string|null>;\n\n  constructor(private datePipe: DatePipe, db: AngularFirestore) {\n    this.db = db;\n    this.number$ = new BehaviorSubject(1000);\n    this.start$ = new BehaviorSubject(null);\n    this.order$ = new BehaviorSubject('id');\n    this.riders = combineLatest(this.number$, this.start$, this.order$).pipe(\n      switchMap(([num, start, order]) =>\n        db.collection<Rider>('riders', ref => {\n        let query: firebase.firestore.CollectionReference | firebase.firestore.Query = ref;\n        if (num) { query = query.limit(num); }\n        if (order) { query = query.orderBy(order); if (start) { query = query.startAt(start); } }\n        return query;\n        }).valueChanges()\n    ));\n\n    this.where$ = new BehaviorSubject(null);\n    this.rider = combineLatest(this.where$).pipe(\n      switchMap(([where]) =>\n        db.collection<Rider>('riders', ref => {\n        let query: firebase.firestore.CollectionReference | firebase.firestore.Query = ref;\n        if (where) { query = query.where('id', '==', where); }\n        query = query.limit(1);\n        return query;\n        }).valueChanges()\n    ));\n\n    this.mobile$ = new BehaviorSubject(null);\n    this.userRider = combineLatest(this.mobile$).pipe(\n      switchMap(([mobile]) =>\n        db.collection<Rider>('riders', ref => {\n        let query: firebase.firestore.CollectionReference | firebase.firestore.Query = ref;\n        query = query.where('mobile', '==', mobile);\n        return query;\n        }).valueChanges()\n    ));\n  }\n\n  getRiders(): Observable<Rider[]> {\n    return this.riders;\n  }\n\n  setNumber(num: number|null) {\n    this.number$.next(num);\n  }\n\n  setStart(start: string|null) {\n    this.start$.next(start);\n  }\n\n  setOrder(order: string|null) {\n    this.order$.next(order);\n  }\n\n  getRiderById(id: string): Observable<Rider[]> {\n    this.where$.next(id);\n    return this.rider;\n  }\n\n  getRiderByIdCB(id: string, cb: Function): void {\n    this.db.collection('riders').ref.where('id', '==', id)\n      .get()\n        .then(function(querySnapshot) {\n          if (querySnapshot.empty) {\n            cb(null);\n          } else {\n            cb(querySnapshot.docs[0]);\n          }\n        });\n  }\n\n  getRiderByMobile(mobile: string): Observable<Rider[]> {\n    this.mobile$.next(mobile);\n    return this.userRider;\n  }\n\n  getRiderByMobileCB(mobile: string, cb: Function): void {\n    this.db.collection('riders').ref.where('mobile', '==', mobile)\n      .get()\n        .then(function(querySnapshot) {\n          if (querySnapshot.empty) {\n            cb(null);\n          } else {\n            cb(querySnapshot.docs[0]);\n          }\n        });\n  }\n\n  addNewRiderCB(rider: Rider, cb: Function): void {\n    this.db.collection('riders').add(rider)\n      .then((ref) => cb(null, ref))\n      .catch((err) => cb(err, null));\n  }\n\n  updateRiderByIdCB(rider: Rider, cb: Function): void {\n    this.db.collection('riders').ref.where('id', '==', rider.id)\n      .get()\n        .then((querySnapshot) => {\n          if (querySnapshot.empty) {\n            console.error(`RiderService: updateRiderByIdCB: rider not found for id ${rider.id}`);\n            cb(`RiderService: updateRiderByIdCB: rider not found for id ${rider.id}`, null);\n          } else {\n            const doc = querySnapshot.docs[0];\n            // update tag doc\n            console.log(`RiderService: updateRiderByIdCB: updating rider for id: ${rider.id}`);\n            this.db.collection('riders').doc(doc.id).update(rider);\n            cb(null, doc);\n          }\n        });\n  }\n\n\n}\n","module.exports = \".error {\\n    color: red;\\n}\"","module.exports = \"<div fxLayout=\\\"row\\\" fxLayoutWrap=\\\"wrap\\\" fxLayoutAlign=\\\"start center\\\">\\n  <div fxFlex=\\\"100\\\"><br></div>\\n</div>\\n\\n<div *ngIf=\\\"result\\\" fxLayout=\\\"row\\\" fxLayoutWrap=\\\"wrap\\\" fxLayoutAlign=\\\"start center\\\">\\n    <div fxFlex=\\\"30\\\"></div>\\n    <div *ngIf=\\\"result ==='fail'\\\" fxFlex=\\\"60\\\" class=\\\"error\\\"><h2>Payment is failed</h2></div>\\n    <div *ngIf=\\\"result ==='accept'\\\" fxFlex=\\\"60\\\"><h2>Payment is accepted</h2></div>\\n    <div fxFlex=\\\"10\\\"></div>\\n</div>\\n\\n<div *ngIf=\\\"result\\\" fxLayout=\\\"row\\\" fxLayoutWrap=\\\"wrap\\\" fxLayoutAlign=\\\"start center\\\">\\n    <div fxFlex=\\\"30\\\"></div>\\n    <div *ngIf=\\\"result ==='fail'\\\" fxFlex=\\\"60\\\" ><h3>{{getErrorMessage()}}</h3></div>\\n    <div *ngIf=\\\"result ==='accept'\\\" fxFlex=\\\"60\\\"><h3>{{code}}</h3></div>\\n    <div fxFlex=\\\"10\\\"></div>\\n</div>\\n\\n<div *ngIf=\\\"result\\\" fxLayout=\\\"row\\\" fxLayoutWrap=\\\"wrap\\\" fxLayoutAlign=\\\"start center\\\">\\n    <div fxFlex=\\\"30\\\"></div>\\n    <div *ngIf=\\\"result ==='fail'\\\" fxFlex=\\\"60\\\" >\\n        <button mat-raised-button color=\\\"warn\\\" (click)=\\\"gotoShopping()\\\">Back</button>\\n    </div>\\n    <div *ngIf=\\\"result ==='accept'\\\" fxFlex=\\\"60\\\" >\\n        <button mat-raised-button color=\\\"primary\\\" [disabled]=\\\"process\\\" (click)=\\\"gotoShopping()\\\">Back</button>\\n    </div>\\n    <div fxFlex=\\\"10\\\"></div>\\n</div>\\n\\n\\n\"","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Location } from '@angular/common';\nimport { ProcessingError } from '../../environments/errors';\nimport { HttpClient } from '@angular/common/http';\nimport { Order, Item, ORDERSTATUS } from '../order';\nimport { OrderService } from '../order.service';\n\nconst merchantID = 1093;\n\n@Component({\n  selector: 'app-shopping-result',\n  templateUrl: './shopping-result.component.html',\n  styleUrls: ['./shopping-result.component.css']\n})\nexport class ShoppingResultComponent implements OnInit {\n  result: string;\n  id: string;\n  operation: string;\n  reference: string;\n  error: string;\n  code: string;\n  process: boolean;\n\n  constructor(\n    private route: ActivatedRoute,\n    private location: Location,\n    private router: Router,\n    private http: HttpClient,\n    private orderService: OrderService) { }\n\n  ngOnInit() {\n\n    this.process = false;\n\n    this.result = this.route.snapshot.paramMap.get('result');\n    this.id = this.route.snapshot.queryParamMap.get('id');\n    this.operation = this.route.snapshot.queryParamMap.get('operation');\n    this.reference = this.route.snapshot.queryParamMap.get('reference');\n    this.error = this.route.snapshot.queryParamMap.get('error');\n\n    if (this.result === 'accept') {\n      this.checkResult();\n    }\n  }\n\n  getErrorMessage(): string {\n    let msg = '';\n    if (this.error) {\n      if (ProcessingError[this.error]) {\n        msg = ProcessingError[this.error];\n      }\n    }\n    return msg;\n  }\n\n  gotoShopping() {\n    this.router.navigate([`/shopping`]);\n  }\n\n  checkResult(): void {\n    this.process = true;\n\n    const url = `https://us-central1-cloud-firestore-test-d95bf.cloudfunctions.net/operation`;\n    const data = {\n      sector: merchantID,\n      id: this.id,\n      reference: this.reference,\n      operation: this.operation\n    };\n    this.http.post(url, data, { responseType: 'text' }).subscribe((res: string) => {\n      this.process = false;\n\n      const parser = new DOMParser();\n      const doc = parser.parseFromString(res, 'application/xml');\n      console.log(doc);\n      if (doc.getElementsByTagName('approval_code').length > 0) {\n        this.code = doc.getElementsByTagName('approval_code').item(0).innerHTML;\n        console.log(`Approval code ${this.code}`);\n      }\n      if (doc.getElementsByTagName('order_state').length > 0) {\n        const state = doc.getElementsByTagName('order_state').item(0);\n        console.log(`Order State ${state.innerHTML}`);\n        if (state.innerHTML === 'COMPLETED') {\n          this.completeOrder();\n        }\n      }\n      });\n  }\n\n  completeOrder(): void {\n    if (this.reference && this.result === 'accept') {\n      this.process = true;\n\n      console.log(`Complete the Order ${this.reference}`);\n      this.orderService.getOrderByRef(this.reference).subscribe((res) => {\n        this.process = false;\n        if (res.length > 0) {\n          const order = res[0];\n          // change order status\n          order.status = ORDERSTATUS.CLOSED;\n          // update order\n          this.orderService.updateOrder(order);\n        } else {\n          console.error('Order is not found');\n        }\n      });\n    }\n  }\n\n}\n","module.exports = \"table {\\n    width: 100%;\\n  }\\n\\n  .mat-cell .mat-icon {\\n    -webkit-transform: scale(0.6);\\n            transform: scale(0.6);\\n}\\n\\n  .example-margin {\\n    margin: 0 10px;\\n  }\\n\\n\"","module.exports = \"<app-header [back]=\\\"true\\\" [title]=\\\"'Shopping'\\\"></app-header>\\n\\n<div *ngIf=\\\"authenticated()\\\" fxLayout=\\\"column\\\">\\n\\n  <div fxLayout=\\\"row\\\" fxLayoutWrap=\\\"wrap\\\" fxLayoutAlign=\\\"start center\\\">\\n      <div fxFlex=\\\"100\\\">\\n        <br>\\n      </div>\\n  </div>\\n\\n  <div fxLayout=\\\"row\\\" fxLayoutWrap=\\\"wrap\\\" fxLayoutAlign=\\\"start center\\\">\\n      <div fxFlex=\\\"2\\\"></div>\\n      <div *ngIf=\\\"order\\\" fxFlex=\\\"8\\\">TOTAL:</div>\\n      <div *ngIf=\\\"order\\\" fxFlex=\\\"10\\\"></div>\\n      <div *ngIf=\\\"order\\\" fxFlex=\\\"60\\\">{{getTotalCost() | currency:' '}}&nbsp; </div>\\n      <div *ngIf=\\\"order\\\" fxFlex=\\\"10\\\"></div>\\n\\n      <div *ngIf=\\\"!order\\\" fxFlex=\\\"88\\\"><h3>{{msg}}</h3></div>\\n      \\n      <div *ngIf=\\\"order || new\\\" fxFlex=\\\"8\\\">\\n        <button (click)=\\\"gotoItem('NEW')\\\" mat-icon-button>\\n            <mat-icon>add_circle_outline</mat-icon>\\n        </button>\\n      </div>\\n      <div fxFlex=\\\"2\\\"></div>\\n  </div>\\n\\n  <div fxLayout=\\\"row\\\" fxLayoutWrap=\\\"wrap\\\" fxLayoutAlign=\\\"start center\\\">\\n      <div fxFlex=\\\"100\\\">\\n        <br>\\n      </div>\\n  </div>\\n\\n</div>\\n\\n<div *ngIf=\\\"order\\\">\\n    <table *ngIf=\\\"order.items.length>0\\\" mat-table [dataSource]=\\\"order.items | slice:start:end\\\" class=\\\"mat-elevation-z8\\\">\\n\\n        <!--- Note that these columns can be defined in any order.\\n              The actual rendered columns are set as a property on the row definition\\\" -->\\n\\n        <ng-container matColumnDef=\\\"position\\\">\\n            <th mat-header-cell *matHeaderCellDef> </th>\\n            <td mat-cell *matCellDef=\\\"let element; let i = index;\\\"> {{i+1}} </td>\\n        </ng-container>\\n      \\n        <!-- Position Column -->\\n        <ng-container matColumnDef=\\\"name\\\">\\n            <th mat-header-cell *matHeaderCellDef> Name </th>\\n            <td mat-cell (click)=\\\"gotoItem(element.id)\\\" *matCellDef=\\\"let element\\\"> {{shortName(element.name)}}</td>\\n            \\n          </ng-container>\\n\\n        <!-- Position Column -->\\n        <ng-container matColumnDef=\\\"price\\\">\\n          <th mat-header-cell *matHeaderCellDef> Price </th>\\n          <td mat-cell *matCellDef=\\\"let element\\\"> {{element.price | currency:' ':'symbol':'2.0-2'}}</td>\\n          \\n        </ng-container>\\n      \\n        <!-- Name Column -->\\n        <ng-container matColumnDef=\\\"qty\\\">\\n          <th mat-header-cell *matHeaderCellDef> Qty </th>\\n          <td mat-cell *matCellDef=\\\"let element\\\"> {{element.qty}}</td>\\n        </ng-container>\\n      \\n      \\n        <!-- Weight Column -->\\n        <ng-container matColumnDef=\\\"link\\\">\\n            <th mat-header-cell *matHeaderCellDef> </th>\\n            <td mat-cell *matCellDef=\\\"let element\\\"> <button (click)=\\\"gotoItem(element.id)\\\" mat-icon-button> <mat-icon>call_made</mat-icon></button> </td>\\n          </ng-container>\\n\\n          <!-- Weight Column -->\\n        <ng-container matColumnDef=\\\"delete\\\">\\n            <th mat-header-cell *matHeaderCellDef> </th>\\n            <td mat-cell *matCellDef=\\\"let element; let i = index;\\\"> <button (click)=\\\"deleteItem(i)\\\" mat-icon-button> <mat-icon>delete_outline</mat-icon></button> </td>\\n          </ng-container>\\n      \\n        <tr mat-header-row *matHeaderRowDef=\\\"displayedColumns\\\"></tr>\\n        <tr mat-row *matRowDef=\\\"let row; columns: displayedColumns;\\\"></tr>\\n      </table>\\n      <br>\\n      \\n  <mat-paginator *ngIf=\\\"order.items.length>0\\\" [length]=\\\"order.items.length\\\"\\n                [pageSize]=\\\"10\\\"\\n                [pageSizeOptions]=\\\"[1, 5, 10, 25, 100]\\\"\\n                (page)=\\\"setPage($event)\\\">\\n  </mat-paginator>\\n</div>\\n\\n<div *ngIf=\\\"order\\\" fxLayout=\\\"row\\\" fxLayoutWrap=\\\"wrap\\\" fxLayoutAlign=\\\"start center\\\">\\n    <div fxFlex=\\\"15\\\">\\n        <button mat-raised-button color=\\\"warn\\\" [disabled]=\\\"order.items.length == 0 || process\\\" (click)=\\\"register()\\\">Pay</button>\\n    </div>\\n    <div *ngIf=\\\"process\\\" fxFlex=\\\"10\\\">\\n        <mat-progress-spinner\\n        class=\\\"example-margin\\\"\\n        [diameter]=\\\"25\\\"\\n        [color]=\\\"color\\\"\\n        [mode]=\\\"mode\\\"\\n        [value]=\\\"value\\\">\\n      </mat-progress-spinner>\\n    </div>\\n</div>\\n\\n\\n\\n\\n<div *ngIf=\\\"!authenticated()\\\" fxLayout=\\\"column\\\">\\n    \\n    <div fxLayout=\\\"row\\\" fxLayoutWrap=\\\"wrap\\\" fxLayoutAlign=\\\"start center\\\">\\n      <div fxFlex=\\\"100\\\"><br></div>\\n    </div>\\n\\n    <div fxLayout=\\\"row\\\" fxLayoutWrap=\\\"wrap\\\" fxLayoutAlign=\\\"start center\\\">\\n      <div fxFlex=\\\"30\\\"></div>\\n      <div fxFlex=\\\"40\\\">\\n        <h3>To start Shopping</h3>\\n      </div>\\n      <div fxFlex=\\\"30\\\"></div>\\n    </div>\\n  \\n    <div fxLayout=\\\"row\\\" fxLayoutWrap=\\\"wrap\\\" fxLayoutAlign=\\\"start center\\\">\\n      <div fxFlex=\\\"30\\\"></div>\\n      <div fxFlex=\\\"40\\\">\\n          <h3>Need to login first</h3>\\n      </div>\\n      <div fxFlex=\\\"30\\\"></div>\\n    </div>\\n\\n    <div fxLayout=\\\"row\\\" fxLayoutWrap=\\\"wrap\\\" fxLayoutAlign=\\\"start center\\\">\\n        <div fxFlex=\\\"45\\\"></div>\\n        <div fxFlex=\\\"10\\\">\\n            <button mat-raised-button color=\\\"primary\\\" (click)=\\\"gotoLogin()\\\">Login</button>\\n        </div>\\n        <div fxFlex=\\\"45\\\"></div>\\n      </div>\\n  \\n  </div>\"","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { AuthService } from '../auth.service';\nimport { OrderService } from '../order.service';\nimport { Order, Item, ORDERSTATUS } from '../order';\nimport { PageEvent } from '@angular/material';\nimport { HttpClient } from '@angular/common/http';\n\nconst merchantID = 1743;\n\n@Component({\n  selector: 'app-shopping',\n  templateUrl: './shopping.component.html',\n  styleUrls: ['./shopping.component.css']\n})\nexport class ShoppingComponent implements OnInit {\n\n  start: number;\n  end: number;\n  process: boolean;\n\n  color = 'primary';\n  mode = 'determinate';\n  value = 50;\n\n  new: boolean;\n  userId: string;\n\n  displayedColumns: string[] = ['position', 'name', 'price', 'qty', 'delete' ];\n\n  order: Order;\n  msg: string;\n\n  constructor(private authService: AuthService, private router: Router, private orderService: OrderService, private http: HttpClient) { }\n\n  ngOnInit() {\n    this.start = 0;\n    this.end = 10;\n    this.process = false;\n    this.new = false;\n    this.msg = '';\n    this.order = undefined;\n\n    this.authService.getUser().subscribe((res) => {\n      const userId = this.authService.getUID();\n      this.orderService.getClientOrders(userId).subscribe((result) => {\n        if (result.length > 0) {\n          this.order = this.getCurrentOrder(result);\n          if (this.order) {\n            console.log('Loading current order...');\n            console.log(this.order);\n          } else {\n            console.log('Did not find any order with new status');\n            this.new = true;\n            this.msg = 'Order is closed, add a new one';\n            this.userId = userId;\n          }\n        } else {\n          console.log('Adding new order...');\n          // this.order = this.orderService.newOrder(userId);\n          this.new = true;\n          this.msg = 'Add new order';\n          this.userId = userId;\n        }\n      });\n    });\n  }\n\n  getCurrentOrder(orders): Order | null {\n    let order: Order = null;\n    for (let i = 1; i < orders.length; i++) {\n      if (orders[i].status === ORDERSTATUS.NEW) {\n        order = orders[i];\n        break;\n      }\n    }\n    return order;\n  }\n\n  gotoItem(id: string): void {\n    if (this.new) {\n      this.order = this.orderService.newOrder(this.userId);\n    }\n    if (this.order) {\n      this.router.navigate([`/item/${id}/${this.order.ref}`]);\n    } else {\n      this.router.navigate([`/item/${id}`]);\n    }\n  }\n\n  deleteItem(index: number): void {\n    this.order.items.splice(index, 1);\n    this.orderService.updateOrder(this.order);\n  }\n\n  authenticated(): boolean {\n    return this.authService.authenticated();\n  }\n\n  gotoLogin(): void {\n    this.router.navigate([`/login/shopping`]);\n  }\n\n  setPage(e: PageEvent): void {\n    console.log(e);\n    const { pageIndex, pageSize } = e;\n    this.start = pageIndex * pageSize;\n    this.end = this.start + pageSize;\n  }\n\n  shortName(name: string): string {\n    if (name.length <= 20) {\n      return `${name}`;\n    } else {\n      return `${name.slice(0, 17)}...`;\n    }\n  }\n\n  getTotalCost(): number {\n    let total = 0;\n    for (let i = 0; i < this.order.items.length; i++) {\n      total = total + this.order.items[i].price * this.order.items[i].qty;\n    }\n    return total;\n  }\n\n  getDescription(): string {\n    let res = 'Items: ';\n    for (let i = 0; i < this.order.items.length; i++) {\n      if (res.length + this.order.items[i].name.length < 998) {\n        if (i > 0) {\n          res = res + ', ';\n        }\n        res = res + this.order.items[i].name;\n      }\n    }\n    return res;\n  }\n\n  register(): void {\n    this.process = true;\n    this.value = 50; // progress spinner value\n\n    const url = `https://us-central1-cloud-firestore-test-d95bf.cloudfunctions.net/register`;\n    const data = {\n      sector: merchantID,\n      amount: this.getTotalCost() * 100,\n      currency: 643,\n      reference: this.order.ref,\n      description: this.getDescription(),\n      url: 'https://girodiseo.ru/shopping/accept',\n      failurl: 'https://girodiseo.ru/shopping/fail',\n    };\n    this.http.post(url, data, { responseType: 'text' }).subscribe((res: string) => {\n      this.process = false;\n      const parser = new DOMParser();\n      const doc = parser.parseFromString(res, 'application/xml');\n      console.log(doc);\n      if (doc.getElementsByTagName('id').length > 0) {\n        const id = doc.getElementsByTagName('id').item(0);\n        console.log(`Transaction ID ${id.innerHTML}`);\n        this.authorize(parseInt(id.innerHTML, 10));\n      }\n      });\n  }\n\n  authorize(id: number): void {\n    this.process = true;\n    this.value = 80; // progress spinner value\n\n    const url = 'https://us-central1-cloud-firestore-test-d95bf.cloudfunctions.net/authorize';\n    const data = {\n      sector: merchantID,\n      id: id,\n    };\n    this.http.post(url, data, { responseType: 'text' }).subscribe((res: string) => {\n      this.process = false;\n      console.log(res);\n      window.location.assign(res);\n      });\n  }\n\n}\n","module.exports = \"\"","module.exports = \"<app-header [title]=\\\"'SMS confirmation'\\\"></app-header>\\n\\n\\n<form class=\\\"example-form\\\">\\n\\n  <mat-grid-list cols=\\\"3\\\" rowHeight=\\\"3em\\\">\\n\\n    <mat-grid-tile [rowspan]=\\\"3\\\" [colspan]=\\\"3\\\">\\n      <mat-form-field>\\n        <input matInput name=\\\"smscode\\\" type=\\\"text\\\" placeholder=\\\"Enter sms code\\\" required minlenght=\\\"6\\\" [(ngModel)]=\\\"smscode\\\">\\n      </mat-form-field>\\n    </mat-grid-tile>\\n\\n    <mat-grid-tile [colspan]=\\\"3\\\">\\n      {{msg}}\\n    </mat-grid-tile>\\n\\n    <mat-grid-tile>\\n      <button mat-raised-button color=\\\"primary\\\" [disabled]=\\\"!smscode || progress\\\" (click)=\\\"confirm($event)\\\">Confirm</button>\\n    </mat-grid-tile>\\n\\n    <mat-grid-tile>\\n\\n    </mat-grid-tile>\\n\\n    <mat-grid-tile>\\n      <button mat-raised-button color=\\\"warn\\\" [disabled]=\\\"!smscode || progress\\\" (click)=\\\"clear()\\\">Clear</button>\\n    </mat-grid-tile>\\n  \\n    <mat-grid-tile [colspan]=\\\"3\\\">\\n    </mat-grid-tile>\\n\\n  </mat-grid-list>\\n</form>\\n\\n\"","import { Component, OnInit, NgZone } from '@angular/core';\nimport { Router, ActivatedRoute, ParamMap } from '@angular/router';\nimport { TagService } from '../tag.service';\nimport { Tag, Registration } from '../tag';\nimport * as firebase from 'firebase/app';\nimport { AuthService } from '../auth.service';\n\n@Component({\n  selector: 'app-sms-confirmation',\n  templateUrl: './sms-confirmation.component.html',\n  styleUrls: ['./sms-confirmation.component.css']\n})\nexport class SmsConfirmationComponent implements OnInit {\n  mobile: string;\n  smscode: string;\n  msg: string;\n  progress: boolean;\n  page: string;\n\n  constructor(\n    private zone: NgZone,\n    private tagService: TagService,\n    private authService: AuthService,\n    private route: ActivatedRoute,\n    private router: Router\n    ) { }\n\n  ngOnInit() {\n    this.page = this.route.snapshot.paramMap.get('page');\n    console.log('PAGE ' + this.page);\n    if (!this.page) {\n      this.page = 'profile';\n    }\n    this.clear();\n    this.getMobile();\n  }\n\n  clear() {\n    this.smscode = null;\n    this.msg = null;\n    this.progress = false;\n  }\n\n  getMobile(): void {\n    this.mobile = this.route.snapshot.paramMap.get('mobile');\n  }\n\n  confirm(e: Event): void {\n    this.progress = true;\n    e.preventDefault();\n    e.stopPropagation();\n    this.authService.getConfirmation(this.smscode, (error, user) => {\n      if (error) {\n        this.msg = error;\n        this.progress = false;\n      } else {\n        console.log(user);\n        // registration is confirmed move to client profile\n        this.zone.run(() => this.router.navigate([`/${this.page}`]))\n          .then(() => console.log('SmsConfirmationComponent: confirm: navigated to profile'))\n          .catch((err) => console.error(err));\n      }\n    });\n  }\n\n}\n","module.exports = \".example-form {\\n    min-width: 150px;\\n    max-width: 500px;\\n    width: 100%;\\n}\\n  \\n.example-full-width {\\n    width: 100%;\\n}\\n  \\n.example-short {\\n    width: 30%;\\n}\\n  \\n.example-half {\\n    width: 50%;\\n}\\n  \\ntable {\\n    width: 100%;\\n  }\\n  \\n.mat-cell .mat-icon {\\n    -webkit-transform: scale(0.6);\\n            transform: scale(0.6);\\n}\"","module.exports = \"<app-header [title]=\\\"'Tag'\\\" [back]=\\\"true\\\"></app-header>\\n<mat-grid-list *ngIf=\\\"tags; else loading;\\\"cols=\\\"3\\\" rowHeight=\\\"3em\\\">\\n    \\n    \\n\\n    <mat-grid-tile  *ngIf=\\\"tags.length > 0\\\" [colspan]=\\\"3\\\">\\n        <h3>{{tags[0].id}}</h3>\\n      </mat-grid-tile>\\n\\n    <mat-grid-tile *ngIf=\\\"tags.length > 0\\\">\\n        Registered:\\n    </mat-grid-tile>\\n\\n    <mat-grid-tile [colspan]=\\\"2\\\" *ngIf=\\\"tags.length > 0\\\">\\n        {{tags[0].regDate}}\\n    </mat-grid-tile>\\n\\n    <mat-grid-tile *ngIf=\\\"tags.length > 0 && tags[0].reg\\\">\\n        Mobile:\\n    </mat-grid-tile>\\n\\n    <mat-grid-tile [colspan]=\\\"2\\\" *ngIf=\\\"tags.length > 0 && tags[0].reg\\\">\\n        {{tags[0].reg.mobile}}\\n    </mat-grid-tile>\\n\\n    <mat-grid-tile *ngIf=\\\"tags.length > 0 && tags[0].reg\\\">\\n        SMS code:\\n    </mat-grid-tile>\\n\\n    <mat-grid-tile [colspan]=\\\"2\\\" *ngIf=\\\"tags.length > 0 && tags[0].reg\\\">\\n        {{tags[0].reg.sms}}\\n    </mat-grid-tile>\\n    \\n</mat-grid-list>\\n\\n<div *ngIf=\\\"rides\\\">\\n    <table *ngIf=\\\"rides.length>0\\\" mat-table [dataSource]=\\\"rides | slice:start:end\\\" class=\\\"mat-elevation-z8\\\">\\n\\n        <!--- Note that these columns can be defined in any order.\\n              The actual rendered columns are set as a property on the row definition\\\" -->\\n      \\n        <!-- Position Column -->\\n        <ng-container matColumnDef=\\\"date\\\">\\n            <th mat-header-cell *matHeaderCellDef> Date </th>\\n            <td mat-cell *matCellDef=\\\"let element\\\"> {{element.start|date:\\\"dd-MM-yyyy\\\"}}</td>\\n          </ng-container>\\n\\n        <!-- Position Column -->\\n        <ng-container matColumnDef=\\\"start\\\">\\n          <th mat-header-cell *matHeaderCellDef> Start </th>\\n          <td mat-cell *matCellDef=\\\"let element\\\"> {{element.start|date:\\\"HH:mm:ss\\\"}}</td>\\n        </ng-container>\\n      \\n        <!-- Name Column -->\\n        <ng-container matColumnDef=\\\"finish\\\">\\n          <th mat-header-cell *matHeaderCellDef> Finish </th>\\n          <td mat-cell *matCellDef=\\\"let element\\\"> {{element.finish|date:\\\"HH:mm:ss\\\"}}</td>\\n        </ng-container>\\n      \\n        <!-- Weight Column -->\\n        <ng-container matColumnDef=\\\"time\\\">\\n          <th mat-header-cell *matHeaderCellDef> Time </th>\\n          <td mat-cell *matCellDef=\\\"let element\\\"> {{(element.finish-element.start)|date:\\\"HH:mm:ss\\\":\\\"+00\\\"}} </td>\\n        </ng-container>\\n\\n        <!-- Weight Column -->\\n        <ng-container matColumnDef=\\\"link\\\">\\n            <th mat-header-cell *matHeaderCellDef> Details </th>\\n            <td mat-cell *matCellDef=\\\"let element\\\"> <button (click)=\\\"gotoRide(element.id)\\\" mat-icon-button> <mat-icon>call_made</mat-icon></button> </td>\\n          </ng-container>\\n      \\n      \\n        <tr mat-header-row *matHeaderRowDef=\\\"displayedColumns\\\"></tr>\\n        <tr mat-row *matRowDef=\\\"let row; columns: displayedColumns;\\\"></tr>\\n      </table>\\n      <br>\\n      \\n  <mat-paginator *ngIf=\\\"rides.length>0\\\" [length]=\\\"rides.length\\\"\\n                [pageSize]=\\\"10\\\"\\n                [pageSizeOptions]=\\\"[1, 5, 10, 25, 100]\\\"\\n                (page)=\\\"setPage($event)\\\">\\n  </mat-paginator>\\n</div>\"","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Location } from '@angular/common';\nimport { TagService } from '../tag.service';\nimport { Tag, Registration } from '../tag';\nimport { Ride } from '../ride';\nimport { RideService } from '../ride.service';\nimport { PageEvent } from '@angular/material';\n\n@Component({\n  selector: 'app-tag-detail',\n  templateUrl: './tag-detail.component.html',\n  styleUrls: ['./tag-detail.component.css']\n})\nexport class TagDetailComponent implements OnInit {\n  tags: Tag[];\n  rides: Ride[];\n  start: number;\n  end: number;\n\n  displayedColumns: string[] = ['date', 'start', 'finish', 'time', 'link'];\n\n  constructor(\n    private tagService: TagService,\n    private route: ActivatedRoute,\n    private location: Location,\n    private router: Router,\n    private rideService: RideService\n    ) {}\n\n  ngOnInit() {\n    this.start = 0;\n    this.end = 10;\n    this.getTag();\n  }\n\n  getTag(): void {\n    const id = this.route.snapshot.paramMap.get('id');\n    this.tagService.getTagById(id)\n      .subscribe(tags => this.tags = tags);\n    this.rideService.getRidesByTagId(id)\n      .subscribe(rides => this.rides = rides);\n  }\n\n  gotoTags(): void {\n    this.router.navigate([`/tags`]);\n  }\n\n  gotoBack(): void {\n    this.location.back();\n  }\n\n  gotoRide(id: number): void {\n    this.router.navigate([`/ride/${id}`]);\n  }\n\n  setPage(e: PageEvent): void {\n    console.log(e);\n    const { pageIndex, pageSize } = e;\n    this.start = pageIndex * pageSize;\n    this.end = this.start + pageSize;\n  }\n\n}\n","module.exports = \"\"","module.exports = \"<div *ngIf=\\\"tags; else loading\\\">\\n    <h2 *ngIf=\\\"tags.length === 0\\\">Tag not found</h2>\\n    <div *ngIf=\\\"tags.length > 0\\\">\\n      <h2>Tag Registration</h2>\\n      <div><span>id: </span>{{tags[0].id}}</div>\\n    </div>\\n    <br><br>\\n\\n    <form class=\\\"example-form\\\">\\n      <table class=\\\"example-half\\\" cellspacing=\\\"0\\\">\\n        <tr>\\n          <td>\\n            <mat-form-field>\\n              <input matInput name=\\\"smscode\\\" type=\\\"text\\\" placeholder=\\\"Enter sms code\\\" required minlength=\\\"4\\\" [(ngModel)]=\\\"smscode\\\">\\n            </mat-form-field>\\n          </td>\\n        </tr>\\n        <tr *ngIf=\\\"msg\\\">\\n          <td>\\n            {{msg}}\\n          </td>\\n        </tr>\\n        <tr>\\n          <td>\\n            <button mat-raised-button color=\\\"primary\\\" [disabled]=\\\"!smscode || registered || progress\\\" (click)=\\\"confirm($event)\\\">Confirm</button>\\n          </td>\\n          <td>\\n            <button mat-raised-button color=\\\"warn\\\" [disabled]=\\\"!smscode || registered || progress\\\" (click)=\\\"gotoBack()\\\">Cancel</button>\\n          </td>\\n        </tr>\\n      </table>\\n    </form>\\n</div>\\n\"","import { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { TagService } from '../tag.service';\nimport { Tag, Registration } from '../tag';\nimport { Location } from '@angular/common';\nimport { AuthService } from '../auth.service';\nimport { Wallet } from '../wallet';\n\n@Component({\n  selector: 'app-tag-reg-sms',\n  templateUrl: './tag-reg-sms.component.html',\n  styleUrls: ['./tag-reg-sms.component.css'],\n})\nexport class TagRegSmsComponent implements OnInit {\n  tags: Tag[];\n  smscode: string;\n  msg: string;\n  recaptchaVerifier: any;\n  registered: boolean;\n  progress: boolean;\n  tagid: string;\n  mobile: string;\n\n  constructor(\n    private tagService: TagService,\n    private authService: AuthService,\n    private route: ActivatedRoute,\n    private location: Location,\n    private router: Router\n    ) {}\n\n  ngOnInit() {\n    this.getTag();\n    this.clear();\n  }\n  clear() {\n    this.smscode = null;\n    this.msg = null;\n    this.registered = false;\n    this.progress = false;\n  }\n\n  getTag(): void {\n    this.tagid = this.route.snapshot.paramMap.get('id');\n    this.mobile = this.route.snapshot.paramMap.get('mobile');\n    this.tagService.getTagById(this.tagid)\n      .subscribe(tags => this.tags = tags);\n  }\n\n  gotoBack(): void {\n    this.router.navigate([`/reg`]);\n  }\n\n  confirm(e: Event): void {\n    this.progress = true;\n    e.preventDefault();\n    e.stopPropagation();\n\n    const reg: Registration = {\n      mobile: this.mobile,\n      sms: '******'\n    };\n\n    this.authService.getConfirmation(this.smscode, (error, user) => {\n      if (error) {\n        this.msg = error;\n        this.progress = false;\n      } else {\n        console.log(user);\n        // registration is confirmed\n        if (this.tags[0]) {\n          console.log(`TagRegSmsComponent: confirm: seting reg date for ${this.tags[0].id}`);\n          this.tagService.setRegDate(this.tags[0].id, (err, doc) => {\n            if (err) {\n              this.msg = err;\n              this.progress = false;\n              this.registered = false;\n            } else {\n              this.msg = `Tag registration date updated`;\n              this.progress = false;\n              this.registered = true;\n              this.router.navigate([`/profile`]);\n            }\n          });\n        } else {\n          console.log(`TagRegSmsComponent: confirm: adding new tag with id ${this.tagid}`);\n          this.tagService.setRegistration(this.tagid, null, reg);\n          this.msg = `Tag is registered`;\n          this.progress = false;\n          this.registered = true;\n          this.router.navigate([`/profile`]);\n        }\n      }\n    });\n  }\n}\n","module.exports = \"h4 {\\n    text-align: center;\\n  }\\n\\np {\\n    text-align: center;\\n}\"","module.exports = \"<app-header [title]=\\\"'Tag registration'\\\" [back]=\\\"true\\\"></app-header>\\n<mat-grid-list cols=\\\"3\\\" rowHeight=\\\"3em\\\">\\n\\n\\n\\n  <mat-grid-tile [colspan]=\\\"3\\\" [rowspan]=\\\"2\\\">\\n    <h4 >Please enter mobile phone number and unique tag ID to recieve SMS registration code</h4>\\n  </mat-grid-tile>\\n  <mat-grid-tile [colspan]=\\\"3\\\">\\n    <h4>Don't have a tag?</h4> \\n  </mat-grid-tile>\\n\\n  <mat-grid-tile></mat-grid-tile>\\n\\n  <mat-grid-tile >\\n      <button (click)=\\\"generate()\\\" mat-icon-button>\\n          <mat-icon>get_app</mat-icon>\\n        </button>\\n  </mat-grid-tile>\\n\\n  <mat-grid-tile></mat-grid-tile>\\n    \\n</mat-grid-list>\\n\\n<form class=\\\"example-form\\\">\\n\\n  <mat-grid-list cols=\\\"3\\\" rowHeight=\\\"3em\\\">\\n\\n    <mat-grid-tile [rowspan]=\\\"2\\\" [colspan]=\\\"3\\\">\\n      <mat-form-field>\\n        <input matInput name=\\\"tagid\\\" type=\\\"text\\\" placeholder=\\\"Enter tag id\\\" required minlength=\\\"14\\\" [(ngModel)]=\\\"tagid\\\">\\n        <mat-hint align=\\\"start\\\">Example: <strong>12345678901234</strong> </mat-hint>\\n      </mat-form-field>\\n    </mat-grid-tile>\\n\\n    <mat-grid-tile [rowspan]=\\\"2\\\" [colspan]=\\\"3\\\">\\n      <mat-form-field>\\n        <input matInput name=\\\"mobile\\\" type=\\\"text\\\" placeholder=\\\"Enter mobile\\\" required minlenght=\\\"7\\\" [(ngModel)]=\\\"mobile\\\">\\n        <mat-hint align=\\\"start\\\">Example: <strong>+16505551234</strong> </mat-hint>\\n      </mat-form-field>\\n    </mat-grid-tile>\\n\\n    <mat-grid-tile [colspan]=\\\"3\\\">\\n      {{msg}}\\n    </mat-grid-tile>\\n\\n    <mat-grid-tile>\\n        <button mat-raised-button color=\\\"primary\\\" [disabled]=\\\"!tagid || !mobile || progress\\\" (click)=\\\"reg($event)\\\">Register</button>\\n    </mat-grid-tile>\\n\\n    <mat-grid-tile>\\n\\n    </mat-grid-tile>\\n\\n    <mat-grid-tile>\\n        <button mat-raised-button color=\\\"warn\\\" [disabled]=\\\"!tagid || !mobile || progress\\\" (click)=\\\"clear()\\\">Clear</button>\\n    </mat-grid-tile>\\n  \\n    <mat-grid-tile [colspan]=\\\"3\\\">\\n    </mat-grid-tile>\\n\\n  </mat-grid-list>\\n</form>\\n\\n<div id=\\\"recaptcha-container\\\"></div>\"","import { Component, OnInit, AfterViewInit, NgZone } from '@angular/core';\nimport { Router, ActivatedRoute, ParamMap } from '@angular/router';\nimport { TagService } from '../tag.service';\nimport { Tag, Registration } from '../tag';\nimport * as firebase from 'firebase/app';\nimport { AuthService } from '../auth.service';\nimport { Location } from '@angular/common';\n\n@Component({\n  selector: 'app-tag-registration',\n  templateUrl: './tag-registration.component.html',\n  styleUrls: ['./tag-registration.component.css'],\n})\nexport class TagRegistrationComponent implements OnInit, AfterViewInit {\n  tagid: string;\n  mobile: string;\n  msg: string;\n  recaptchaVerifier: any;\n  progress: boolean;\n\n  constructor(\n    private zone: NgZone,\n    private tagService: TagService,\n    private authService: AuthService,\n    private route: ActivatedRoute,\n    private router: Router,\n    private location: Location\n    ) { }\n\n  ngAfterViewInit() {\n    // Called after ngAfterContentInit when the component's view has been initialized. Applies to components only.\n    // Add 'implements AfterViewInit' to the class.\n    this.recaptchaVerifier = new firebase.auth.RecaptchaVerifier('recaptcha-container');\n  }\n\n  ngOnInit() {\n    this.clear();\n  }\n  clear() {\n    this.tagid = null;\n    this.mobile = null;\n    this.msg = null;\n    this.progress = false;\n  }\n\n  reg(e: Event) {\n    this.progress = true;\n    e.preventDefault();\n    e.stopPropagation();\n    this.authService.signInWithPhoneNumber(this.mobile, this.recaptchaVerifier, (error, confirmationResult) => {\n      if (error) {\n        console.error(`TagRegistrationComponent: reg: ${error}`);\n        this.msg = error;\n        this.progress = false;\n      } else {\n        // I've got a confirmation object, lets go to the SMS confirmation screen\n        // Need to use NgZone.run to go back to Angular zone exec env\n        this.zone.run(() => this.router.navigate([`/regsms/${this.tagid}/${this.mobile}`]))\n          .then(() => console.log('TagRegistrationComponent: reg: navigated to regsms'))\n          .catch((err) => console.error(err));\n        console.log(`TagRegistrationComponent: reg: confirmation for ${this.mobile}`);\n        console.log(confirmationResult);\n      }\n    });\n  }\n\n  gotoBack(): void {\n    this.location.back();\n  }\n\n  generate(): void {\n    let tagid = Math.random();\n    tagid = tagid * 1e14;\n    tagid = Math.floor(tagid);\n    this.tagid = tagid.toString();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { AngularFirestore, AngularFirestoreCollection, QuerySnapshot, CollectionReference } from '@angular/fire/firestore';\nimport { Observable, BehaviorSubject, combineLatest  } from 'rxjs';\nimport { switchMap } from 'rxjs/operators';\nimport { Tag, Registration } from './tag';\nimport { DatePipe } from '@angular/common';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TagService {\n  db: AngularFirestore;\n  tags: Observable<Tag[]>;\n  tag: Observable<Tag[]>;\n  userTags: Observable<Tag[]>;\n  number$: BehaviorSubject<number|null>;\n  start$: BehaviorSubject<string|null>;\n  order$: BehaviorSubject<string|null>;\n  where$: BehaviorSubject<string|null>;\n  mobile$: BehaviorSubject<string|null>;\n\n  constructor(private datePipe: DatePipe, db: AngularFirestore) {\n    this.db = db;\n    this.number$ = new BehaviorSubject(1000);\n    this.start$ = new BehaviorSubject(null);\n    this.order$ = new BehaviorSubject('id');\n    this.tags = combineLatest(this.number$, this.start$, this.order$).pipe(\n      switchMap(([num, start, order]) =>\n        db.collection<Tag>('tags', ref => {\n        let query: firebase.firestore.CollectionReference | firebase.firestore.Query = ref;\n        if (num) { query = query.limit(num); }\n        if (order) { query = query.orderBy(order); if (start) { query = query.startAt(start); } }\n        return query;\n        }).valueChanges()\n    ));\n\n    this.where$ = new BehaviorSubject(null);\n    this.tag = combineLatest(this.where$).pipe(\n      switchMap(([where]) =>\n        db.collection<Tag>('tags', ref => {\n        let query: firebase.firestore.CollectionReference | firebase.firestore.Query = ref;\n        if (where) { query = query.where('id', '==', where); }\n        query = query.limit(1);\n        return query;\n        }).valueChanges()\n    ));\n\n    this.mobile$ = new BehaviorSubject(null);\n    this.userTags = combineLatest(this.mobile$).pipe(\n      switchMap(([mobile]) =>\n        db.collection<Tag>('tags', ref => {\n        let query: firebase.firestore.CollectionReference | firebase.firestore.Query = ref;\n        query = query.where('reg.mobile', '==', mobile);\n        return query;\n        }).valueChanges()\n    ));\n  }\n\n  getTagById(id: string): Observable<Tag[]> {\n    this.where$.next(id);\n    return this.tag;\n  }\n\n  getTagByIdCB(id: string, cb: Function): void {\n    this.db.collection('tags').ref.where('id', '==', id)\n      .get()\n        .then(function(querySnapshot) {\n          if (querySnapshot.empty) {\n            cb(null);\n          } else {\n            cb(querySnapshot.docs[0]);\n          }\n        });\n  }\n\n  getTagsByMobile(mobile: string): Observable<Tag[]> {\n    this.mobile$.next(mobile);\n    return this.userTags;\n  }\n\n  setRegistration(id: string, docRef: string, reg: Registration): void {\n    const regDate = this.datePipe.transform(new Date(), 'dd-MM-yy');\n    if (docRef) {\n      console.log(`TagService: update tag ref: ${docRef} and id: ${id}`);\n      this.db.collection('tags').doc(docRef).update({ reg });\n    } else {\n      console.log(`TagService: add new tag ${id}`);\n      this.db.collection('tags').add({ id, regDate, reg });\n    }\n  }\n\n  setRegDate(id: string, cb: Function): void {\n    this.db.collection('tags').ref.where('id', '==', id)\n      .get()\n        .then((querySnapshot) => {\n          if (querySnapshot.empty) {\n            console.error(`TagService: setRegDate: tag not found for id ${id}`);\n            cb(`TagService: setRegDate: tag not found for id ${id}`, null);\n          } else {\n            const doc = querySnapshot.docs[0];\n            const regDate = this.datePipe.transform(new Date(), 'dd-MM-yy');\n            // update tag doc\n            console.log(`TagService: setRegDate: set regDate: ${regDate} for id: ${id}`);\n            this.db.collection('tags').doc(doc.id).update({ regDate });\n            cb(null, doc);\n          }\n        });\n  }\n\n  getTags(): Observable<Tag[]> {\n    return this.tags;\n  }\n\n  setNumber(num: number|null) {\n    this.number$.next(num);\n  }\n\n  setStart(start: string|null) {\n    this.start$.next(start);\n  }\n\n  setOrder(order: string|null) {\n    this.order$.next(order);\n  }\n}\n","module.exports = \"table {\\n    width: 100%;\\n  }\\n\\n.mat-cell .mat-icon {\\n    -webkit-transform: scale(0.6);\\n            transform: scale(0.6);\\n}\"","module.exports = \"<app-header [back]=\\\"true\\\" [title]=\\\"'Tags'\\\"></app-header>\\n\\n<div *ngIf=\\\"tags\\\">\\n  <table *ngIf=\\\"tags.length>0\\\" mat-table [dataSource]=\\\"tags | slice:start:end\\\" class=\\\"mat-elevation-z8\\\">\\n\\n      <!--- Note that these columns can be defined in any order.\\n            The actual rendered columns are set as a property on the row definition\\\" -->\\n    \\n      \\n\\n      <!-- Position Column -->\\n      <ng-container matColumnDef=\\\"id\\\">\\n        <th mat-header-cell *matHeaderCellDef> ID </th>\\n        <td mat-cell *matCellDef=\\\"let element\\\"> {{element.id}}</td>\\n      </ng-container>\\n\\n      <!-- Position Column -->\\n      <ng-container matColumnDef=\\\"date\\\">\\n        <th mat-header-cell *matHeaderCellDef> Date </th>\\n        <td mat-cell *matCellDef=\\\"let element\\\"> {{element.regDate}}</td>\\n      </ng-container>\\n    \\n      <!-- Name Column -->\\n      <ng-container matColumnDef=\\\"mobile\\\">\\n        <th mat-header-cell *matHeaderCellDef> Mobile </th>\\n        <td mat-cell *matCellDef=\\\"let element\\\"> {{showMobile(element.reg.mobile)}}</td>\\n      </ng-container>\\n    \\n\\n      <!-- Weight Column -->\\n      <ng-container matColumnDef=\\\"link\\\">\\n          <th mat-header-cell *matHeaderCellDef> Details </th>\\n          <td mat-cell *matCellDef=\\\"let element\\\"> <button (click)=\\\"gotoTagById(element)\\\" mat-icon-button> <mat-icon>call_made</mat-icon></button> </td>\\n        </ng-container>\\n    \\n    \\n      <tr mat-header-row *matHeaderRowDef=\\\"displayedColumns\\\"></tr>\\n      <tr mat-row *matRowDef=\\\"let row; columns: displayedColumns;\\\"></tr>\\n    </table>\\n    <br>\\n    \\n<mat-paginator *ngIf=\\\"tags.length>0\\\" [length]=\\\"tags.length\\\"\\n              [pageSize]=\\\"10\\\"\\n              [pageSizeOptions]=\\\"[1, 5, 10, 25, 100]\\\"\\n              (page)=\\\"setPage($event)\\\">\\n</mat-paginator>\\n</div>\\n\\n\"","import { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute, ParamMap } from '@angular/router';\nimport { PageEvent } from '@angular/material';\nimport { TagService } from '../tag.service';\nimport { Tag } from '../tag';\n\n@Component({\n  selector: 'app-tags',\n  templateUrl: './tags.component.html',\n  styleUrls: ['./tags.component.css']\n})\nexport class TagsComponent implements OnInit {\n  tags: Tag[];\n  start: number;\n  end: number;\n\n  displayedColumns: string[] = ['id', 'date', 'mobile', 'link'];\n\n  constructor(private tagService: TagService, private route: ActivatedRoute, private router: Router) {}\n\n  ngOnInit() {\n    this.getTags();\n    this.clear();\n  }\n\n  clear() {\n    this.start = 0;\n    this.end = 10;\n  }\n\n  getTags(): void {\n    this.tagService.getTags()\n        .subscribe(tags => this.tags = tags);\n  }\n\n  gotoTagById(tag: Tag): void {\n    const tagId = tag ? tag.id : null;\n    this.router.navigate([`/tag/${tagId}`]);\n  }\n\n  setPage(e: PageEvent): void {\n    console.log(e);\n    const { pageIndex, pageSize } = e;\n    this.start = pageIndex * pageSize;\n    this.end = this.start + pageSize;\n  }\n\n  showMobile(mobile: string): string {\n    return `... ${mobile.slice(6)}`;\n  }\n}\n","module.exports = \"\"","module.exports = \"<app-header [title]=\\\"'Transaction'\\\" [back]=\\\"true\\\"></app-header>\\n\\n<mat-grid-list *ngIf=\\\"transaction | async; else loading;\\\"cols=\\\"3\\\" rowHeight=\\\"3em\\\">\\n    \\n\\n    <mat-grid-tile>A/C from:</mat-grid-tile>\\n\\n    <mat-grid-tile>\\n        <button mat-stroked-button ngxClipboard [cbContent]=\\\"tnx.from\\\">{{tnx.from.slice(0,6)+'...'+tnx.from.slice(36,42)}}</button>\\n    </mat-grid-tile>\\n\\n    <mat-grid-tile></mat-grid-tile>\\n\\n    <mat-grid-tile>A/C to:</mat-grid-tile>\\n\\n    <mat-grid-tile>\\n        <button mat-stroked-button ngxClipboard [cbContent]=\\\"tnx.to\\\">{{tnx.to.slice(0,5)+'...'+tnx.to.slice(37,42)}}</button>\\n    </mat-grid-tile>\\n\\n    <mat-grid-tile></mat-grid-tile>\\n\\n    <mat-grid-tile>Tnx #:</mat-grid-tile>\\n\\n    <mat-grid-tile>{{tnx.nonce}}</mat-grid-tile>\\n\\n    <mat-grid-tile></mat-grid-tile>\\n\\n    <mat-grid-tile>Block #:</mat-grid-tile>\\n\\n    <mat-grid-tile>{{tnx.block}}</mat-grid-tile>\\n\\n    <mat-grid-tile></mat-grid-tile>\\n\\n    <mat-grid-tile>Value:</mat-grid-tile>\\n\\n    <mat-grid-tile>{{tnx.value}}</mat-grid-tile>\\n\\n    <mat-grid-tile></mat-grid-tile>\\n\\n    <mat-grid-tile>Points:</mat-grid-tile>\\n\\n    <mat-grid-tile>{{tnx.points}}</mat-grid-tile>\\n\\n    <mat-grid-tile></mat-grid-tile>\\n\\n    <mat-grid-tile>Blockchain:</mat-grid-tile>\\n\\n    <mat-grid-tile>{{tnx.chainId}}</mat-grid-tile>\\n\\n    <mat-grid-tile></mat-grid-tile>\\n    \\n    <mat-grid-tile [colspan]=\\\"3\\\"><a [href]=\\\"'https://rinkeby.etherscan.io/tx/'+tnx.hash\\\">See this transaction on Etherscan.io</a></mat-grid-tile>\\n\\n\\n</mat-grid-list>\"","import { Component, OnInit, OnDestroy, AfterViewInit, NgZone } from '@angular/core';\nimport { Router, ActivatedRoute, ParamMap } from '@angular/router';\nimport { Location } from '@angular/common';\n\nimport { AuthService } from '../auth.service';\n\nimport { Subscription, Observable, timer } from 'rxjs';\nimport { Transaction } from '../transaction';\nimport { TransactionService } from '../transaction.service';\n\n@Component({\n  selector: 'app-tnx-detail',\n  templateUrl: './tnx-detail.component.html',\n  styleUrls: ['./tnx-detail.component.css']\n})\nexport class TnxDetailComponent implements OnInit {\n  hash: string;\n  transaction: Observable<Transaction[]>;\n  tnx: Transaction;\n\n  constructor(\n    private route: ActivatedRoute,\n    private location: Location,\n    private router: Router,\n    private authService: AuthService,\n    private tnxService: TransactionService\n    ) {}\n\n  ngOnInit() {\n    this.hash = this.route.snapshot.paramMap.get('hash');\n    this.transaction = this.tnxService.getTransaction(this.hash);\n    this.transaction.subscribe((transactions) => this.tnx = transactions[0]);\n  }\n\n\n  gotoBack(): void {\n    this.location.back();\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { Observable, BehaviorSubject, combineLatest  } from 'rxjs';\nimport { switchMap } from 'rxjs/operators';\nimport { DatePipe } from '@angular/common';\nimport { Transaction } from './transaction';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TransactionService {\n  db: AngularFirestore;\n\n  transactions: Observable<Transaction[]>;\n  transaction: Observable<Transaction[]>;\n\n  where$: BehaviorSubject<string|null>;\n  hash$: BehaviorSubject<string|null>;\n\n  constructor(private datePipe: DatePipe, db: AngularFirestore) {\n    this.db = db;\n    this.where$ = new BehaviorSubject(null);\n    this.transactions = combineLatest(this.where$).pipe(\n      switchMap(([where]) =>\n        db.collection<Transaction>('transactions', ref => {\n        let query: firebase.firestore.CollectionReference | firebase.firestore.Query = ref;\n        if (where) { query = query.where('from', '==', where); }\n        query = query.orderBy('nonce', 'desc');\n        return query;\n        }).valueChanges()\n    ));\n\n    this.hash$ = new BehaviorSubject(null);\n    this.transaction = combineLatest(this.hash$).pipe(\n      switchMap(([hash]) =>\n        db.collection<Transaction>('transactions', ref => {\n        let query: firebase.firestore.CollectionReference | firebase.firestore.Query = ref;\n        if (hash) { query = query.where('hash', '==', hash); }\n        query = query.limit(1);\n        return query;\n        }).valueChanges()\n    ));\n  }\n\n  getAccountTransactions(account: string): Observable<Transaction[]> {\n    this.where$.next(account);\n    return this.transactions;\n  }\n\n  getTransaction(hash: string): Observable<Transaction[]> {\n    this.hash$.next(hash);\n    return this.transaction;\n  }\n\n  addTransaction(tnx: Transaction): void {\n    this.db.collection('transactions').add(tnx)\n      .then(ref => console.log)\n      .catch(error => console.error);\n  }\n\n  updateTransaction(tnx: Transaction): void {\n    this.db.collection('transactions').ref.where('hash', '==', tnx.hash)\n      .get()\n        .then((querySnapshot) => {\n          if (querySnapshot.empty) {\n            console.error(`Transaction hash ${tnx.hash} is not found`);\n          } else {\n            const doc = querySnapshot.docs[0];\n            this.db.collection('transactions').doc(doc.id).update(tnx);\n          }\n        })\n        .catch(error => console.error);\n\n  }\n}\n","module.exports = \".example-h2 {\\n    margin: 10px;\\n  }\\n  \\n  .example-section {\\n    display: flex;\\n    align-content: center;\\n    align-items: center;\\n    height: 60px;\\n  }\\n  \\n  .example-margin {\\n    margin: 10px;\\n  }\\n  \\n  .mat-slider-horizontal {\\n    width: 300px;\\n  }\\n  \\n  .mat-slider-vertical {\\n    height: 300px;\\n  }\\n  \"","module.exports = \"<app-header *ngIf=\\\"!scanning\\\" [back]=\\\"true\\\" [title]=\\\"'Use points'\\\"></app-header>\\n\\n<mat-grid-list *ngIf=\\\"!scanning\\\" cols=\\\"3\\\" rowHeight=\\\"3em\\\">\\n    \\n    \\n\\n    <mat-grid-tile [colspan]=\\\"3\\\"><h4>From</h4></mat-grid-tile>\\n    <mat-grid-tile [colspan]=\\\"3\\\">{{account}}</mat-grid-tile>\\n    <mat-grid-tile [colspan]=\\\"3\\\"><h4>To</h4></mat-grid-tile>\\n    <mat-grid-tile *ngIf=\\\"dest\\\" [colspan]=\\\"3\\\">{{dest}}</mat-grid-tile>\\n    <mat-grid-tile></mat-grid-tile>\\n    <mat-grid-tile>\\n        <button mat-raised-button color=\\\"accent\\\" [disabled]=\\\"process\\\" (click)=\\\"scan()\\\">Scan QR</button>\\n    </mat-grid-tile>\\n    <mat-grid-tile></mat-grid-tile>\\n    <mat-grid-tile [colspan]=\\\"3\\\"><h4>Number</h4></mat-grid-tile>\\n    <mat-grid-tile [colspan]=\\\"3\\\">{{value}}</mat-grid-tile>\\n    <mat-grid-tile [rowspan]=\\\"2\\\" [colspan]=\\\"3\\\">\\n      <mat-slider [min]=\\\"0\\\" [max]=\\\"points\\\" thumbLabel=\\\"1\\\" showTicks=\\\"1\\\" step=\\\"1\\\" [(ngModel)]=\\\"value\\\"></mat-slider>\\n    </mat-grid-tile>\\n    \\n    <mat-grid-tile></mat-grid-tile>\\n    <mat-grid-tile>\\n        <button mat-raised-button color=\\\"accent\\\" [disabled]=\\\"!value || process || invalid\\\" (click)=\\\"confirm()\\\">Confirm</button>\\n    </mat-grid-tile>\\n    <mat-grid-tile></mat-grid-tile>\\n  \\n</mat-grid-list>\\n\\n<mat-grid-list *ngIf=\\\"scanning\\\" cols=\\\"3\\\" rowHeight=\\\"3em\\\">\\n    \\n    <mat-grid-tile>\\n      \\n    </mat-grid-tile>\\n\\n    <mat-grid-tile><h3>Scanner</h3></mat-grid-tile>\\n\\n    <mat-grid-tile>\\n      <button (click)=\\\"close()\\\" mat-icon-button>\\n        <mat-icon>close</mat-icon>\\n      </button>\\n    </mat-grid-tile>\\n  \\n</mat-grid-list>\\n\\n<zxing-scanner [formats]=\\\"['QR_CODE', 'EAN_13', 'CODE_128', 'CODABAR', 'UPC_A', 'UPC_E', 'UPC_EAN_EXTENSION', 'CODE_39', 'ITF']\\\" *ngIf=\\\"scanning\\\" #scanner (camerasFound)=\\\"camerasFoundHandler($event)\\\" (scanComplete)=\\\"scanCompleteHandler($event)\\\"></zxing-scanner>\"","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { TagService } from '../tag.service';\nimport { Tag, Registration } from '../tag';\nimport { Location } from '@angular/common';\nimport { AuthService } from '../auth.service';\nimport { Wallet } from '../wallet';\nimport { EthcontractService } from '../ethereum/ethcontract.service';\nimport { ZXingScannerComponent } from '@zxing/ngx-scanner';\nimport { Result } from '@zxing/library';\n\n@Component({\n  selector: 'app-use-points',\n  templateUrl: './use-points.component.html',\n  styleUrls: ['./use-points.component.css']\n})\nexport class UsePointsComponent implements OnInit {\n  account: string;\n  dest: string;\n  points: string;\n  value: number;\n  process: boolean;\n  scanning: boolean;\n  qr_code: string;\n  invalid: boolean;\n\n  @ViewChild('scanner') scanner: ZXingScannerComponent;\n\n  constructor(\n    private tagService: TagService,\n    private authService: AuthService,\n    private route: ActivatedRoute,\n    private location: Location,\n    private router: Router,\n    private contractService: EthcontractService,\n    ) {}\n\n  ngOnInit() {\n    this.value = 0;\n    this.dest = '';\n    this.process = false;\n    this.scanning = false;\n    this.invalid = true;\n    this.account = this.route.snapshot.paramMap.get('acc');\n    this.points = this.route.snapshot.paramMap.get('points');\n  }\n\n  camerasFoundHandler(event) {\n    this.scanner.scan(event[0].deviceId);\n  }\n\n  scanCompleteHandler(event) {\n    this.scanning = false;\n    console.log(event);\n    if (event instanceof Result) {\n      this.qr_code = event.getText();\n      if (this.qr_code.startsWith('ethereum:')) {\n        this.invalid = false;\n        this.dest = this.qr_code.slice(9);\n      } else {\n        this.invalid = true;\n        this.dest = this.qr_code;\n      }\n    } else {\n      console.error('Scanner error');\n    }\n  }\n\n  gotoBack(): void {\n    this.location.back();\n  }\n\n  scan(): void {\n    this.scanning = true;\n  }\n\n  close(): void {\n    this.scanning = false;\n  }\n\n  confirm(): void {\n    this.value = 1;\n    this.process = true;\n    this.contractService.transfer(this.dest);\n    this.location.back();\n  }\n}\n","module.exports = \".example-headers-align .mat-expansion-panel-header-title,\\n.example-headers-align .mat-expansion-panel-header-description {\\n  flex-basis: 0;\\n}\\n\\n.example-headers-align .mat-expansion-panel-header-description {\\n  justify-content: space-between;\\n  align-items: center;\\n}\\n\"","module.exports = \"<app-header [back]=\\\"true\\\" [title]=\\\"'Profile'\\\"></app-header>\\n<mat-grid-list cols=\\\"3\\\" rowHeight=\\\"3em\\\">\\n\\n  <mat-grid-tile *ngIf=\\\"name()\\\">Name</mat-grid-tile>\\n\\n  <mat-grid-tile *ngIf=\\\"name()\\\"></mat-grid-tile>\\n\\n  <mat-grid-tile *ngIf=\\\"name()\\\">{{name()}}</mat-grid-tile>\\n\\n  <mat-grid-tile *ngIf=\\\"phone()\\\">Mobile</mat-grid-tile>\\n\\n  <mat-grid-tile *ngIf=\\\"phone()\\\"></mat-grid-tile>\\n\\n  <mat-grid-tile *ngIf=\\\"phone()\\\">{{phone()}}</mat-grid-tile>\\n\\n  <mat-grid-tile *ngIf=\\\"rider\\\">Nikname</mat-grid-tile>\\n  \\n  <mat-grid-tile *ngIf=\\\"rider\\\"></mat-grid-tile>\\n  \\n  <mat-grid-tile *ngIf=\\\"rider\\\">{{rider.nikname}}</mat-grid-tile>\\n</mat-grid-list>\\n\\n<mat-accordion>\\n    <mat-expansion-panel (opened)=\\\"getTags()\\\">\\n      <mat-expansion-panel-header>\\n        <mat-panel-title>\\n          Tags\\n        </mat-panel-title>\\n        <mat-panel-description>\\n          Open to see your tags\\n        </mat-panel-description>\\n      </mat-expansion-panel-header>\\n  \\n      <app-user-tags [tags]=\\\"tags\\\"></app-user-tags>\\n  \\n    </mat-expansion-panel>\\n</mat-accordion>\\n\\n<mat-divider *ngIf=\\\"wallet\\\"></mat-divider>\\n<mat-grid-list cols=\\\"3\\\" rowHeight=\\\"3em\\\">\\n  \\n  <mat-grid-tile [colspan]=\\\"3\\\" *ngIf=\\\"wallet\\\"><h3>Wallet</h3></mat-grid-tile>\\n\\n  <mat-grid-tile *ngIf=\\\"wallet\\\">Account</mat-grid-tile>\\n\\n  <mat-grid-tile *ngIf=\\\"wallet\\\">\\n      <button (click)=\\\"qrcode()\\\" mat-icon-button>\\n          <mat-icon>view_agenda</mat-icon>\\n      </button>\\n  </mat-grid-tile>\\n\\n  <mat-grid-tile *ngIf=\\\"wallet\\\">\\n    <button mat-stroked-button ngxClipboard [cbContent]=\\\"account\\\">{{account.slice(0,6)+'...'+account.slice(36,42)}}</button>\\n  </mat-grid-tile>\\n\\n  <mat-grid-tile *ngIf=\\\"wallet\\\">Balance</mat-grid-tile>\\n    \\n  <mat-grid-tile *ngIf=\\\"wallet\\\"></mat-grid-tile>\\n\\n  <mat-grid-tile *ngIf=\\\"wallet\\\">{{balance}} Ether</mat-grid-tile>\\n\\n  <mat-grid-tile *ngIf=\\\"wallet\\\">Points</mat-grid-tile>\\n\\n  <mat-grid-tile *ngIf=\\\"wallet\\\">{{points}}</mat-grid-tile>\\n\\n  <mat-grid-tile *ngIf=\\\"wallet\\\">{{token}} Ether</mat-grid-tile>\\n\\n</mat-grid-list>\\n\\n<mat-accordion *ngIf=\\\"wallet\\\"> \\n    <mat-expansion-panel>\\n      <mat-expansion-panel-header>\\n        <mat-panel-title>\\n          Transactions\\n        </mat-panel-title>\\n        <mat-panel-description>\\n          Open to see all\\n        </mat-panel-description>\\n      </mat-expansion-panel-header>\\n\\n      <app-user-tnx [transactions]=\\\"transactions | async\\\"></app-user-tnx>\\n  \\n  \\n    </mat-expansion-panel>\\n</mat-accordion>\\n<br>\\n\\n\\n  \\n<mat-grid-list cols=\\\"3\\\" rowHeight=\\\"3em\\\">\\n\\n  <mat-grid-tile [colspan]=\\\"3\\\">\\n  </mat-grid-tile>\\n\\n  <mat-grid-tile *ngIf=\\\"authenticated()\\\">\\n    <button mat-raised-button color=\\\"warn\\\" [disabled]=\\\"!authenticated()\\\" (click)=\\\"logout()\\\">Logout</button>\\n  </mat-grid-tile>\\n  \\n  <mat-grid-tile *ngIf=\\\"authenticated()\\\">\\n      <button mat-raised-button color=\\\"accent\\\" [disabled]=\\\"!authenticated() || !wallet || !havePoints()\\\" (click)=\\\"use()\\\">Use points</button>\\n  </mat-grid-tile>\\n  \\n  <mat-grid-tile *ngIf=\\\"authenticated()\\\">\\n    <button mat-raised-button color=\\\"primary\\\" [disabled]=\\\"!authenticated()\\\" (click)=\\\"gotoUpdate()\\\">Update</button>\\n  </mat-grid-tile>\\n\\n  <mat-grid-tile *ngIf=\\\"!authenticated()\\\" [colspan]=\\\"3\\\">\\n    No user logged in\\n  </mat-grid-tile>\\n\\n</mat-grid-list>\\n\\n\\n  \"","import { Component, OnInit, AfterViewInit, NgZone } from '@angular/core';\nimport { Router, ActivatedRoute, ParamMap } from '@angular/router';\nimport { TagService } from '../tag.service';\nimport { Tag, Registration } from '../tag';\nimport * as firebase from 'firebase/app';\nimport { AuthService } from '../auth.service';\nimport { TrustedScriptString } from '@angular/core/src/sanitization/bypass';\nimport { routerNgProbeToken } from '@angular/router/src/router_module';\nimport { RiderService } from '../rider.service';\nimport { Rider, Bike } from '../rider';\nimport { Wallet } from '../wallet';\nimport { EthcontractService } from '../ethereum/ethcontract.service';\nimport { Observable, of } from 'rxjs';\nimport { first } from 'rxjs/operators';\nimport { Transaction } from '../transaction';\nimport { TransactionService } from '../transaction.service';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport { QrcodeDialogComponent } from '../qrcode-dialog/qrcode-dialog.component';\nimport { UserTagsComponent } from '../user-tags/user-tags.component';\n\n@Component({\n  selector: 'app-user-profile',\n  templateUrl: './user-profile.component.html',\n  styleUrls: ['./user-profile.component.css'],\n  providers: [TagService]\n})\nexport class UserProfileComponent implements OnInit, AfterViewInit {\n  tags: Tag[];\n  rider: Rider;\n  wallet: Wallet;\n  balance: string;\n  account: string;\n  token: string;\n  points: string;\n  showqr: boolean;\n  result: string;\n  transactions: Observable<Transaction[]>;\n  constructor(\n    private tagService: TagService,\n    private authService: AuthService,\n    private riderService: RiderService,\n    private route: ActivatedRoute,\n    private router: Router,\n    private contractService: EthcontractService,\n    private zone: NgZone,\n    private tnxService: TransactionService,\n    public dialog: MatDialog\n    ) { }\n\n  ngOnInit() {\n    this.riderService.getRiderByMobile(this.authService.getUserPhone())\n      .subscribe(riders => {\n        if (riders) {\n          if (riders.length > 0) {\n            this.rider = riders[0];\n            this.wallet = this.rider.wallet;\n            if (this.rider.wallet) {\n              this.account = this.rider.wallet.accounts[0];\n              this.contractService.getAccountBalance(this.account)\n                .subscribe((result) => this.zone.run(() => this.balance = `${+result / 1e18}`));\n              this.getBalance().subscribe(results => {\n                this.token = `${+results / 1e18}`;\n              });\n              this.transactions = this.tnxService.getAccountTransactions(this.account);\n              this.transactions.subscribe((tnxs) => {\n                this.contractService.getTokenBalance(this.account)\n                  .subscribe((balance) => {\n                    this.points = `${+balance}`;\n                  });\n              });\n            }\n          }\n        }\n       });\n  }\n\n  ngAfterViewInit() {\n    this.getTags();\n  }\n\n  qrcode(): void {\n    this.showqr = true;\n    const dialogRef = this.dialog.open(QrcodeDialogComponent, {\n      width: '250px',\n      height: '300px',\n      data: {account: this.account, result: null}\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      console.log('The dialog was closed');\n      this.result = result;\n    });\n  }\n\n  getTags(): void {\n    this.tagService.getTagsByMobile(this.phone())\n        .subscribe(tags => this.tags = tags);\n  }\n\n  phone(): string | null {\n    return this.authService.getUserPhone();\n  }\n\n  name(): string | null {\n    return this.authService.getUserName();\n  }\n\n  authenticated(): boolean {\n    return this.authService.authenticated();\n  }\n\n  logout(): void {\n    this.authService.logout();\n  }\n\n  gotoUpdate(): void {\n    this.router.navigate([`/update`]);\n  }\n\n  use(): void {\n    this.router.navigate([`/use/${this.account}/${this.points}`]);\n  }\n\n  havePoints(): boolean {\n    return +this.points > 0;\n  }\n\n  gotoTagById(tag: Tag): void {\n    const tagId = tag ? tag.id : null;\n    this.router.navigate([`/tag/${tagId}`]);\n  }\n\n  getAccount(): string | null {\n    if (this.wallet) {\n      return this.wallet.accounts[0];\n    } else {\n      return null;\n    }\n  }\n\n  getAccountBalance(): Observable<string[] | null> {\n    if (!this.wallet) {\n      return of(null);\n    } else {\n      return this.contractService.getAccountBalance(this.wallet.accounts[0]);\n    }\n  }\n\n  getBalance(): Observable<any[] | Error> {\n    if (!this.wallet) {\n      return of(null);\n    } else {\n      return this.contractService.getBalance();\n    }\n  }\n\n  gotoTnx(hash: string): void {\n    this.router.navigate([`/tnx/${hash}`]);\n  }\n\n}\n","module.exports = \"table {\\n    width: 100%;\\n  }\\n\\n.mat-cell .mat-icon {\\n    -webkit-transform: scale(0.6);\\n            transform: scale(0.6);\\n}\"","module.exports = \"<div *ngIf=\\\"tags\\\">\\n  <table *ngIf=\\\"tags.length>0\\\" mat-table [dataSource]=\\\"tags | slice:start:end\\\" class=\\\"mat-elevation-z8\\\">\\n\\n      <!-- Position Column -->\\n      <ng-container matColumnDef=\\\"id\\\">\\n        <th mat-header-cell *matHeaderCellDef> ID </th>\\n        <td mat-cell *matCellDef=\\\"let element\\\"> {{element.id}}</td>\\n      </ng-container>\\n\\n      <!-- Position Column -->\\n      <ng-container matColumnDef=\\\"date\\\">\\n        <th mat-header-cell *matHeaderCellDef> Date </th>\\n        <td mat-cell *matCellDef=\\\"let element\\\"> {{element.regDate}}</td>\\n      </ng-container>\\n    \\n\\n      <!-- Weight Column -->\\n      <ng-container matColumnDef=\\\"link\\\">\\n          <th mat-header-cell *matHeaderCellDef> Details </th>\\n          <td mat-cell *matCellDef=\\\"let element\\\"> <button (click)=\\\"gotoTagById(element)\\\" mat-icon-button> <mat-icon>call_made</mat-icon></button> </td>\\n        </ng-container>\\n    \\n    \\n      <tr mat-header-row *matHeaderRowDef=\\\"displayedColumns\\\"></tr>\\n      <tr mat-row *matRowDef=\\\"let row; columns: displayedColumns;\\\"></tr>\\n    </table>\\n    <br>\\n    \\n<mat-paginator *ngIf=\\\"tags.length>0\\\" [length]=\\\"tags.length\\\"\\n              [pageSize]=\\\"10\\\"\\n              [pageSizeOptions]=\\\"[1, 5, 10, 25, 100]\\\"\\n              (page)=\\\"setPage($event)\\\">\\n</mat-paginator>\\n</div>\"","import { Component, OnInit, Input } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { PageEvent } from '@angular/material';\nimport { Tag } from '../tag';\n\n@Component({\n  selector: 'app-user-tags',\n  templateUrl: './user-tags.component.html',\n  styleUrls: ['./user-tags.component.css']\n})\nexport class UserTagsComponent implements OnInit {\n  @Input() tags: Tag[];\n  start: number;\n  end: number;\n\n  displayedColumns: string[] = ['id', 'date', 'link'];\n\n  constructor(private router: Router) { }\n\n  ngOnInit() {\n    this.start = 0;\n    this.end = 10;\n  }\n\n  gotoTagById(tag: Tag): void {\n    const tagId = tag ? tag.id : null;\n    this.router.navigate([`/tag/${tagId}`]);\n  }\n\n  setPage(e: PageEvent): void {\n    console.log(e);\n    const { pageIndex, pageSize } = e;\n    this.start = pageIndex * pageSize;\n    this.end = this.start + pageSize;\n  }\n\n}\n","module.exports = \"table {\\n    width: 100%;\\n  }\\n\\n.mat-cell .mat-icon {\\n    -webkit-transform: scale(0.6);\\n            transform: scale(0.6);\\n}\"","module.exports = \"<div *ngIf=\\\"transactions\\\">\\n  <table *ngIf=\\\"transactions.length>0\\\" mat-table [dataSource]=\\\"transactions | slice:start:end\\\" class=\\\"mat-elevation-z8\\\">\\n\\n      <!-- Position Column -->\\n      <ng-container matColumnDef=\\\"nonce\\\">\\n        <th mat-header-cell *matHeaderCellDef> # </th>\\n        <td mat-cell *matCellDef=\\\"let element\\\"> {{element.nonce}}</td>\\n      </ng-container>\\n\\n      <!-- Position Column -->\\n      <ng-container matColumnDef=\\\"block\\\">\\n        <th mat-header-cell *matHeaderCellDef> Block </th>\\n        <td mat-cell *matCellDef=\\\"let element\\\"> {{element.block}}</td>\\n      </ng-container>\\n\\n      <!-- Position Column -->\\n      <ng-container matColumnDef=\\\"value\\\">\\n        <th mat-header-cell *matHeaderCellDef> Value </th>\\n        <td mat-cell *matCellDef=\\\"let element\\\"> {{element.value}}</td>\\n      </ng-container>\\n\\n       <!-- Position Column -->\\n       <ng-container matColumnDef=\\\"points\\\">\\n        <th mat-header-cell *matHeaderCellDef> Points </th>\\n        <td mat-cell *matCellDef=\\\"let element\\\"> {{element.points}}</td>\\n      </ng-container>\\n    \\n\\n      <!-- Weight Column -->\\n      <ng-container matColumnDef=\\\"link\\\">\\n          <th mat-header-cell *matHeaderCellDef> Details </th>\\n          <td mat-cell *matCellDef=\\\"let element\\\"> <button (click)=\\\"gotoTnx(element.hash)\\\" mat-icon-button> <mat-icon>call_made</mat-icon></button> </td>\\n        </ng-container>\\n    \\n    \\n      <tr mat-header-row *matHeaderRowDef=\\\"displayedColumns\\\"></tr>\\n      <tr mat-row *matRowDef=\\\"let row; columns: displayedColumns;\\\"></tr>\\n    </table>\\n    <br>\\n    \\n<mat-paginator *ngIf=\\\"transactions.length>0\\\" [length]=\\\"transactions.length\\\"\\n              [pageSize]=\\\"10\\\"\\n              [pageSizeOptions]=\\\"[1, 5, 10, 25, 100]\\\"\\n              (page)=\\\"setPage($event)\\\">\\n</mat-paginator>\\n</div>\"","import { Component, OnInit, Input } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { PageEvent } from '@angular/material';\nimport { Transaction } from '../transaction';\n\n@Component({\n  selector: 'app-user-tnx',\n  templateUrl: './user-tnx.component.html',\n  styleUrls: ['./user-tnx.component.css']\n})\nexport class UserTnxComponent implements OnInit {\n  @Input() transactions: Transaction[];\n  start: number;\n  end: number;\n\n  displayedColumns: string[] = ['nonce', 'block', 'value', 'points', 'link'];\n\n  constructor(private router: Router) { }\n\n  ngOnInit() {\n    this.start = 0;\n    this.end = 10;\n  }\n\n  gotoTnx(hash: string): void {\n    this.router.navigate([`/tnx/${hash}`]);\n  }\n\n  setPage(e: PageEvent): void {\n    console.log(e);\n    const { pageIndex, pageSize } = e;\n    this.start = pageIndex * pageSize;\n    this.end = this.start + pageSize;\n  }\n\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build ---prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  firebase:  {\n    apiKey: 'AIzaSyARllasipU-7JhdvtkRV25er--zMyOPEW0',\n    authDomain: 'cloud-firestore-test-d95bf.firebaseapp.com',\n    databaseURL: 'https://cloud-firestore-test-d95bf.firebaseio.com',\n    projectId: 'cloud-firestore-test-d95bf',\n    storageBucket: 'cloud-firestore-test-d95bf.appspot.com',\n    messagingSenderId: '740765205427'\n  }\n};\nexport const version = 'Version 0.0.1.7';\n/*\n * In development mode, to ignore zone related error stack frames such as\n * `zone.run`, `zoneDelegate.invokeTask` for easier debugging, you can\n * import the following file, but please comment it out in production mode\n * because it will have performance impact when throw error\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","export const ProcessingError = {\n    100: 'Incorrect Operation ID',\n    101: 'Incorrect Order ID',\n    102: 'Incorrect Sector ID',\n    103: 'Operation not found',\n    104: 'Order not found',\n    145: 'Sector does not support Authorize',\n};\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */"],"sourceRoot":""}