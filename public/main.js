(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || Function("return this")() || (1, eval)("this");
} catch (e) {
	// This works if the window reference is available
	if (typeof window === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),

/***/ "./src/$$_lazy_route_resource lazy recursive":
/*!**********************************************************!*\
  !*** ./src/$$_lazy_route_resource lazy namespace object ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncaught exception popping up in devtools
	return Promise.resolve().then(function() {
		var e = new Error('Cannot find module "' + req + '".');
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "./src/$$_lazy_route_resource lazy recursive";

/***/ }),

/***/ "./src/app/about/about.component.css":
/*!*******************************************!*\
  !*** ./src/app/about/about.component.css ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/about/about.component.html":
/*!********************************************!*\
  !*** ./src/app/about/about.component.html ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n<mat-grid-list cols=\"3\" rowHeight=\"4em\">\n    <mat-grid-tile [routerLink]=\"['/landing']\" [rowspan]=\"3\" [colspan]=\"3\">\n        <img  src=\"../assets/giro_logo_big.png\">\n    </mat-grid-tile>\n\n    <mat-grid-tile rowHeight=\"3em\" [colspan]=\"3\">\n      <p>Giro d'Iseo Web Application</p>\n    </mat-grid-tile>\n\n    <mat-grid-tile rowHeight=\"3em\" [colspan]=\"3\">\n      <p><small>Virsion 0.0.1.3</small></p>\n    </mat-grid-tile>\n\n    <mat-grid-tile rowHeight=\"3em\" [colspan]=\"3\">\n        <p><small>Ethereum Rinkiby network (https)</small></p>\n      </mat-grid-tile>\n\n    <mat-grid-tile rowHeight=\"3em\" [colspan]=\"3\">\n      <p><small>Copyright REGA Risk Sharing (C) 2019</small></p>\n    </mat-grid-tile>\n    \n</mat-grid-list>\n"

/***/ }),

/***/ "./src/app/about/about.component.ts":
/*!******************************************!*\
  !*** ./src/app/about/about.component.ts ***!
  \******************************************/
/*! exports provided: AboutComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AboutComponent", function() { return AboutComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var AboutComponent = /** @class */ (function () {
    function AboutComponent() {
    }
    AboutComponent.prototype.ngOnInit = function () {
    };
    AboutComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-about',
            template: __webpack_require__(/*! ./about.component.html */ "./src/app/about/about.component.html"),
            styles: [__webpack_require__(/*! ./about.component.css */ "./src/app/about/about.component.css")]
        }),
        __metadata("design:paramtypes", [])
    ], AboutComponent);
    return AboutComponent;
}());



/***/ }),

/***/ "./src/app/app-routing.module.ts":
/*!***************************************!*\
  !*** ./src/app/app-routing.module.ts ***!
  \***************************************/
/*! exports provided: AppRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppRoutingModule", function() { return AppRoutingModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _tags_tags_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./tags/tags.component */ "./src/app/tags/tags.component.ts");
/* harmony import */ var _tag_detail_tag_detail_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./tag-detail/tag-detail.component */ "./src/app/tag-detail/tag-detail.component.ts");
/* harmony import */ var _tag_registration_tag_registration_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./tag-registration/tag-registration.component */ "./src/app/tag-registration/tag-registration.component.ts");
/* harmony import */ var _tag_reg_sms_tag_reg_sms_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./tag-reg-sms/tag-reg-sms.component */ "./src/app/tag-reg-sms/tag-reg-sms.component.ts");
/* harmony import */ var _landing_landing_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./landing/landing.component */ "./src/app/landing/landing.component.ts");
/* harmony import */ var _login_login_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./login/login.component */ "./src/app/login/login.component.ts");
/* harmony import */ var _user_profile_user_profile_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./user-profile/user-profile.component */ "./src/app/user-profile/user-profile.component.ts");
/* harmony import */ var _sms_confirmation_sms_confirmation_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./sms-confirmation/sms-confirmation.component */ "./src/app/sms-confirmation/sms-confirmation.component.ts");
/* harmony import */ var _about_about_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./about/about.component */ "./src/app/about/about.component.ts");
/* harmony import */ var _profile_update_profile_update_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./profile-update/profile-update.component */ "./src/app/profile-update/profile-update.component.ts");
/* harmony import */ var _ride_ride_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./ride/ride.component */ "./src/app/ride/ride.component.ts");
/* harmony import */ var _ride_detail_ride_detail_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./ride-detail/ride-detail.component */ "./src/app/ride-detail/ride-detail.component.ts");
/* harmony import */ var _dashboard_dashboard_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./dashboard/dashboard.component */ "./src/app/dashboard/dashboard.component.ts");
/* harmony import */ var _getstarted_getstarted_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./getstarted/getstarted.component */ "./src/app/getstarted/getstarted.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
















var routes = [
    { path: '', redirectTo: '/landing', pathMatch: 'full' },
    { path: 'landing', component: _landing_landing_component__WEBPACK_IMPORTED_MODULE_6__["LandingComponent"] },
    { path: 'tags', component: _tags_tags_component__WEBPACK_IMPORTED_MODULE_2__["TagsComponent"] },
    { path: 'reg', component: _tag_registration_tag_registration_component__WEBPACK_IMPORTED_MODULE_4__["TagRegistrationComponent"] },
    { path: 'tag/:id', component: _tag_detail_tag_detail_component__WEBPACK_IMPORTED_MODULE_3__["TagDetailComponent"] },
    { path: 'regsms/:id/:mobile', component: _tag_reg_sms_tag_reg_sms_component__WEBPACK_IMPORTED_MODULE_5__["TagRegSmsComponent"] },
    { path: 'login', component: _login_login_component__WEBPACK_IMPORTED_MODULE_7__["LoginComponent"] },
    { path: 'profile', component: _user_profile_user_profile_component__WEBPACK_IMPORTED_MODULE_8__["UserProfileComponent"] },
    { path: 'smsconfirm/:mobile', component: _sms_confirmation_sms_confirmation_component__WEBPACK_IMPORTED_MODULE_9__["SmsConfirmationComponent"] },
    { path: 'about', component: _about_about_component__WEBPACK_IMPORTED_MODULE_10__["AboutComponent"] },
    { path: 'update', component: _profile_update_profile_update_component__WEBPACK_IMPORTED_MODULE_11__["ProfileUpdateComponent"] },
    { path: 'ride', component: _ride_ride_component__WEBPACK_IMPORTED_MODULE_12__["RideComponent"] },
    { path: 'ride/:id', component: _ride_detail_ride_detail_component__WEBPACK_IMPORTED_MODULE_13__["RideDetailComponent"] },
    { path: 'dashboard', component: _dashboard_dashboard_component__WEBPACK_IMPORTED_MODULE_14__["DashboardComponent"] },
    { path: 'getstarted', component: _getstarted_getstarted_component__WEBPACK_IMPORTED_MODULE_15__["GetstartedComponent"] },
];
var AppRoutingModule = /** @class */ (function () {
    function AppRoutingModule() {
    }
    AppRoutingModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            exports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"]],
            imports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"].forRoot(routes)],
        })
    ], AppRoutingModule);
    return AppRoutingModule;
}());



/***/ }),

/***/ "./src/app/app.component.css":
/*!***********************************!*\
  !*** ./src/app/app.component.css ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/app.component.html":
/*!************************************!*\
  !*** ./src/app/app.component.html ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!--The content below is only a placeholder and can be replaced.-->\n<app-nav-bar></app-nav-bar>\n<router-outlet></router-outlet>\n\n\n"

/***/ }),

/***/ "./src/app/app.component.ts":
/*!**********************************!*\
  !*** ./src/app/app.component.ts ***!
  \**********************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var AppComponent = /** @class */ (function () {
    function AppComponent() {
        this.title = "Giro d'Iseo";
    }
    AppComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-root',
            styles: [__webpack_require__(/*! ./app.component.css */ "./src/app/app.component.css")],
            template: __webpack_require__(/*! ./app.component.html */ "./src/app/app.component.html")
        })
    ], AppComponent);
    return AppComponent;
}());



/***/ }),

/***/ "./src/app/app.module.ts":
/*!*******************************!*\
  !*** ./src/app/app.module.ts ***!
  \*******************************/
/*! exports provided: AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app.component */ "./src/app/app.component.ts");
/* harmony import */ var _angular_fire__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/fire */ "./node_modules/@angular/fire/index.js");
/* harmony import */ var _angular_fire_firestore__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/fire/firestore */ "./node_modules/@angular/fire/firestore/index.js");
/* harmony import */ var _angular_fire_storage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/fire/storage */ "./node_modules/@angular/fire/storage/index.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _tags_tags_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./tags/tags.component */ "./src/app/tags/tags.component.ts");
/* harmony import */ var _angular_material_list__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/list */ "./node_modules/@angular/material/esm5/list.es5.js");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/esm5/button.es5.js");
/* harmony import */ var _app_routing_module__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! .//app-routing.module */ "./src/app/app-routing.module.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_material_input__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/material/input */ "./node_modules/@angular/material/esm5/input.es5.js");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/platform-browser/animations */ "./node_modules/@angular/platform-browser/fesm5/animations.js");
/* harmony import */ var _angular_material_divider__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/material/divider */ "./node_modules/@angular/material/esm5/divider.es5.js");
/* harmony import */ var _angular_material_select__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/material/select */ "./node_modules/@angular/material/esm5/select.es5.js");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/material/icon */ "./node_modules/@angular/material/esm5/icon.es5.js");
/* harmony import */ var _tag_detail_tag_detail_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./tag-detail/tag-detail.component */ "./src/app/tag-detail/tag-detail.component.ts");
/* harmony import */ var _tag_registration_tag_registration_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./tag-registration/tag-registration.component */ "./src/app/tag-registration/tag-registration.component.ts");
/* harmony import */ var _tag_reg_sms_tag_reg_sms_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./tag-reg-sms/tag-reg-sms.component */ "./src/app/tag-reg-sms/tag-reg-sms.component.ts");
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./auth.service */ "./src/app/auth.service.ts");
/* harmony import */ var angularfire2_auth__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! angularfire2/auth */ "./node_modules/angularfire2/auth/index.js");
/* harmony import */ var angularfire2_auth__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(angularfire2_auth__WEBPACK_IMPORTED_MODULE_21__);
/* harmony import */ var _nav_bar_nav_bar_component__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./nav-bar/nav-bar.component */ "./src/app/nav-bar/nav-bar.component.ts");
/* harmony import */ var _angular_material_menu__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @angular/material/menu */ "./node_modules/@angular/material/esm5/menu.es5.js");
/* harmony import */ var _landing_landing_component__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./landing/landing.component */ "./src/app/landing/landing.component.ts");
/* harmony import */ var _angular_material_grid_list__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @angular/material/grid-list */ "./node_modules/@angular/material/esm5/grid-list.es5.js");
/* harmony import */ var _login_login_component__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./login/login.component */ "./src/app/login/login.component.ts");
/* harmony import */ var _sms_confirmation_sms_confirmation_component__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./sms-confirmation/sms-confirmation.component */ "./src/app/sms-confirmation/sms-confirmation.component.ts");
/* harmony import */ var _user_profile_user_profile_component__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./user-profile/user-profile.component */ "./src/app/user-profile/user-profile.component.ts");
/* harmony import */ var _tag_service__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./tag.service */ "./src/app/tag.service.ts");
/* harmony import */ var _angular_material_expansion__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! @angular/material/expansion */ "./node_modules/@angular/material/esm5/expansion.es5.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _about_about_component__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./about/about.component */ "./src/app/about/about.component.ts");
/* harmony import */ var _profile_update_profile_update_component__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./profile-update/profile-update.component */ "./src/app/profile-update/profile-update.component.ts");
/* harmony import */ var _angular_material_paginator__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! @angular/material/paginator */ "./node_modules/@angular/material/esm5/paginator.es5.js");
/* harmony import */ var _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! @angular/material/datepicker */ "./node_modules/@angular/material/esm5/datepicker.es5.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _rider_service__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./rider.service */ "./src/app/rider.service.ts");
/* harmony import */ var _ride_ride_component__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./ride/ride.component */ "./src/app/ride/ride.component.ts");
/* harmony import */ var _clock_service__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./clock.service */ "./src/app/clock.service.ts");
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! @angular/material/table */ "./node_modules/@angular/material/esm5/table.es5.js");
/* harmony import */ var _ride_detail_ride_detail_component__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./ride-detail/ride-detail.component */ "./src/app/ride-detail/ride-detail.component.ts");
/* harmony import */ var _dashboard_dashboard_component__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./dashboard/dashboard.component */ "./src/app/dashboard/dashboard.component.ts");
/* harmony import */ var ngx_gravatar__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ngx-gravatar */ "./node_modules/ngx-gravatar/fesm5/ngx-gravatar.js");
/* harmony import */ var _images_service__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./images.service */ "./src/app/images.service.ts");
/* harmony import */ var _angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! @angular/material/progress-bar */ "./node_modules/@angular/material/esm5/progress-bar.es5.js");
/* harmony import */ var _getstarted_getstarted_component__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./getstarted/getstarted.component */ "./src/app/getstarted/getstarted.component.ts");
/* harmony import */ var videogular2_core__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! videogular2/core */ "./node_modules/videogular2/core.js");
/* harmony import */ var videogular2_core__WEBPACK_IMPORTED_MODULE_47___default = /*#__PURE__*/__webpack_require__.n(videogular2_core__WEBPACK_IMPORTED_MODULE_47__);
/* harmony import */ var videogular2_controls__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! videogular2/controls */ "./node_modules/videogular2/controls.js");
/* harmony import */ var videogular2_controls__WEBPACK_IMPORTED_MODULE_48___default = /*#__PURE__*/__webpack_require__.n(videogular2_controls__WEBPACK_IMPORTED_MODULE_48__);
/* harmony import */ var videogular2_overlay_play__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! videogular2/overlay-play */ "./node_modules/videogular2/overlay-play.js");
/* harmony import */ var videogular2_overlay_play__WEBPACK_IMPORTED_MODULE_49___default = /*#__PURE__*/__webpack_require__.n(videogular2_overlay_play__WEBPACK_IMPORTED_MODULE_49__);
/* harmony import */ var videogular2_buffering__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! videogular2/buffering */ "./node_modules/videogular2/buffering.js");
/* harmony import */ var videogular2_buffering__WEBPACK_IMPORTED_MODULE_50___default = /*#__PURE__*/__webpack_require__.n(videogular2_buffering__WEBPACK_IMPORTED_MODULE_50__);
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! @angular/material/card */ "./node_modules/@angular/material/esm5/card.es5.js");
/* harmony import */ var _ethereum_ethcontract_service__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ./ethereum/ethcontract.service */ "./src/app/ethereum/ethcontract.service.ts");
/* harmony import */ var _ethereum_ethereum_module__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ./ethereum/ethereum.module */ "./src/app/ethereum/ethereum.module.ts");
/* harmony import */ var _angular_material_slide_toggle__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! @angular/material/slide-toggle */ "./node_modules/@angular/material/esm5/slide-toggle.es5.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};























































var AppModule = /** @class */ (function () {
    function AppModule() {
    }
    AppModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            declarations: [
                _app_component__WEBPACK_IMPORTED_MODULE_2__["AppComponent"],
                _tags_tags_component__WEBPACK_IMPORTED_MODULE_7__["TagsComponent"],
                _tag_detail_tag_detail_component__WEBPACK_IMPORTED_MODULE_17__["TagDetailComponent"],
                _tag_registration_tag_registration_component__WEBPACK_IMPORTED_MODULE_18__["TagRegistrationComponent"],
                _tag_reg_sms_tag_reg_sms_component__WEBPACK_IMPORTED_MODULE_19__["TagRegSmsComponent"],
                _nav_bar_nav_bar_component__WEBPACK_IMPORTED_MODULE_22__["NavBarComponent"],
                _landing_landing_component__WEBPACK_IMPORTED_MODULE_24__["LandingComponent"],
                _login_login_component__WEBPACK_IMPORTED_MODULE_26__["LoginComponent"],
                _sms_confirmation_sms_confirmation_component__WEBPACK_IMPORTED_MODULE_27__["SmsConfirmationComponent"],
                _user_profile_user_profile_component__WEBPACK_IMPORTED_MODULE_28__["UserProfileComponent"],
                _about_about_component__WEBPACK_IMPORTED_MODULE_32__["AboutComponent"],
                _profile_update_profile_update_component__WEBPACK_IMPORTED_MODULE_33__["ProfileUpdateComponent"],
                _ride_ride_component__WEBPACK_IMPORTED_MODULE_38__["RideComponent"],
                _ride_detail_ride_detail_component__WEBPACK_IMPORTED_MODULE_41__["RideDetailComponent"],
                _dashboard_dashboard_component__WEBPACK_IMPORTED_MODULE_42__["DashboardComponent"],
                _getstarted_getstarted_component__WEBPACK_IMPORTED_MODULE_46__["GetstartedComponent"],
            ],
            imports: [
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_0__["BrowserModule"],
                _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_13__["BrowserAnimationsModule"],
                _angular_fire__WEBPACK_IMPORTED_MODULE_3__["AngularFireModule"].initializeApp(_environments_environment__WEBPACK_IMPORTED_MODULE_6__["environment"].firebase),
                _angular_fire_firestore__WEBPACK_IMPORTED_MODULE_4__["AngularFirestoreModule"],
                _angular_fire_storage__WEBPACK_IMPORTED_MODULE_5__["AngularFireStorageModule"],
                _angular_material_list__WEBPACK_IMPORTED_MODULE_8__["MatListModule"],
                _angular_material_button__WEBPACK_IMPORTED_MODULE_9__["MatButtonModule"],
                _app_routing_module__WEBPACK_IMPORTED_MODULE_10__["AppRoutingModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_11__["FormsModule"],
                _angular_material_input__WEBPACK_IMPORTED_MODULE_12__["MatInputModule"],
                _angular_material_divider__WEBPACK_IMPORTED_MODULE_14__["MatDividerModule"],
                _angular_material_select__WEBPACK_IMPORTED_MODULE_15__["MatSelectModule"],
                _angular_material_icon__WEBPACK_IMPORTED_MODULE_16__["MatIconModule"],
                angularfire2_auth__WEBPACK_IMPORTED_MODULE_21__["AngularFireAuthModule"],
                _angular_material_menu__WEBPACK_IMPORTED_MODULE_23__["MatMenuModule"],
                _angular_material_grid_list__WEBPACK_IMPORTED_MODULE_25__["MatGridListModule"],
                _angular_material_expansion__WEBPACK_IMPORTED_MODULE_30__["MatExpansionModule"],
                _angular_material_paginator__WEBPACK_IMPORTED_MODULE_34__["MatPaginatorModule"],
                _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_35__["MatDatepickerModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_36__["MatNativeDateModule"],
                _angular_material_table__WEBPACK_IMPORTED_MODULE_40__["MatTableModule"],
                ngx_gravatar__WEBPACK_IMPORTED_MODULE_43__["GravatarModule"],
                _angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_45__["MatProgressBarModule"],
                videogular2_core__WEBPACK_IMPORTED_MODULE_47__["VgCoreModule"],
                videogular2_buffering__WEBPACK_IMPORTED_MODULE_50__["VgBufferingModule"],
                videogular2_controls__WEBPACK_IMPORTED_MODULE_48__["VgControlsModule"],
                videogular2_overlay_play__WEBPACK_IMPORTED_MODULE_49__["VgOverlayPlayModule"],
                _angular_material_card__WEBPACK_IMPORTED_MODULE_51__["MatCardModule"],
                _ethereum_ethereum_module__WEBPACK_IMPORTED_MODULE_53__["EthereumModule"],
                _angular_material_slide_toggle__WEBPACK_IMPORTED_MODULE_54__["MatSlideToggleModule"]
            ],
            providers: [
                _angular_fire_firestore__WEBPACK_IMPORTED_MODULE_4__["AngularFirestoreModule"],
                angularfire2_auth__WEBPACK_IMPORTED_MODULE_21__["AngularFireAuthModule"],
                _auth_service__WEBPACK_IMPORTED_MODULE_20__["AuthService"],
                _tag_service__WEBPACK_IMPORTED_MODULE_29__["TagService"],
                _angular_common__WEBPACK_IMPORTED_MODULE_31__["DatePipe"],
                _rider_service__WEBPACK_IMPORTED_MODULE_37__["RiderService"],
                _clock_service__WEBPACK_IMPORTED_MODULE_39__["ClockService"],
                _images_service__WEBPACK_IMPORTED_MODULE_44__["ImagesService"],
                _ethereum_ethcontract_service__WEBPACK_IMPORTED_MODULE_52__["EthcontractService"],
            ],
            bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_2__["AppComponent"]]
        })
    ], AppModule);
    return AppModule;
}());



/***/ }),

/***/ "./src/app/auth.service.ts":
/*!*********************************!*\
  !*** ./src/app/auth.service.ts ***!
  \*********************************/
/*! exports provided: AuthService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthService", function() { return AuthService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var angularfire2_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! angularfire2/auth */ "./node_modules/angularfire2/auth/index.js");
/* harmony import */ var angularfire2_auth__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(angularfire2_auth__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var AuthService = /** @class */ (function () {
    function AuthService(_firebaseAuth, router) {
        var _this = this;
        this._firebaseAuth = _firebaseAuth;
        this.router = router;
        this.userDetails = null;
        this.user = _firebaseAuth.authState;
        this.user.subscribe(function (user) {
            if (user) {
                _this.userDetails = user;
                console.log("AuthService: constructor: userDetails:");
                console.log(_this.userDetails);
            }
            else {
                _this.userDetails = null;
            }
        });
    }
    AuthService.prototype.getUser = function () {
        return this.user;
    };
    AuthService.prototype.signInWithPhoneNumber = function (phoneNumber, appVerifier, cb) {
        var _this = this;
        this._firebaseAuth.auth.signInWithPhoneNumber(phoneNumber, appVerifier)
            .then(function (confirmationResult) {
            _this.confirmation = confirmationResult; // make a copy
            console.log("AuthService: signInWithPhoneNumber: confirmation object");
            console.log(_this.confirmation);
            cb(null, confirmationResult);
        })
            .catch(function (error) {
            console.error("AuthService: signInWithPhoneNumber: " + error);
            cb(error, null);
        });
    };
    AuthService.prototype.getConfirmation = function (code, cb) {
        var _this = this;
        if (!this.confirmation) {
            var errMsg = 'AuthSevice: error: the confirmationResult object is missing';
            console.error(errMsg);
            cb(errMsg, null);
        }
        else {
            // check confirmation
            this.confirmation.confirm(code)
                .then(function (result) { _this.user = Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["of"])(result.user); cb(null, result.user); })
                .catch(function (error) { return cb(error, null); });
        }
    };
    AuthService.prototype.authenticated = function () {
        if (this.userDetails == null) {
            return false;
        }
        else {
            return true;
        }
    };
    AuthService.prototype.getUID = function () {
        if (this.userDetails == null) {
            return null;
        }
        else {
            return this.userDetails.uid;
        }
    };
    AuthService.prototype.logout = function () {
        var _this = this;
        this._firebaseAuth.auth.signOut().then(function () {
            // Sign-out successful.
            console.log("AuthService: sing out");
            _this.router.navigate(['/']);
        }).catch(function (error) {
            console.error("AuthService: error: " + error);
        });
    };
    AuthService.prototype.getUserPhone = function () {
        if (!this.userDetails) {
            return null;
        }
        else {
            return this.userDetails.phoneNumber;
        }
    };
    AuthService.prototype.getUserName = function () {
        if (!this.userDetails) {
            return null;
        }
        else {
            return this.userDetails.displayName;
        }
    };
    AuthService.prototype.getUserEmail = function () {
        if (!this.userDetails) {
            return null;
        }
        else {
            return this.userDetails.email;
        }
    };
    AuthService.prototype.getUserPhotoURL = function () {
        if (!this.userDetails) {
            return null;
        }
        else {
            return this.userDetails.photoURL;
        }
    };
    AuthService.prototype.updateProfileCB = function (username, photoURL, cb) {
        var user = this._firebaseAuth.auth.currentUser;
        user.updateProfile({ displayName: username, photoURL: photoURL })
            .then(function () { return cb(null); })
            .catch(function (error) { return cb(error); });
    };
    AuthService.prototype.updateEmailCB = function (email, cb) {
        var user = this._firebaseAuth.auth.currentUser;
        user.updateEmail(email)
            .then(function () { return cb(null); })
            .catch(function (error) { return cb(error); });
    };
    AuthService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [angularfire2_auth__WEBPACK_IMPORTED_MODULE_2__["AngularFireAuth"], _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"]])
    ], AuthService);
    return AuthService;
}());



/***/ }),

/***/ "./src/app/clock.service.ts":
/*!**********************************!*\
  !*** ./src/app/clock.service.ts ***!
  \**********************************/
/*! exports provided: ClockService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ClockService", function() { return ClockService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var ClockService = /** @class */ (function () {
    function ClockService() {
        var _this = this;
        this.clock = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Observable"](function (obsever) {
            _this.timeoutId = setTimeout(function () {
                obsever.next(new Date);
                return { unsubscribe: function () {
                        clearTimeout(this.timeoutId);
                    } };
            }, 100);
        });
    }
    ClockService.prototype.getClock = function () {
        return this.clock;
    };
    ClockService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [])
    ], ClockService);
    return ClockService;
}());



/***/ }),

/***/ "./src/app/dashboard/dashboard.component.css":
/*!***************************************************!*\
  !*** ./src/app/dashboard/dashboard.component.css ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "table {\n    width: 100%;\n  }\n\n.mat-cell .mat-icon {\n    -webkit-transform: scale(0.6);\n            transform: scale(0.6);\n}"

/***/ }),

/***/ "./src/app/dashboard/dashboard.component.html":
/*!****************************************************!*\
  !*** ./src/app/dashboard/dashboard.component.html ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-grid-list  cols=\"3\" rowHeight=\"3em\">\n  <mat-grid-tile>\n    <button (click)=\"gotoBack()\" mat-icon-button>\n      <mat-icon>arrow_back_ios</mat-icon>\n    </button>\n  </mat-grid-tile>\n\n  <mat-grid-tile>\n    <h3>Dashboard</h3>\n  </mat-grid-tile>\n\n  <mat-grid-tile>\n    <button (click)=\"update()\" mat-icon-button>\n      <mat-icon>autorenew</mat-icon>\n    </button> \n  </mat-grid-tile>\n\n  <mat-grid-tile [rowspan]=\"2\" [colspan]=\"3\">      \n    Best ride time for all Giro d'Iseo riders\n  </mat-grid-tile>\n  \n</mat-grid-list>\n\n<div *ngIf=\"rides\">\n  <table *ngIf=\"rides.length>0\" mat-table [dataSource]=\"rides | slice:start:end\" class=\"mat-elevation-z8\">\n    <!-- Position Column -->\n    <ng-container matColumnDef=\"position\">\n      <th mat-header-cell *matHeaderCellDef> No. </th>\n      <td mat-cell *matCellDef=\"let element; let i = index;\"> {{i+1}} </td>\n    </ng-container>\n\n    <ng-container matColumnDef=\"avatar\">\n        <th mat-header-cell *matHeaderCellDef></th>\n        <td mat-cell *matCellDef=\"let element\"><img *ngIf=\"element.rider && element.rider.avatar\" ngxGravatar size=\"30\" [fallback]=\"'monsterid'\" [src]=\"element.rider.avatar\"></td>\n      </ng-container>\n\n    <ng-container matColumnDef=\"nikname\">\n      <th mat-header-cell *matHeaderCellDef> Rider </th>\n      <td mat-cell *matCellDef=\"let element\"> {{element.rider?element.rider.nikname:\"N/A\"}}</td>\n    </ng-container>\n    \n    <ng-container matColumnDef=\"date\">\n      <th mat-header-cell *matHeaderCellDef> Date </th>\n      <td mat-cell *matCellDef=\"let element\"> {{element.start|date:\"dd-MM-yyyy\"}}</td>\n    </ng-container>\n    \n    <ng-container matColumnDef=\"start\">\n      <th mat-header-cell *matHeaderCellDef> Start </th>\n      <td mat-cell *matCellDef=\"let element\"> {{element.start|date:\"HH:mm\"}}</td>\n    </ng-container>\n    \n    <ng-container matColumnDef=\"finish\">\n      <th mat-header-cell *matHeaderCellDef> Finish </th>\n      <td mat-cell *matCellDef=\"let element\"> {{element.finish|date:\"HH:mm:ss\"}}</td>\n    </ng-container>\n      \n    <ng-container matColumnDef=\"time\">\n      <th mat-header-cell *matHeaderCellDef> Time </th>\n      <td mat-cell *matCellDef=\"let element\"> {{(element.finish-element.start)|date:\"HH:mm:ss\":\"+00\"}} </td>\n    </ng-container>\n    \n    <ng-container matColumnDef=\"link\">\n      <th mat-header-cell *matHeaderCellDef> Details </th>\n      <td mat-cell *matCellDef=\"let element\"> <button (click)=\"gotoRide(element.id)\" mat-icon-button> <mat-icon>call_made</mat-icon></button> </td>\n    </ng-container>\n      \n    <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n    <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\n  </table>\n  <br>\n      \n  <mat-paginator *ngIf=\"rides.length>0\" [length]=\"rides.length\"\n                [pageSize]=\"10\"\n                [pageSizeOptions]=\"[1, 5, 10, 25, 100]\"\n                (page)=\"setPage($event)\">\n  </mat-paginator>\n</div>\n"

/***/ }),

/***/ "./src/app/dashboard/dashboard.component.ts":
/*!**************************************************!*\
  !*** ./src/app/dashboard/dashboard.component.ts ***!
  \**************************************************/
/*! exports provided: DashboardComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DashboardComponent", function() { return DashboardComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _tag_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../tag.service */ "./src/app/tag.service.ts");
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../auth.service */ "./src/app/auth.service.ts");
/* harmony import */ var _rider_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../rider.service */ "./src/app/rider.service.ts");
/* harmony import */ var _ride_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ride.service */ "./src/app/ride.service.ts");
/* harmony import */ var _parameters__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../parameters */ "./src/app/parameters.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var DashboardComponent = /** @class */ (function () {
    function DashboardComponent(zone, tagService, authService, route, router, riderService, rideService, datePipe, location, param) {
        this.zone = zone;
        this.tagService = tagService;
        this.authService = authService;
        this.route = route;
        this.router = router;
        this.riderService = riderService;
        this.rideService = rideService;
        this.datePipe = datePipe;
        this.location = location;
        this.param = param;
        this.displayedColumns = ['position', 'avatar', 'nikname', 'start', 'time', 'link'];
        console.log(this.param);
    }
    DashboardComponent.prototype.ngOnInit = function () {
        this.start = 0;
        this.end = 10;
        this.getRides();
    };
    DashboardComponent.prototype.ngOnDestroy = function () {
        this.sub.unsubscribe();
    };
    DashboardComponent.prototype.setPage = function (e) {
        console.log(e);
        var pageIndex = e.pageIndex, pageSize = e.pageSize;
        this.start = pageIndex * pageSize;
        this.end = this.start + pageSize;
    };
    DashboardComponent.prototype.update = function () {
        this.rideService.setOrder('time');
    };
    DashboardComponent.prototype.gotoBack = function () {
        this.location.back();
    };
    DashboardComponent.prototype.getRides = function () {
        var _this = this;
        this.sub = this.rideService.getRides()
            .subscribe(function (rides) { return _this.rides = rides; });
    };
    DashboardComponent.prototype.gotoRide = function (id) {
        this.router.navigate(["/ride/" + id]);
    };
    DashboardComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-dashboard',
            template: __webpack_require__(/*! ./dashboard.component.html */ "./src/app/dashboard/dashboard.component.html"),
            styles: [__webpack_require__(/*! ./dashboard.component.css */ "./src/app/dashboard/dashboard.component.css")],
            providers: [_parameters__WEBPACK_IMPORTED_MODULE_7__["RideParameters"]]
        }),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"],
            _tag_service__WEBPACK_IMPORTED_MODULE_3__["TagService"],
            _auth_service__WEBPACK_IMPORTED_MODULE_4__["AuthService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"],
            _rider_service__WEBPACK_IMPORTED_MODULE_5__["RiderService"],
            _ride_service__WEBPACK_IMPORTED_MODULE_6__["RideService"],
            _angular_common__WEBPACK_IMPORTED_MODULE_2__["DatePipe"],
            _angular_common__WEBPACK_IMPORTED_MODULE_2__["Location"],
            _parameters__WEBPACK_IMPORTED_MODULE_7__["RideParameters"]])
    ], DashboardComponent);
    return DashboardComponent;
}());



/***/ }),

/***/ "./src/app/ethereum/build/contracts/TokenLoyalty.json":
/*!************************************************************!*\
  !*** ./src/app/ethereum/build/contracts/TokenLoyalty.json ***!
  \************************************************************/
/*! exports provided: contractName, abi, bytecode, deployedBytecode, sourceMap, deployedSourceMap, source, sourcePath, ast, legacyAST, compiler, networks, schemaVersion, updatedAt, default */
/***/ (function(module) {

module.exports = {"contractName":"TokenLoyalty","abi":[{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"connectors","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"pool","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_receiver","type":"address"}],"name":"setReceiver","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"acceptOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"subPoolId","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_sender","type":"address"}],"name":"setSender","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"newOwner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[{"name":"_pool","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":false,"name":"member","type":"address"},{"indexed":false,"name":"clientId","type":"string"},{"indexed":false,"name":"claim","type":"bool"},{"indexed":false,"name":"tokenId","type":"uint256"},{"indexed":false,"name":"supPoolId","type":"uint256"}],"name":"Created","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"subPoolId","type":"uint256"},{"indexed":false,"name":"timeStamp","type":"uint256"},{"indexed":false,"name":"closure","type":"uint256"}],"name":"SPExtension","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"message","type":"string"}],"name":"Error","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"subPoolId","type":"uint256"},{"indexed":false,"name":"tokenId","type":"uint256"},{"indexed":false,"name":"timeStamp","type":"uint256"},{"indexed":false,"name":"closure","type":"uint256"},{"indexed":false,"name":"members","type":"uint256"},{"indexed":false,"name":"activated","type":"uint256"},{"indexed":false,"name":"funded","type":"bool"}],"name":"Added","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"subPoolId","type":"uint256"},{"indexed":false,"name":"tokenId","type":"uint256"},{"indexed":false,"name":"timeStamp","type":"uint256"},{"indexed":false,"name":"closure","type":"uint256"}],"name":"Activated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"subPoolId","type":"uint256"},{"indexed":false,"name":"payment","type":"uint256"},{"indexed":false,"name":"debit","type":"uint256"},{"indexed":false,"name":"timeStamp","type":"uint256"},{"indexed":false,"name":"closure","type":"uint256"}],"name":"Funded","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"subPoolId","type":"uint256"},{"indexed":false,"name":"timeStamp","type":"uint256"},{"indexed":false,"name":"closure","type":"uint256"}],"name":"Closed","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"subPoolId","type":"uint256"},{"indexed":false,"name":"tokenId","type":"uint256"},{"indexed":false,"name":"value","type":"uint256"},{"indexed":false,"name":"debit","type":"uint256"},{"indexed":false,"name":"payment","type":"uint256"},{"indexed":false,"name":"timeStamp","type":"uint256"},{"indexed":false,"name":"closure","type":"uint256"}],"name":"Paid","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_prevOwner","type":"address"},{"indexed":true,"name":"_newOwner","type":"address"}],"name":"OwnerUpdate","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_sender","type":"address"},{"indexed":false,"name":"_receiver","type":"address"}],"name":"ReceiverUpdate","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_sender","type":"address"},{"indexed":false,"name":"_receiver","type":"address"}],"name":"SenderUpdate","type":"event"},{"constant":false,"inputs":[{"name":"_member","type":"address"},{"name":"_clientId","type":"string"}],"name":"create","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_id","type":"uint256"}],"name":"activate","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_subPoolId","type":"uint256"},{"name":"_payment","type":"uint256"},{"name":"_debit","type":"uint256"}],"name":"fund","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_subPoolId","type":"uint256"}],"name":"close","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_id","type":"uint256"}],"name":"payment","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_subPoolId","type":"uint256"}],"name":"getSubPoolExtension","outputs":[{"name":"","type":"uint256"},{"name":"","type":"uint256"},{"name":"","type":"uint256"},{"name":"","type":"uint256"},{"name":"","type":"uint256"},{"name":"","type":"uint256"},{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getCurrentSubPoolExtension","outputs":[{"name":"created","type":"uint256"},{"name":"closed","type":"uint256"},{"name":"numberOfMembers","type":"uint256"},{"name":"numberOfActivated","type":"uint256"},{"name":"debitValue","type":"uint256"},{"name":"paymentAmount","type":"uint256"},{"name":"value","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getBizProcessId","outputs":[{"name":"contractOwner","type":"address"},{"name":"bizProcessId","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getBalance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_id","type":"uint256"}],"name":"checkPayment","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"}],"bytecode":"0x608060405234801561001057600080fd5b5060405160208062002dbd83398101806040528101908080519060200190929190505050336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060036005819055506100966005546100dd640100000000026401000000009004565b80600360006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050610205565b60e06040519081016040528042815260200162015180420181526020016000815260200160008152602001600015158152602001600081526020016000815250600460008381526020019081526020016000206000820151816000015560208201518160010155604082015181600201556060820151816003015560808201518160040160006101000a81548160ff02191690831515021790555060a0820151816005015560c082015181600601559050507fd9e195d9caaadd0c4217368160d0bfeb60389f0df2be0154e480baff688bcdaf816004600084815260200190815260200160002060000154600460008581526020019081526020016000206001015460405180848152602001838152602001828152602001935050505060405180910390a150565b612ba880620002156000396000f300608060405260043610610107576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680630aebeb4e146101095780630dbf0021146101365780630e53aae91461019a578063111d7d501461021d57806312065fe01461025157806316f0115b1461027c578063718da7ee146102d35780637311a6a71461031657806379ba50971461036b5780638b3c99e3146103825780638da5cb5b146103af578063a15ab08d14610406578063a462741b1461048f578063b260c42a146104ba578063cbf3ff67146104e7578063ced32b0c14610528578063d4ee1d901461056b578063d95548a0146105c2578063f2fde38b1461062d575b005b34801561011557600080fd5b5061013460048036038101908080359060200190929190505050610670565b005b34801561014257600080fd5b5061014b610789565b604051808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018260ff1660ff1681526020019250505060405180910390f35b3480156101a657600080fd5b506101db600480360381019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505061088b565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b61024f6004803603810190808035906020019092919080359060200190929190803590602001909291905050506108be565b005b34801561025d57600080fd5b50610266610b72565b6040518082815260200191505060405180910390f35b34801561028857600080fd5b50610291610b91565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3480156102df57600080fd5b50610314600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610bb7565b005b34801561032257600080fd5b5061032b610d27565b6040518088815260200187815260200186815260200185815260200184815260200183815260200182815260200197505050505050505060405180910390f35b34801561037757600080fd5b50610380610d54565b005b34801561038e57600080fd5b506103ad60048036038101908080359060200190929190505050610ef3565b005b3480156103bb57600080fd5b506103c46115ee565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561041257600080fd5b5061048d600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290505050611613565b005b34801561049b57600080fd5b506104a4611ef5565b6040518082815260200191505060405180910390f35b3480156104c657600080fd5b506104e560048036038101908080359060200190929190505050611efb565b005b3480156104f357600080fd5b50610512600480360381019080803590602001909291905050506121cf565b6040518082815260200191505060405180910390f35b34801561053457600080fd5b50610569600480360381019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505061264c565b005b34801561057757600080fd5b506105806127bc565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3480156105ce57600080fd5b506105ed600480360381019080803590602001909291905050506127e2565b6040518088815260200187815260200186815260200185815260200184815260200183815260200182815260200197505050505050505060405180910390f35b34801561063957600080fd5b5061066e600480360381019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505061295c565b005b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156106c857fe5b600081141515156106d857600080fd5b426004600083815260200190815260200160002060010154101515610713574260046000838152602001908152602001600020600101819055505b7f95b630824ad6e94ddef40548c81e9ea6d2359c3c61fc11f37e1633bb7b1e3e25816004600084815260200190815260200160002060000154600460008581526020019081526020016000206001015460405180848152602001838152602001828152602001935050505060405180910390a150565b6000806000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff169150601590506000600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166323845e4b6040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401602060405180830381600087803b15801561083c57600080fd5b505af1158015610850573d6000803e3d6000fd5b505050506040513d602081101561086657600080fd5b810190808051906020019092919050505014156108865760649050610887565b5b9091565b60026020528060005260406000206000915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000806000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561091957fe5b6000851415151561092957600080fd5b349150600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16630ff4c916866040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180828152602001915050602060405180830381600087803b1580156109bd57600080fd5b505af11580156109d1573d6000803e3d6000fd5b505050506040513d60208110156109e757600080fd5b81019080805190602001909291905050509050836004600087815260200190815260200160002060030154028210151515610a2157600080fd5b826004600087815260200190815260200160002060030154028110151515610a4857600080fd5b60016004600087815260200190815260200160002060040160006101000a81548160ff021916908315150217905550836004600087815260200190815260200160002060050181905550826004600087815260200190815260200160002060060181905550426004600087815260200190815260200160002060010154101515610ae8574260046000878152602001908152602001600020600101819055505b7fb39e3662dcaa568e318c00229a4ec9ef9fb52a69b8b7f95d4ae7881c19c0d5b7858585600460008a815260200190815260200160002060000154600460008b815260200190815260200160002060010154604051808681526020018581526020018481526020018381526020018281526020019550505050505060405180910390a15050505050565b60003073ffffffffffffffffffffffffffffffffffffffff1631905090565b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610c0f57fe5b80600260003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055507f88477ef2e6ee708c15e490fc6b373fe9ca955c32fc8679cd5b820323f20e2b9f3082604051808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019250505060405180910390a150565b6000806000806000806000610d3d6005546127e2565b965096509650965096509650965090919293949596565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610db057600080fd5b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f343765429aea5a34b3ff6a3785a98a5abb2597aca87bfbb58632c173d585373a60405160405180910390a3600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff166000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506000600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550565b60008060008314151515610f0657600080fd5b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663cc933f9d33856040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200182815260200192505050602060405180830381600087803b158015610fcb57600080fd5b505af1158015610fdf573d6000803e3d6000fd5b505050506040513d6020811015610ff557600080fd5b8101908080519060200190929190505050151561101157600080fd5b6103ff600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166344c9af28856040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180828152602001915050602060405180830381600087803b1580156110a557600080fd5b505af11580156110b9573d6000803e3d6000fd5b505050506040513d60208110156110cf57600080fd5b81019080805190602001909291905050501415156110ec57600080fd5b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166334bda013846040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180828152602001915050602060405180830381600087803b15801561117d57600080fd5b505af1158015611191573d6000803e3d6000fd5b505050506040513d60208110156111a757600080fd5b81019080805190602001909291905050509150600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16630ff4c916836040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180828152602001915050602060405180830381600087803b15801561124b57600080fd5b505af115801561125f573d6000803e3d6000fd5b505050506040513d602081101561127557600080fd5b810190808051906020019092919050505090506000821415151561129857600080fd5b60006004600084815260200190815260200160002060000154141515156112be57600080fd5b6004600083815260200190815260200160002060040160009054906101000a900460ff1615156112ed57600080fd5b60046000838152602001908152602001600020600501543073ffffffffffffffffffffffffffffffffffffffff16311015151561132957600080fd5b6004600083815260200190815260200160002060060154811015151561134e57600080fd5b3373ffffffffffffffffffffffffffffffffffffffff166108fc60046000858152602001908152602001600020600501549081150290604051600060405180830381858888f193505050501580156113aa573d6000803e3d6000fd5b50600460008381526020019081526020016000206006015481039050600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16637b8d56e383836040518363ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004018083815260200182815260200192505050600060405180830381600087803b15801561145f57600080fd5b505af1158015611473573d6000803e3d6000fd5b50505050600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663b9d77bfc846103fe6040518363ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004018083815260200182815260200192505050600060405180830381600087803b15801561151257600080fd5b505af1158015611526573d6000803e3d6000fd5b505050507fc5bedeba493b7131e43117718e40656b26c4142856982af267a6754c99717cf5828483600460008781526020019081526020016000206006015460046000888152602001908152602001600020600501546004600089815260200190815260200160002060000154600460008a8152602001908152602001600020600101546040518088815260200187815260200186815260200185815260200184815260200183815260200182815260200197505050505050505060405180910390a1505050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000806000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561166e57fe5b600073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff16141515156116aa57600080fd5b60006004600060055481526020019081526020016000206000015414156116d7576116d6600554612a54565b5b426004600060055481526020019081526020016000206001015411151561186e57600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16636b0d4f4d6040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401602060405180830381600087803b15801561177e57600080fd5b505af1158015611792573d6000803e3d6000fd5b505050506040513d60208110156117a857600080fd5b810190808051906020019092919050505091506000821415156117da576117ce82612a54565b8160058190555061186d565b7f08c379a0afcc32b1a39302f7cb8073359698411ab5fd6e3edb2c02c0b5fba8aa6040518080602001828103825260368152602001807f73756220706f6f6c206973206e6f7420637265617465642c206e6f7420706f7381526020017f7369626c6520746f20616464206e657720746f6b656e0000000000000000000081525060400191505060405180910390a1611eef565b5b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663ea81d6206101f4866040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808381526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200192505050602060405180830381600087803b15801561193557600080fd5b505af1158015611949573d6000803e3d6000fd5b505050506040513d602081101561195f57600080fd5b8101908080519060200190929190505050905060008114156119e8577f08c379a0afcc32b1a39302f7cb8073359698411ab5fd6e3edb2c02c0b5fba8aa6040518080602001828103825260168152602001807f63616e277420637265617465206e657720746f6b656e0000000000000000000081525060200191505060405180910390a1611eef565b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16634908a55482856040518363ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004018083815260200180602001828103825283818151815260200191508051906020019080838360005b83811015611a99578082015181840152602081019050611a7e565b50505050905090810190601f168015611ac65780820380516001836020036101000a031916815260200191505b509350505050600060405180830381600087803b158015611ae657600080fd5b505af1158015611afa573d6000803e3d6000fd5b50505050600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663daa8d4f0826040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180828152602001915050602060405180830381600087803b158015611b8f57600080fd5b505af1158015611ba3573d6000803e3d6000fd5b505050506040513d6020811015611bb957600080fd5b810190808051906020019092919050505050600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166334bda013826040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180828152602001915050602060405180830381600087803b158015611c5c57600080fd5b505af1158015611c70573d6000803e3d6000fd5b505050506040513d6020811015611c8657600080fd5b8101908080519060200190929190505050915060055482141515611cd557600060046000848152602001908152602001600020600001541415611cd457611ccc82612a54565b816005819055505b5b7f25299e299adc87493e97635eab8eb1e476694ade7d680f3053d6464f013341b28484600084600554604051808673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018060200185151515158152602001848152602001838152602001828103825286818151815260200191508051906020019080838360005b83811015611d86578082015181840152602081019050611d6b565b50505050905090810190601f168015611db35780820380516001836020036101000a031916815260200191505b50965050505050505060405180910390a160016004600060055481526020019081526020016000206002015401600460006005548152602001908152602001600020600201819055507f89943a733d2b4aa371b3b6655893b7a1a9ba9448f6bbdb328916724f710cfdb7600554826004600060055481526020019081526020016000206000015460046000600554815260200190815260200160002060010154600460006005548152602001908152602001600020600201546004600060055481526020019081526020016000206003015460046000600554815260200190815260200160002060040160009054906101000a900460ff16604051808881526020018781526020018681526020018581526020018481526020018381526020018215151515815260200197505050505050505060405180910390a15b50505050565b60055481565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515611f5557fe5b60008214151515611f6557600080fd5b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663b9d77bfc836103ff6040518363ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004018083815260200182815260200192505050600060405180830381600087803b15801561200057600080fd5b505af1158015612014573d6000803e3d6000fd5b50505050600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166334bda013836040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180828152602001915050602060405180830381600087803b1580156120a957600080fd5b505af11580156120bd573d6000803e3d6000fd5b505050506040513d60208110156120d357600080fd5b81019080805190602001909291905050509050600081141515156120f657600080fd5b600060046000838152602001908152602001600020600001541415151561211c57600080fd5b600160046000838152602001908152602001600020600301540160046000838152602001908152602001600020600301819055507f5786bd93f0241280de1677f23bec9bd531bfb927c6eac4cff33ccc9abc7700178183600460008581526020019081526020016000206000015460046000868152602001908152602001600020600101546040518085815260200184815260200183815260200182815260200194505050505060405180910390a15050565b60008060008060009250600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166334bda013866040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180828152602001915050602060405180830381600087803b15801561226a57600080fd5b505af115801561227e573d6000803e3d6000fd5b505050506040513d602081101561229457600080fd5b81019080805190602001909291905050509150600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16630ff4c916836040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180828152602001915050602060405180830381600087803b15801561233857600080fd5b505af115801561234c573d6000803e3d6000fd5b505050506040513d602081101561236257600080fd5b81019080805190602001909291905050509050600085141515612386576001830192505b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663cc933f9d33876040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200182815260200192505050602060405180830381600087803b15801561244b57600080fd5b505af115801561245f573d6000803e3d6000fd5b505050506040513d602081101561247557600080fd5b81019080805190602001909291905050501561249257600a830192505b6103ff600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166344c9af28876040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180828152602001915050602060405180830381600087803b15801561252657600080fd5b505af115801561253a573d6000803e3d6000fd5b505050506040513d602081101561255057600080fd5b8101908080519060200190929190505050141561256e576064830192505b600082141515612580576103e8830192505b600060046000848152602001908152602001600020600001541415156125a857612710830192505b6004600083815260200190815260200160002060040160009054906101000a900460ff16156125da57620186a0830192505b60046000838152602001908152602001600020600501543073ffffffffffffffffffffffffffffffffffffffff163110151561261957620f4240830192505b6004600083815260200190815260200160002060060154811015156126415762989680830192505b829350505050919050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156126a457fe5b30600260008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055507f25245aeb6dcc1afb9053581af7e6b984f2191e80b27c263b11c45d821a566a538130604051808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019250505060405180910390a150565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60008060008060008060006004600089815260200190815260200160002060000154600460008a815260200190815260200160002060010154600460008b815260200190815260200160002060020154600460008c815260200190815260200160002060030154600460008d815260200190815260200160002060060154600460008e815260200190815260200160002060050154600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16630ff4c9168f6040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180828152602001915050602060405180830381600087803b15801561290857600080fd5b505af115801561291c573d6000803e3d6000fd5b505050506040513d602081101561293257600080fd5b81019080805190602001909291905050509650965096509650965096509650919395979092949650565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156129b457fe5b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614151515612a1057600080fd5b80600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b60e06040519081016040528042815260200162015180420181526020016000815260200160008152602001600015158152602001600081526020016000815250600460008381526020019081526020016000206000820151816000015560208201518160010155604082015181600201556060820151816003015560808201518160040160006101000a81548160ff02191690831515021790555060a0820151816005015560c082015181600601559050507fd9e195d9caaadd0c4217368160d0bfeb60389f0df2be0154e480baff688bcdaf816004600084815260200190815260200160002060000154600460008581526020019081526020016000206001015460405180848152602001838152602001828152602001935050505060405180910390a1505600a165627a7a723058205d1bc3d6fe081845b73e71edbc2ab84e6a000cbb80d894bea313b2a0d9ba92ea0029","deployedBytecode":"0x608060405260043610610107576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680630aebeb4e146101095780630dbf0021146101365780630e53aae91461019a578063111d7d501461021d57806312065fe01461025157806316f0115b1461027c578063718da7ee146102d35780637311a6a71461031657806379ba50971461036b5780638b3c99e3146103825780638da5cb5b146103af578063a15ab08d14610406578063a462741b1461048f578063b260c42a146104ba578063cbf3ff67146104e7578063ced32b0c14610528578063d4ee1d901461056b578063d95548a0146105c2578063f2fde38b1461062d575b005b34801561011557600080fd5b5061013460048036038101908080359060200190929190505050610670565b005b34801561014257600080fd5b5061014b610789565b604051808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018260ff1660ff1681526020019250505060405180910390f35b3480156101a657600080fd5b506101db600480360381019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505061088b565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b61024f6004803603810190808035906020019092919080359060200190929190803590602001909291905050506108be565b005b34801561025d57600080fd5b50610266610b72565b6040518082815260200191505060405180910390f35b34801561028857600080fd5b50610291610b91565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3480156102df57600080fd5b50610314600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610bb7565b005b34801561032257600080fd5b5061032b610d27565b6040518088815260200187815260200186815260200185815260200184815260200183815260200182815260200197505050505050505060405180910390f35b34801561037757600080fd5b50610380610d54565b005b34801561038e57600080fd5b506103ad60048036038101908080359060200190929190505050610ef3565b005b3480156103bb57600080fd5b506103c46115ee565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561041257600080fd5b5061048d600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290505050611613565b005b34801561049b57600080fd5b506104a4611ef5565b6040518082815260200191505060405180910390f35b3480156104c657600080fd5b506104e560048036038101908080359060200190929190505050611efb565b005b3480156104f357600080fd5b50610512600480360381019080803590602001909291905050506121cf565b6040518082815260200191505060405180910390f35b34801561053457600080fd5b50610569600480360381019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505061264c565b005b34801561057757600080fd5b506105806127bc565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3480156105ce57600080fd5b506105ed600480360381019080803590602001909291905050506127e2565b6040518088815260200187815260200186815260200185815260200184815260200183815260200182815260200197505050505050505060405180910390f35b34801561063957600080fd5b5061066e600480360381019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505061295c565b005b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156106c857fe5b600081141515156106d857600080fd5b426004600083815260200190815260200160002060010154101515610713574260046000838152602001908152602001600020600101819055505b7f95b630824ad6e94ddef40548c81e9ea6d2359c3c61fc11f37e1633bb7b1e3e25816004600084815260200190815260200160002060000154600460008581526020019081526020016000206001015460405180848152602001838152602001828152602001935050505060405180910390a150565b6000806000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff169150601590506000600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166323845e4b6040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401602060405180830381600087803b15801561083c57600080fd5b505af1158015610850573d6000803e3d6000fd5b505050506040513d602081101561086657600080fd5b810190808051906020019092919050505014156108865760649050610887565b5b9091565b60026020528060005260406000206000915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000806000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561091957fe5b6000851415151561092957600080fd5b349150600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16630ff4c916866040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180828152602001915050602060405180830381600087803b1580156109bd57600080fd5b505af11580156109d1573d6000803e3d6000fd5b505050506040513d60208110156109e757600080fd5b81019080805190602001909291905050509050836004600087815260200190815260200160002060030154028210151515610a2157600080fd5b826004600087815260200190815260200160002060030154028110151515610a4857600080fd5b60016004600087815260200190815260200160002060040160006101000a81548160ff021916908315150217905550836004600087815260200190815260200160002060050181905550826004600087815260200190815260200160002060060181905550426004600087815260200190815260200160002060010154101515610ae8574260046000878152602001908152602001600020600101819055505b7fb39e3662dcaa568e318c00229a4ec9ef9fb52a69b8b7f95d4ae7881c19c0d5b7858585600460008a815260200190815260200160002060000154600460008b815260200190815260200160002060010154604051808681526020018581526020018481526020018381526020018281526020019550505050505060405180910390a15050505050565b60003073ffffffffffffffffffffffffffffffffffffffff1631905090565b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610c0f57fe5b80600260003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055507f88477ef2e6ee708c15e490fc6b373fe9ca955c32fc8679cd5b820323f20e2b9f3082604051808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019250505060405180910390a150565b6000806000806000806000610d3d6005546127e2565b965096509650965096509650965090919293949596565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610db057600080fd5b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f343765429aea5a34b3ff6a3785a98a5abb2597aca87bfbb58632c173d585373a60405160405180910390a3600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff166000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506000600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550565b60008060008314151515610f0657600080fd5b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663cc933f9d33856040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200182815260200192505050602060405180830381600087803b158015610fcb57600080fd5b505af1158015610fdf573d6000803e3d6000fd5b505050506040513d6020811015610ff557600080fd5b8101908080519060200190929190505050151561101157600080fd5b6103ff600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166344c9af28856040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180828152602001915050602060405180830381600087803b1580156110a557600080fd5b505af11580156110b9573d6000803e3d6000fd5b505050506040513d60208110156110cf57600080fd5b81019080805190602001909291905050501415156110ec57600080fd5b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166334bda013846040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180828152602001915050602060405180830381600087803b15801561117d57600080fd5b505af1158015611191573d6000803e3d6000fd5b505050506040513d60208110156111a757600080fd5b81019080805190602001909291905050509150600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16630ff4c916836040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180828152602001915050602060405180830381600087803b15801561124b57600080fd5b505af115801561125f573d6000803e3d6000fd5b505050506040513d602081101561127557600080fd5b810190808051906020019092919050505090506000821415151561129857600080fd5b60006004600084815260200190815260200160002060000154141515156112be57600080fd5b6004600083815260200190815260200160002060040160009054906101000a900460ff1615156112ed57600080fd5b60046000838152602001908152602001600020600501543073ffffffffffffffffffffffffffffffffffffffff16311015151561132957600080fd5b6004600083815260200190815260200160002060060154811015151561134e57600080fd5b3373ffffffffffffffffffffffffffffffffffffffff166108fc60046000858152602001908152602001600020600501549081150290604051600060405180830381858888f193505050501580156113aa573d6000803e3d6000fd5b50600460008381526020019081526020016000206006015481039050600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16637b8d56e383836040518363ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004018083815260200182815260200192505050600060405180830381600087803b15801561145f57600080fd5b505af1158015611473573d6000803e3d6000fd5b50505050600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663b9d77bfc846103fe6040518363ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004018083815260200182815260200192505050600060405180830381600087803b15801561151257600080fd5b505af1158015611526573d6000803e3d6000fd5b505050507fc5bedeba493b7131e43117718e40656b26c4142856982af267a6754c99717cf5828483600460008781526020019081526020016000206006015460046000888152602001908152602001600020600501546004600089815260200190815260200160002060000154600460008a8152602001908152602001600020600101546040518088815260200187815260200186815260200185815260200184815260200183815260200182815260200197505050505050505060405180910390a1505050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000806000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561166e57fe5b600073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff16141515156116aa57600080fd5b60006004600060055481526020019081526020016000206000015414156116d7576116d6600554612a54565b5b426004600060055481526020019081526020016000206001015411151561186e57600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16636b0d4f4d6040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401602060405180830381600087803b15801561177e57600080fd5b505af1158015611792573d6000803e3d6000fd5b505050506040513d60208110156117a857600080fd5b810190808051906020019092919050505091506000821415156117da576117ce82612a54565b8160058190555061186d565b7f08c379a0afcc32b1a39302f7cb8073359698411ab5fd6e3edb2c02c0b5fba8aa6040518080602001828103825260368152602001807f73756220706f6f6c206973206e6f7420637265617465642c206e6f7420706f7381526020017f7369626c6520746f20616464206e657720746f6b656e0000000000000000000081525060400191505060405180910390a1611eef565b5b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663ea81d6206101f4866040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808381526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200192505050602060405180830381600087803b15801561193557600080fd5b505af1158015611949573d6000803e3d6000fd5b505050506040513d602081101561195f57600080fd5b8101908080519060200190929190505050905060008114156119e8577f08c379a0afcc32b1a39302f7cb8073359698411ab5fd6e3edb2c02c0b5fba8aa6040518080602001828103825260168152602001807f63616e277420637265617465206e657720746f6b656e0000000000000000000081525060200191505060405180910390a1611eef565b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16634908a55482856040518363ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004018083815260200180602001828103825283818151815260200191508051906020019080838360005b83811015611a99578082015181840152602081019050611a7e565b50505050905090810190601f168015611ac65780820380516001836020036101000a031916815260200191505b509350505050600060405180830381600087803b158015611ae657600080fd5b505af1158015611afa573d6000803e3d6000fd5b50505050600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663daa8d4f0826040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180828152602001915050602060405180830381600087803b158015611b8f57600080fd5b505af1158015611ba3573d6000803e3d6000fd5b505050506040513d6020811015611bb957600080fd5b810190808051906020019092919050505050600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166334bda013826040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180828152602001915050602060405180830381600087803b158015611c5c57600080fd5b505af1158015611c70573d6000803e3d6000fd5b505050506040513d6020811015611c8657600080fd5b8101908080519060200190929190505050915060055482141515611cd557600060046000848152602001908152602001600020600001541415611cd457611ccc82612a54565b816005819055505b5b7f25299e299adc87493e97635eab8eb1e476694ade7d680f3053d6464f013341b28484600084600554604051808673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018060200185151515158152602001848152602001838152602001828103825286818151815260200191508051906020019080838360005b83811015611d86578082015181840152602081019050611d6b565b50505050905090810190601f168015611db35780820380516001836020036101000a031916815260200191505b50965050505050505060405180910390a160016004600060055481526020019081526020016000206002015401600460006005548152602001908152602001600020600201819055507f89943a733d2b4aa371b3b6655893b7a1a9ba9448f6bbdb328916724f710cfdb7600554826004600060055481526020019081526020016000206000015460046000600554815260200190815260200160002060010154600460006005548152602001908152602001600020600201546004600060055481526020019081526020016000206003015460046000600554815260200190815260200160002060040160009054906101000a900460ff16604051808881526020018781526020018681526020018581526020018481526020018381526020018215151515815260200197505050505050505060405180910390a15b50505050565b60055481565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515611f5557fe5b60008214151515611f6557600080fd5b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663b9d77bfc836103ff6040518363ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004018083815260200182815260200192505050600060405180830381600087803b15801561200057600080fd5b505af1158015612014573d6000803e3d6000fd5b50505050600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166334bda013836040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180828152602001915050602060405180830381600087803b1580156120a957600080fd5b505af11580156120bd573d6000803e3d6000fd5b505050506040513d60208110156120d357600080fd5b81019080805190602001909291905050509050600081141515156120f657600080fd5b600060046000838152602001908152602001600020600001541415151561211c57600080fd5b600160046000838152602001908152602001600020600301540160046000838152602001908152602001600020600301819055507f5786bd93f0241280de1677f23bec9bd531bfb927c6eac4cff33ccc9abc7700178183600460008581526020019081526020016000206000015460046000868152602001908152602001600020600101546040518085815260200184815260200183815260200182815260200194505050505060405180910390a15050565b60008060008060009250600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166334bda013866040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180828152602001915050602060405180830381600087803b15801561226a57600080fd5b505af115801561227e573d6000803e3d6000fd5b505050506040513d602081101561229457600080fd5b81019080805190602001909291905050509150600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16630ff4c916836040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180828152602001915050602060405180830381600087803b15801561233857600080fd5b505af115801561234c573d6000803e3d6000fd5b505050506040513d602081101561236257600080fd5b81019080805190602001909291905050509050600085141515612386576001830192505b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663cc933f9d33876040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200182815260200192505050602060405180830381600087803b15801561244b57600080fd5b505af115801561245f573d6000803e3d6000fd5b505050506040513d602081101561247557600080fd5b81019080805190602001909291905050501561249257600a830192505b6103ff600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166344c9af28876040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180828152602001915050602060405180830381600087803b15801561252657600080fd5b505af115801561253a573d6000803e3d6000fd5b505050506040513d602081101561255057600080fd5b8101908080519060200190929190505050141561256e576064830192505b600082141515612580576103e8830192505b600060046000848152602001908152602001600020600001541415156125a857612710830192505b6004600083815260200190815260200160002060040160009054906101000a900460ff16156125da57620186a0830192505b60046000838152602001908152602001600020600501543073ffffffffffffffffffffffffffffffffffffffff163110151561261957620f4240830192505b6004600083815260200190815260200160002060060154811015156126415762989680830192505b829350505050919050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156126a457fe5b30600260008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055507f25245aeb6dcc1afb9053581af7e6b984f2191e80b27c263b11c45d821a566a538130604051808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019250505060405180910390a150565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60008060008060008060006004600089815260200190815260200160002060000154600460008a815260200190815260200160002060010154600460008b815260200190815260200160002060020154600460008c815260200190815260200160002060030154600460008d815260200190815260200160002060060154600460008e815260200190815260200160002060050154600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16630ff4c9168f6040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180828152602001915050602060405180830381600087803b15801561290857600080fd5b505af115801561291c573d6000803e3d6000fd5b505050506040513d602081101561293257600080fd5b81019080805190602001909291905050509650965096509650965096509650919395979092949650565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156129b457fe5b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614151515612a1057600080fd5b80600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b60e06040519081016040528042815260200162015180420181526020016000815260200160008152602001600015158152602001600081526020016000815250600460008381526020019081526020016000206000820151816000015560208201518160010155604082015181600201556060820151816003015560808201518160040160006101000a81548160ff02191690831515021790555060a0820151816005015560c082015181600601559050507fd9e195d9caaadd0c4217368160d0bfeb60389f0df2be0154e480baff688bcdaf816004600084815260200190815260200160002060000154600460008581526020019081526020016000206001015460405180848152602001838152602001828152602001935050505060405180910390a1505600a165627a7a723058205d1bc3d6fe081845b73e71edbc2ab84e6a000cbb80d894bea313b2a0d9ba92ea0029","sourceMap":"1341:9792:1:-;;;10881:135;8:9:-1;5:2;;;30:1;27;20:12;5:2;10881:135:1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;545:10:0;537:5;;:18;;;;;;;;;;;;;;;;;;10937:1:1;10925:9;:13;;;;10948:27;10965:9;;10948:16;;;:27;;;:::i;:::-;11003:5;10985:4;;:24;;;;;;;;;;;;;;;;;;10881:135;1341:9792;;3277:465;3366:239;;;;;;;;;3409:3;3366:239;;;;3441:6;3435:3;:12;3366:239;;;;3475:1;3366:239;;;;3507:1;3366:239;;;;3531:5;3366:239;;;;;;3564:1;3366:239;;;;3592:1;3366:239;;;3339:12;:24;3352:10;3339:24;;;;;;;;;;;:266;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3642:93;3654:10;3666:12;:24;3679:10;3666:24;;;;;;;;;;;:34;;;3702:12;:24;3715:10;3702:24;;;;;;;;;;;:32;;;3642:93;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3277:465;:::o;1341:9792::-;;;;;;;","deployedSourceMap":"1341:9792:1:-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;7347:320;;8:9:-1;5:2;;;30:1;27;20:12;5:2;7347:320:1;;;;;;;;;;;;;;;;;;;;;;;;;;9505:282;;8:9:-1;5:2;;;30:1;27;20:12;5:2;9505:282:1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;212:46:0;;8:9:-1;5:2;;;30:1;27;20:12;5:2;212:46:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;6587:755:1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;9792:93;;8:9:-1;5:2;;;30:1;27;20:12;5:2;9792:93:1;;;;;;;;;;;;;;;;;;;;;;;2188:22;;8:9:-1;5:2;;;30:1;27;20:12;5:2;2188:22:1;;;;;;;;;;;;;;;;;;;;;;;;;;;1292:166:0;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1292:166:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;9200:300:1;;8:9:-1;5:2;;;30:1;27;20:12;5:2;9200:300:1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1706:182:0;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1706:182:0;;;;;;7672:1052:1;;8:9:-1;5:2;;;30:1;27;20:12;5:2;7672:1052:1;;;;;;;;;;;;;;;;;;;;;;;;;;156:20:0;;8:9:-1;5:2;;;30:1;27;20:12;5:2;156:20:0;;;;;;;;;;;;;;;;;;;;;;;;;;;3776:2315:1;;8:9:-1;5:2;;;30:1;27;20:12;5:2;3776:2315:1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2308:21;;8:9:-1;5:2;;;30:1;27;20:12;5:2;2308:21:1;;;;;;;;;;;;;;;;;;;;;;;6096:486;;8:9:-1;5:2;;;30:1;27;20:12;5:2;6096:486:1;;;;;;;;;;;;;;;;;;;;;;;;;;9890:986;;8:9:-1;5:2;;;30:1;27;20:12;5:2;9890:986:1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1464:156:0;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1464:156:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;182:23;;8:9:-1;5:2;;;30:1;27;20:12;5:2;182:23:0;;;;;;;;;;;;;;;;;;;;;;;;;;;8729:466:1;;8:9:-1;5:2;;;30:1;27;20:12;5:2;8729:466:1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1149:137:0;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1149:137:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;7347:320:1;660:5:0;;;;;;;;;;;646:19;;:10;:19;;;639:27;;;;;;7436:1:1;7414:10;:24;;7406:33;;;;;;;;7489:3;7453:12;:24;7466:10;7453:24;;;;;;;;;;;:32;;;:39;;7450:107;;;7543:3;7508:12;:24;7521:10;7508:24;;;;;;;;;;;:32;;:38;;;;7450:107;7572:88;7579:10;7591:12;:24;7604:10;7591:24;;;;;;;;;;;:34;;;7627:12;:24;7640:10;7627:24;;;;;;;;;;;:32;;;7572:88;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;7347:320;:::o;9505:282::-;9552:21;9575:18;9621:5;;;;;;;;;;;9605:21;;9651:2;9636:17;;9714:1;9692:4;;;;;;;;;;;:16;;;:18;;;;;;;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;9692:18:1;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;9692:18:1;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;9692:18:1;;;;;;;;;;;;;;;;:23;9688:93;;;9746:3;9731:18;;9764:7;;9688:93;9505:282;;;:::o;212:46:0:-;;;;;;;;;;;;;;;;;;;;;;:::o;6587:755:1:-;6724:14;6760:13;660:5:0;;;;;;;;;;;646:19;;:10;:19;;;639:27;;;;;;6711:1:1;6689:10;:24;;6681:33;;;;;;;;6741:9;6724:26;;6776:4;;;;;;;;;;;:13;;;6790:10;6776:25;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;6776:25:1;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;6776:25:1;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;6776:25:1;;;;;;;;;;;;;;;;6760:41;;6866:8;6829:12;:24;6842:10;6829:24;;;;;;;;;;;:34;;;:45;6819:6;:55;;6811:64;;;;;;;;6939:6;6902:12;:24;6915:10;6902:24;;;;;;;;;;;:34;;;:43;6893:5;:52;;6885:61;;;;;;;;6990:4;6956:12;:24;6969:10;6956:24;;;;;;;;;;;:31;;;:38;;;;;;;;;;;;;;;;;;7039:8;7004:12;:24;7017:10;7004:24;;;;;;;;;;;:32;;:43;;;;7090:6;7057:12;:24;7070:10;7057:24;;;;;;;;;;;:30;;:39;;;;7146:3;7110:12;:24;7123:10;7110:24;;;;;;;;;;;:32;;;:39;;7107:107;;;7200:3;7165:12;:24;7178:10;7165:24;;;;;;;;;;;:32;;:38;;;;7107:107;7229:106;7236:10;7248:8;7258:6;7266:12;:24;7279:10;7266:24;;;;;;;;;;;:34;;;7302:12;:24;7315:10;7302:24;;;;;;;;;;;:32;;;7229:106;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;6587:755;;;;;:::o;9792:93::-;9834:4;9865;9857:21;;;9850:28;;9792:93;:::o;2188:22::-;;;;;;;;;;;;;:::o;1292:166:0:-;660:5;;;;;;;;;;;646:19;;:10;:19;;;639:27;;;;;;1387:9;1359:10;:25;1378:4;1359:25;;;;;;;;;;;;;;;;:37;;;;;;;;;;;;;;;;;;1411:40;1434:4;1441:9;1411:40;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1292:166;:::o;9200:300:1:-;9267:12;9290:11;9312:20;9343:22;9376:15;9401:18;9429:10;9463:30;9483:9;;9463:19;:30::i;:::-;9456:37;;;;;;;;;;;;;;9200:300;;;;;;;:::o;1706:182:0:-;1772:8;;;;;;;;;;;1758:22;;:10;:22;;;1750:31;;;;;;;;1815:8;;;;;;;;;;;1796:28;;1808:5;;;;;;;;;;;1796:28;;;;;;;;;;;;1842:8;;;;;;;;;;;1834:5;;:16;;;;;;;;;;;;;;;;;;1879:1;1860:8;;:21;;;;;;;;;;;;;;;;;;1706:182::o;7672:1052:1:-;7861:15;7909:10;7742:1;7727:3;:17;;7719:26;;;;;;;;7763:4;;;;;;;;;;;:19;;;7783:10;7795:3;7763:36;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;7763:36:1;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;7763:36:1;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;7763:36:1;;;;;;;;;;;;;;;;7755:45;;;;;;;;1417:4;7818;;;;;;;;;;;:13;;;7832:3;7818:18;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;7818:18:1;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;7818:18:1;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;7818:18:1;;;;;;;;;;;;;;;;:32;7810:41;;;;;;;;7879:4;;;;;;;;;;;:15;;;7895:3;7879:20;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;7879:20:1;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;7879:20:1;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;7879:20:1;;;;;;;;;;;;;;;;7861:38;;7922:4;;;;;;;;;;;:13;;;7936:10;7922:25;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;7922:25:1;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;7922:25:1;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;7922:25:1;;;;;;;;;;;;;;;;7909:38;;7987:1;7965:10;:24;;7957:33;;;;;;;;8054:1;8008:12;:24;8021:10;8008:24;;;;;;;;;;;:34;;;:48;;8000:57;;;;;;;;8075:12;:24;8088:10;8075:24;;;;;;;;;;;:31;;;;;;;;;;;;8067:40;;;;;;;;8150:12;:24;8163:10;8150:24;;;;;;;;;;;:32;;;8133:4;8125:21;;;:57;;8117:66;;;;;;;;8210:12;:24;8223:10;8210:24;;;;;;;;;;;:30;;;8201:5;:39;;8193:48;;;;;;;;8251:10;:19;;:53;8271:12;:24;8284:10;8271:24;;;;;;;;;;;:32;;;8251:53;;;;;;;;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;8251:53:1;8330:12;:24;8343:10;8330:24;;;;;;;;;;;:30;;;8322:5;:38;8314:46;;8370:4;;;;;;;;;;;:13;;;8384:10;8396:5;8370:32;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;8370:32:1;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;8370:32:1;;;;8412:4;;;;;;;;;;;:13;;;8426:3;1465:4;8412:29;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;8412:29:1;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;8412:29:1;;;;8457:260;8475:10;8499:3;8516:5;8535:12;:24;8548:10;8535:24;;;;;;;;;;;:30;;;8579:12;:24;8592:10;8579:24;;;;;;;;;;;:32;;;8626:12;:24;8639:10;8626:24;;;;;;;;;;;:34;;;8675:12;:24;8688:10;8675:24;;;;;;;;;;;:32;;;8457:260;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;7672:1052;;;:::o;156:20:0:-;;;;;;;;;;;;;:::o;3776:2315:1:-;4301:17;4825:12;660:5:0;;;;;;;;;;;646:19;;:10;:19;;;639:27;;;;;;3881:1:1;3862:21;;:7;:21;;;;3854:30;;;;;;;;3939:1;3897:12;:23;3910:9;;3897:23;;;;;;;;;;;:33;;;:44;3894:181;;;4037:27;4054:9;;4037:16;:27::i;:::-;3894:181;4225:3;4190:12;:23;4203:9;;4190:23;;;;;;;;;;;:31;;;:38;;4187:554;;;4321:4;;;;;;;;;;;:18;;;:20;;;;;;;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;4321:20:1;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;4321:20:1;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;4321:20:1;;;;;;;;;;;;;;;;4301:40;;4379:1;4358:12;:23;;4355:376;;;4458:30;4475:12;4458:16;:30::i;:::-;4561:12;4549:9;:24;;;;4355:376;;;4629:63;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4710:7;;4355:376;4187:554;4840:4;;;;;;;;;;;:24;;;4873:3;4879:7;4840:47;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;4840:47:1;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;4840:47:1;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;4840:47:1;;;;;;;;;;;;;;;;4825:62;;4916:1;4900:7;:18;4897:104;;;4939:31;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4984:7;;4897:104;5075:4;;;;;;;;;;;:26;;;5102:7;5111:9;5075:46;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;23:1:-1;8:100;33:3;30:1;27:10;8:100;;;99:1;94:3;90:11;84:18;80:1;75:3;71:11;64:39;52:2;49:1;45:10;40:15;;8:100;;;12:14;5075:46:1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;5075:46:1;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;5075:46:1;;;;5175:4;;;;;;;;;;;:32;;;5208:7;5175:41;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;5175:41:1;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;5175:41:1;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;5175:41:1;;;;;;;;;;;;;;;;;5342:4;;;;;;;;;;;:15;;;5358:7;5342:24;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;5342:24:1;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;5342:24:1;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;5342:24:1;;;;;;;;;;;;;;;;5327:39;;5395:9;;5379:12;:25;;5376:254;;;5468:1;5423:12;:26;5436:12;5423:26;;;;;;;;;;;:36;;;:47;5420:200;;;5490:30;5507:12;5490:16;:30::i;:::-;5593:12;5581:9;:24;;;;5420:200;5376:254;5644:54;5652:7;5661:9;5672:5;5679:7;5688:9;;5644:54;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;23:1:-1;8:100;33:3;30:1;27:10;8:100;;;99:1;94:3;90:11;84:18;80:1;75:3;71:11;64:39;52:2;49:1;45:10;40:15;;8:100;;;12:14;5644:54:1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;5776:1;5742:12;:23;5755:9;;5742:23;;;;;;;;;;;:31;;;:35;5708:12;:23;5721:9;;5708:23;;;;;;;;;;;:31;;:69;;;;5792:292;5811:9;;5834:7;5856:12;:23;5869:9;;5856:23;;;;;;;;;;;:33;;;5904:12;:23;5917:9;;5904:23;;;;;;;;;;;:31;;;5950:12;:23;5963:9;;5950:23;;;;;;;;;;;:31;;;5996:12;:23;6009:9;;5996:23;;;;;;;;;;;:33;;;6044:12;:23;6057:9;;6044:23;;;;;;;;;;;:30;;;;;;;;;;;;5792:292;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;676:1:0;3776:2315:1;;;;:::o;2308:21::-;;;;:::o;6096:486::-;6230:15;660:5:0;;;;;;;;;;;646:19;;:10;:19;;;639:27;;;;;;6177:1:1;6162:3;:17;;6154:26;;;;;;;;6190:4;;;;;;;;;;;:13;;;6204:3;1417:4;6190:30;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;6190:30:1;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;6190:30:1;;;;6248:4;;;;;;;;;;;:15;;;6264:3;6248:20;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;6248:20:1;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;6248:20:1;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;6248:20:1;;;;;;;;;;;;;;;;6230:38;;6308:1;6286:10;:24;;6278:33;;;;;;;;6375:1;6329:12;:24;6342:10;6329:24;;;;;;;;;;;:34;;;:48;;6321:57;;;;;;;;6462:1;6425:12;:24;6438:10;6425:24;;;;;;;;;;;:34;;;:38;6388:12;:24;6401:10;6388:24;;;;;;;;;;;:34;;:75;;;;6479:96;6489:10;6501:3;6506:12;:24;6519:10;6506:24;;;;;;;;;;;:34;;;6542:12;:24;6555:10;6542:24;;;;;;;;;;;:32;;;6479:96;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;6096:486;;:::o;9890:986::-;9942:4;9958:11;9983:15;10031:10;9972:1;9958:15;;10001:4;;;;;;;;;;;:15;;;10017:3;10001:20;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;10001:20:1;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;10001:20:1;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;10001:20:1;;;;;;;;;;;;;;;;9983:38;;10044:4;;;;;;;;;;;:13;;;10058:10;10044:25;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;10044:25:1;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;10044:25:1;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;10044:25:1;;;;;;;;;;;;;;;;10031:38;;10098:1;10083:3;:17;;10080:66;;;10134:1;10125:6;:10;10116:19;;10080:66;10158:4;;;;;;;;;;;:19;;;10178:10;10190:3;10158:36;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;10158:36:1;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;10158:36:1;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;10158:36:1;;;;;;;;;;;;;;;;10155:86;;;10228:2;10219:6;:11;10210:20;;10155:86;1417:4;10253;;;;;;;;;;;:13;;;10267:3;10253:18;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;10253:18:1;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;10253:18:1;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;10253:18:1;;;;;;;;;;;;;;;;:32;10250:83;;;10319:3;10310:6;:12;10301:21;;10250:83;10367:1;10345:10;:24;;10342:76;;;10403:4;10394:6;:13;10385:22;;10342:76;10476:1;10430:12;:24;10443:10;10430:24;;;;;;;;;;;:34;;;:48;;10427:101;;;10512:5;10503:6;:14;10494:23;;10427:101;10540:12;:24;10553:10;10540:24;;;;;;;;;;;:31;;;;;;;;;;;;10537:85;;;10605:6;10596;:15;10587:24;;10537:85;10659:12;:24;10672:10;10659:24;;;;;;;;;;;:32;;;10642:4;10634:21;;;:57;;10631:112;;;10725:7;10716:6;:16;10707:25;;10631:112;10764:12;:24;10777:10;10764:24;;;;;;;;;;;:30;;;10755:5;:39;;10752:95;;;10828:8;10819:6;:17;10810:26;;10752:95;10863:6;10856:13;;9890:986;;;;;;:::o;1464:156:0:-;660:5;;;;;;;;;;;646:19;;:10;:19;;;639:27;;;;;;1557:4;1527:10;:19;1538:7;1527:19;;;;;;;;;;;;;;;;:35;;;;;;;;;;;;;;;;;;1577:36;1590:7;1607:4;1577:36;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1464:156;:::o;182:23::-;;;;;;;;;;;;;:::o;8729:466:1:-;8798:4;8804;8810;8816;8822;8828;8834;8870:12;:24;8883:10;8870:24;;;;;;;;;;;:34;;;8919:12;:24;8932:10;8919:24;;;;;;;;;;;:32;;;8966:12;:24;8979:10;8966:24;;;;;;;;;;;:32;;;9013:12;:24;9026:10;9013:24;;;;;;;;;;;:34;;;9062:12;:24;9075:10;9062:24;;;;;;;;;;;:30;;;9107:12;:24;9120:10;9107:24;;;;;;;;;;;:32;;;9153:4;;;;;;;;;;;:13;;;9167:10;9153:25;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;9153:25:1;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;9153:25:1;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;9153:25:1;;;;;;;;;;;;;;;;8850:338;;;;;;;;;;;;;;8729:466;;;;;;;;;:::o;1149:137:0:-;660:5;;;;;;;;;;;646:19;;:10;:19;;;639:27;;;;;;1243:5;;;;;;;;;;;1230:18;;:9;:18;;;;1222:27;;;;;;;;1270:9;1259:8;;:20;;;;;;;;;;;;;;;;;;1149:137;:::o;3277:465:1:-;3366:239;;;;;;;;;3409:3;3366:239;;;;3441:6;3435:3;:12;3366:239;;;;3475:1;3366:239;;;;3507:1;3366:239;;;;3531:5;3366:239;;;;;;3564:1;3366:239;;;;3592:1;3366:239;;;3339:12;:24;3352:10;3339:24;;;;;;;;;;;:266;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3642:93;3654:10;3666:12;:24;3679:10;3666:24;;;;;;;;;;;:34;;;3702:12;:24;3715:10;3702:24;;;;;;;;;;;:32;;;3642:93;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3277:465;:::o","source":"// \n// MIT License\n// \n// Copyright (c) 2018 REGA Risk Sharing\n//   \n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n// \n// The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n// \n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n// SOFTWARE.\n// \n// Author: Sergei Sevriugin\n// Version: 0.0.1\n//  \n\npragma solidity ^0.4.17;\n\nimport \"./interfaces/ITokenPool.sol\";\nimport \"./Owned.sol\";\n/// TokenLoyalty is ERC721SmartToken for loyalty token.\ncontract TokenLoyalty is Owned {\n\n    uint256 constant StateClaim = uint256(1023);\n    uint256 constant StatePaid = uint256(1022);\n\n    struct SubPoolExtension {\n        uint    timeStamp;                          // Sub pool extension is created\n        uint    closure;                            // Sub pool closere time\n        uint    members;                            // Sub pool number of members\n        uint    activated;                          // Sub pool number of activated tokens\n        bool    funded;                             // Sub pool has recieved funds to pay claims\n        uint    payment;                            // If funded is true then this is payment amount for activated token\n        uint    debit;                              // This amount will be debited from Sub Pool value during the payment\n    }\n    ITokenPool public pool;\n    mapping (uint256 => SubPoolExtension) spextensions;     // Sup pools extension mapping \n    uint public subPoolId;                          // Current subpool NFT ID\n\n    /// loyalty token created event\n    event Created(address member, string clientId, bool claim, uint256 tokenId, uint256 supPoolId);\n    /// create sub pool extension event\n    event SPExtension(uint256 subPoolId, uint timeStamp, uint closure);\n    /// error event\n    event Error(string message);\n    /// sub pool added event \n    event Added(uint subPoolId, uint tokenId, uint timeStamp, uint closure, uint members, uint activated, bool funded);\n    /// activation event\n    event Activated(uint subPoolId, uint tokenId, uint timeStamp, uint closure);\n    /// funded event\n    event Funded(uint subPoolId, uint payment, uint debit, uint timeStamp, uint closure);\n    /// Closed event\n    event Closed(uint subPoolId, uint timeStamp, uint closure);\n    /// payment event\n    event Paid(uint subPoolId, uint tokenId, uint value, uint debit, uint payment, uint timeStamp, uint closure);\n\n    function _createExtension(uint _subPoolId) internal {\n        spextensions[_subPoolId] = SubPoolExtension ({\n            timeStamp: now,\n            closure: now + 1 days,\n            members: uint(0),\n            activated: uint(0),\n            funded: false,\n            payment: uint(0),\n            debit: uint(0)\n        });\n        // emit event\n        emit SPExtension(_subPoolId, spextensions[_subPoolId].timeStamp, spextensions[_subPoolId].closure);\n    }\n    /// create loyalty token\n    function create(address _member, string _clientId) ownerOnly public {\n        require(_member != address(0));\n        if(spextensions[subPoolId].timeStamp == uint(0)) {\n            // first sub pool and first token need to create sub pool extension\n            _createExtension(subPoolId);\n        }\n        // it looks like we have subPool with extension and we need to check if sub pool is still open\n        if(spextensions[subPoolId].closure <= now) {\n            // sub pool is closed need to create new one\n            uint newSubPoolId = pool.insertSubPool();\n            if(newSubPoolId != uint(0)) {\n                // new sub pool is created add extension\n                _createExtension(newSubPoolId);\n                // change current sub pool\n                subPoolId = newSubPoolId;\n            }\n            else {\n                emit Error(\"sub pool is not created, not possible to add new token\");\n                return;\n            }\n        }\n        // now we have sub pool open (old one or new) and can insert token\n        uint tokenId = pool.connector_createNFT(uint256(500), _member);\n        if(tokenId == uint(0)) {\n            emit Error(\"can't create new token\");\n            return;\n        }\n        // token is created\n        // set metadata to _clientId\n        pool.connector_setMetadata(tokenId, _clientId);\n        // now we can insert it to sub pool\n        pool.connector_addTokenToSubPool(tokenId);\n        // it's possible that sub pool can full and new sub pool will be created need to check this \n        newSubPoolId = pool.getSubPool(tokenId);\n        if(newSubPoolId != subPoolId) {\n            if(spextensions[newSubPoolId].timeStamp == uint(0)) {\n                _createExtension(newSubPoolId);\n                // change current sub pool\n                subPoolId = newSubPoolId;\n            }\n        }\n        emit Created(_member, _clientId, false, tokenId, subPoolId);\n        spextensions[subPoolId].members = spextensions[subPoolId].members + 1;\n        emit Added(\n            subPoolId,\n            tokenId, \n            spextensions[subPoolId].timeStamp, \n            spextensions[subPoolId].closure, \n            spextensions[subPoolId].members, \n            spextensions[subPoolId].activated, \n            spextensions[subPoolId].funded\n        );\n    }\n    function activate(uint256 _id) ownerOnly public {\n        require(_id != uint256(0));\n        pool.setState(_id, StateClaim);\n        uint _subPoolId = pool.getSubPool(_id);\n        require(_subPoolId != uint256(0));\n        require(spextensions[_subPoolId].timeStamp != uint256(0));\n        spextensions[_subPoolId].activated = spextensions[_subPoolId].activated + 1;\n\n        emit Activated(_subPoolId, _id, spextensions[_subPoolId].timeStamp, spextensions[_subPoolId].closure);\n    }\n    function fund(uint _subPoolId, uint _payment, uint _debit) ownerOnly public payable {\n        require(_subPoolId != uint256(0));\n        uint256 amount = msg.value;\n        uint256 value = pool.getValue(_subPoolId);\n        require(amount >= spextensions[_subPoolId].activated * _payment);\n        require(value >= spextensions[_subPoolId].activated * _debit);\n        spextensions[_subPoolId].funded = true;\n        spextensions[_subPoolId].payment = _payment;\n        spextensions[_subPoolId].debit = _debit;\n\n        if(spextensions[_subPoolId].closure >= now) {\n            spextensions[_subPoolId].closure = now;\n        }\n\n        emit Funded(_subPoolId, _payment, _debit, spextensions[_subPoolId].timeStamp, spextensions[_subPoolId].closure);\n    }\n    function close(uint _subPoolId) ownerOnly public {\n        require(_subPoolId != uint256(0));\n\n        if(spextensions[_subPoolId].closure >= now) {\n            spextensions[_subPoolId].closure = now;\n        }\n\n        emit Closed(_subPoolId, spextensions[_subPoolId].timeStamp, spextensions[_subPoolId].closure);\n    }\n    function payment(uint256 _id) public {\n        require(_id != uint256(0));\n        require(pool.connector_owns(msg.sender, _id));\n        require(pool.getState(_id) == StateClaim);\n        uint _subPoolId = pool.getSubPool(_id);\n        uint value = pool.getValue(_subPoolId);\n        require(_subPoolId != uint256(0));\n        require(spextensions[_subPoolId].timeStamp != uint256(0));\n        require(spextensions[_subPoolId].funded);\n        require(address(this).balance >= spextensions[_subPoolId].payment);\n        require(value >= spextensions[_subPoolId].debit);\n        msg.sender.transfer(spextensions[_subPoolId].payment);\n        value = value - spextensions[_subPoolId].debit;\n        pool.setValue(_subPoolId, value);\n        pool.setState(_id, StatePaid);\n\n        emit Paid(\n            _subPoolId,\n            _id,\n            value,\n            spextensions[_subPoolId].debit,\n            spextensions[_subPoolId].payment, \n            spextensions[_subPoolId].timeStamp, \n            spextensions[_subPoolId].closure\n        );\n    }\n    function getSubPoolExtension(uint256 _subPoolId) public view returns(uint, uint, uint, uint, uint, uint, uint) {\n        return(\n            spextensions[_subPoolId].timeStamp, \n            spextensions[_subPoolId].closure, \n            spextensions[_subPoolId].members, \n            spextensions[_subPoolId].activated, \n            spextensions[_subPoolId].debit, \n            spextensions[_subPoolId].payment,\n            pool.getValue(_subPoolId)\n        );\n    }\n    function getCurrentSubPoolExtension() public view returns(\n        uint created, \n        uint closed, \n        uint numberOfMembers, \n        uint numberOfActivated, \n        uint debitValue,\n        uint paymentAmount,\n        uint value\n    ) {\n        return getSubPoolExtension(subPoolId);\n    }\n    function getBizProcessId() view public returns(address contractOwner, uint8 bizProcessId) {\n        contractOwner = owner;\n        bizProcessId = 21;\n        // wait fot init\n        if (pool.getPoolSize() == 0) {\n            bizProcessId = 100; \n            return;\n        }\n    }\n    function getBalance() view public returns(uint) {\n        return address(this).balance;\n    }\n    function checkPayment(uint _id) public view returns(uint) {\n        uint result = 0;\n        uint _subPoolId = pool.getSubPool(_id);\n        uint value = pool.getValue(_subPoolId);\n\n        if(_id != uint256(0)) {\n            result = result + 1;\n        }\n        if(pool.connector_owns(msg.sender, _id)) {\n            result = result + 10;\n        }\n        if(pool.getState(_id) == StateClaim) {\n            result = result + 100;\n        }\n        if(_subPoolId != uint256(0)) {\n            result = result + 1000;\n        }\n        if(spextensions[_subPoolId].timeStamp != uint256(0)) {\n            result = result + 10000;\n        }\n        if(spextensions[_subPoolId].funded) {\n            result = result + 100000;\n        }\n        if(address(this).balance >= spextensions[_subPoolId].payment) {\n            result = result + 1000000;\n        }\n        if(value >= spextensions[_subPoolId].debit) {\n            result = result + 10000000;\n        }\n        return result;\n    }\n    constructor(address _pool) public {\n        subPoolId = 3;\n        _createExtension(subPoolId);\n        pool = ITokenPool(_pool);\n    }\n    function() public payable { }                           //  fallback function to get Ether on contract account\n}","sourcePath":"/Users/sergei/LoyaltyCrowdsurance/contracts/TokenLoyalty.sol","ast":{"absolutePath":"/Users/sergei/LoyaltyCrowdsurance/contracts/TokenLoyalty.sol","exportedSymbols":{"TokenLoyalty":[1167]},"id":1168,"nodeType":"SourceUnit","nodes":[{"id":178,"literals":["solidity","^","0.4",".17"],"nodeType":"PragmaDirective","src":"1199:24:1"},{"absolutePath":"/Users/sergei/LoyaltyCrowdsurance/contracts/interfaces/ITokenPool.sol","file":"./interfaces/ITokenPool.sol","id":179,"nodeType":"ImportDirective","scope":1168,"sourceUnit":2355,"src":"1225:37:1","symbolAliases":[],"unitAlias":""},{"absolutePath":"/Users/sergei/LoyaltyCrowdsurance/contracts/Owned.sol","file":"./Owned.sol","id":180,"nodeType":"ImportDirective","scope":1168,"sourceUnit":177,"src":"1263:21:1","symbolAliases":[],"unitAlias":""},{"baseContracts":[{"arguments":null,"baseName":{"contractScope":null,"id":181,"name":"Owned","nodeType":"UserDefinedTypeName","referencedDeclaration":176,"src":"1366:5:1","typeDescriptions":{"typeIdentifier":"t_contract$_Owned_$176","typeString":"contract Owned"}},"id":182,"nodeType":"InheritanceSpecifier","src":"1366:5:1"}],"contractDependencies":[176,2238],"contractKind":"contract","documentation":"TokenLoyalty is ERC721SmartToken for loyalty token.","fullyImplemented":true,"id":1167,"linearizedBaseContracts":[1167,176,2238],"name":"TokenLoyalty","nodeType":"ContractDefinition","nodes":[{"constant":true,"id":187,"name":"StateClaim","nodeType":"VariableDeclaration","scope":1167,"src":"1379:43:1","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":183,"name":"uint256","nodeType":"ElementaryTypeName","src":"1379:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"31303233","id":185,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1417:4:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1023_by_1","typeString":"int_const 1023"},"value":"1023"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_1023_by_1","typeString":"int_const 1023"}],"id":184,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1409:7:1","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint256"},"id":186,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1409:13:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":true,"id":192,"name":"StatePaid","nodeType":"VariableDeclaration","scope":1167,"src":"1428:42:1","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":188,"name":"uint256","nodeType":"ElementaryTypeName","src":"1428:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"31303232","id":190,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1465:4:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1022_by_1","typeString":"int_const 1022"},"value":"1022"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_1022_by_1","typeString":"int_const 1022"}],"id":189,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1457:7:1","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint256"},"id":191,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1457:13:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"canonicalName":"TokenLoyalty.SubPoolExtension","id":207,"members":[{"constant":false,"id":194,"name":"timeStamp","nodeType":"VariableDeclaration","scope":207,"src":"1511:17:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":193,"name":"uint","nodeType":"ElementaryTypeName","src":"1511:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":196,"name":"closure","nodeType":"VariableDeclaration","scope":207,"src":"1596:15:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":195,"name":"uint","nodeType":"ElementaryTypeName","src":"1596:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":198,"name":"members","nodeType":"VariableDeclaration","scope":207,"src":"1673:15:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":197,"name":"uint","nodeType":"ElementaryTypeName","src":"1673:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":200,"name":"activated","nodeType":"VariableDeclaration","scope":207,"src":"1755:17:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":199,"name":"uint","nodeType":"ElementaryTypeName","src":"1755:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":202,"name":"funded","nodeType":"VariableDeclaration","scope":207,"src":"1846:14:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":201,"name":"bool","nodeType":"ElementaryTypeName","src":"1846:4:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"},{"constant":false,"id":204,"name":"payment","nodeType":"VariableDeclaration","scope":207,"src":"1943:15:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":203,"name":"uint","nodeType":"ElementaryTypeName","src":"1943:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":206,"name":"debit","nodeType":"VariableDeclaration","scope":207,"src":"2064:13:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":205,"name":"uint","nodeType":"ElementaryTypeName","src":"2064:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"name":"SubPoolExtension","nodeType":"StructDefinition","scope":1167,"src":"1477:706:1","visibility":"public"},{"constant":false,"id":209,"name":"pool","nodeType":"VariableDeclaration","scope":1167,"src":"2188:22:1","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"},"typeName":{"contractScope":null,"id":208,"name":"ITokenPool","nodeType":"UserDefinedTypeName","referencedDeclaration":2354,"src":"2188:10:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"value":null,"visibility":"public"},{"constant":false,"id":213,"name":"spextensions","nodeType":"VariableDeclaration","scope":1167,"src":"2216:50:1","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension)"},"typeName":{"id":212,"keyType":{"id":210,"name":"uint256","nodeType":"ElementaryTypeName","src":"2225:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"2216:37:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension)"},"valueType":{"contractScope":null,"id":211,"name":"SubPoolExtension","nodeType":"UserDefinedTypeName","referencedDeclaration":207,"src":"2236:16:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage_ptr","typeString":"struct TokenLoyalty.SubPoolExtension"}}},"value":null,"visibility":"internal"},{"constant":false,"id":215,"name":"subPoolId","nodeType":"VariableDeclaration","scope":1167,"src":"2308:21:1","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":214,"name":"uint","nodeType":"ElementaryTypeName","src":"2308:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"public"},{"anonymous":false,"documentation":"loyalty token created event","id":227,"name":"Created","nodeType":"EventDefinition","parameters":{"id":226,"nodeType":"ParameterList","parameters":[{"constant":false,"id":217,"indexed":false,"name":"member","nodeType":"VariableDeclaration","scope":227,"src":"2437:14:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":216,"name":"address","nodeType":"ElementaryTypeName","src":"2437:7:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":219,"indexed":false,"name":"clientId","nodeType":"VariableDeclaration","scope":227,"src":"2453:15:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":218,"name":"string","nodeType":"ElementaryTypeName","src":"2453:6:1","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"value":null,"visibility":"internal"},{"constant":false,"id":221,"indexed":false,"name":"claim","nodeType":"VariableDeclaration","scope":227,"src":"2470:10:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":220,"name":"bool","nodeType":"ElementaryTypeName","src":"2470:4:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"},{"constant":false,"id":223,"indexed":false,"name":"tokenId","nodeType":"VariableDeclaration","scope":227,"src":"2482:15:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":222,"name":"uint256","nodeType":"ElementaryTypeName","src":"2482:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":225,"indexed":false,"name":"supPoolId","nodeType":"VariableDeclaration","scope":227,"src":"2499:17:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":224,"name":"uint256","nodeType":"ElementaryTypeName","src":"2499:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"2436:81:1"},"src":"2423:95:1"},{"anonymous":false,"documentation":"create sub pool extension event","id":235,"name":"SPExtension","nodeType":"EventDefinition","parameters":{"id":234,"nodeType":"ParameterList","parameters":[{"constant":false,"id":229,"indexed":false,"name":"subPoolId","nodeType":"VariableDeclaration","scope":235,"src":"2581:17:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":228,"name":"uint256","nodeType":"ElementaryTypeName","src":"2581:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":231,"indexed":false,"name":"timeStamp","nodeType":"VariableDeclaration","scope":235,"src":"2600:14:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":230,"name":"uint","nodeType":"ElementaryTypeName","src":"2600:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":233,"indexed":false,"name":"closure","nodeType":"VariableDeclaration","scope":235,"src":"2616:12:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":232,"name":"uint","nodeType":"ElementaryTypeName","src":"2616:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"2580:49:1"},"src":"2563:67:1"},{"anonymous":false,"documentation":"error event","id":239,"name":"Error","nodeType":"EventDefinition","parameters":{"id":238,"nodeType":"ParameterList","parameters":[{"constant":false,"id":237,"indexed":false,"name":"message","nodeType":"VariableDeclaration","scope":239,"src":"2667:14:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":236,"name":"string","nodeType":"ElementaryTypeName","src":"2667:6:1","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"value":null,"visibility":"internal"}],"src":"2666:16:1"},"src":"2655:28:1"},{"anonymous":false,"documentation":"sub pool added event ","id":255,"name":"Added","nodeType":"EventDefinition","parameters":{"id":254,"nodeType":"ParameterList","parameters":[{"constant":false,"id":241,"indexed":false,"name":"subPoolId","nodeType":"VariableDeclaration","scope":255,"src":"2730:14:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":240,"name":"uint","nodeType":"ElementaryTypeName","src":"2730:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":243,"indexed":false,"name":"tokenId","nodeType":"VariableDeclaration","scope":255,"src":"2746:12:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":242,"name":"uint","nodeType":"ElementaryTypeName","src":"2746:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":245,"indexed":false,"name":"timeStamp","nodeType":"VariableDeclaration","scope":255,"src":"2760:14:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":244,"name":"uint","nodeType":"ElementaryTypeName","src":"2760:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":247,"indexed":false,"name":"closure","nodeType":"VariableDeclaration","scope":255,"src":"2776:12:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":246,"name":"uint","nodeType":"ElementaryTypeName","src":"2776:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":249,"indexed":false,"name":"members","nodeType":"VariableDeclaration","scope":255,"src":"2790:12:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":248,"name":"uint","nodeType":"ElementaryTypeName","src":"2790:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":251,"indexed":false,"name":"activated","nodeType":"VariableDeclaration","scope":255,"src":"2804:14:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":250,"name":"uint","nodeType":"ElementaryTypeName","src":"2804:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":253,"indexed":false,"name":"funded","nodeType":"VariableDeclaration","scope":255,"src":"2820:11:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":252,"name":"bool","nodeType":"ElementaryTypeName","src":"2820:4:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"2729:103:1"},"src":"2718:115:1"},{"anonymous":false,"documentation":"activation event","id":265,"name":"Activated","nodeType":"EventDefinition","parameters":{"id":264,"nodeType":"ParameterList","parameters":[{"constant":false,"id":257,"indexed":false,"name":"subPoolId","nodeType":"VariableDeclaration","scope":265,"src":"2879:14:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":256,"name":"uint","nodeType":"ElementaryTypeName","src":"2879:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":259,"indexed":false,"name":"tokenId","nodeType":"VariableDeclaration","scope":265,"src":"2895:12:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":258,"name":"uint","nodeType":"ElementaryTypeName","src":"2895:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":261,"indexed":false,"name":"timeStamp","nodeType":"VariableDeclaration","scope":265,"src":"2909:14:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":260,"name":"uint","nodeType":"ElementaryTypeName","src":"2909:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":263,"indexed":false,"name":"closure","nodeType":"VariableDeclaration","scope":265,"src":"2925:12:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":262,"name":"uint","nodeType":"ElementaryTypeName","src":"2925:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"2878:60:1"},"src":"2863:76:1"},{"anonymous":false,"documentation":"funded event","id":277,"name":"Funded","nodeType":"EventDefinition","parameters":{"id":276,"nodeType":"ParameterList","parameters":[{"constant":false,"id":267,"indexed":false,"name":"subPoolId","nodeType":"VariableDeclaration","scope":277,"src":"2978:14:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":266,"name":"uint","nodeType":"ElementaryTypeName","src":"2978:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":269,"indexed":false,"name":"payment","nodeType":"VariableDeclaration","scope":277,"src":"2994:12:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":268,"name":"uint","nodeType":"ElementaryTypeName","src":"2994:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":271,"indexed":false,"name":"debit","nodeType":"VariableDeclaration","scope":277,"src":"3008:10:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":270,"name":"uint","nodeType":"ElementaryTypeName","src":"3008:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":273,"indexed":false,"name":"timeStamp","nodeType":"VariableDeclaration","scope":277,"src":"3020:14:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":272,"name":"uint","nodeType":"ElementaryTypeName","src":"3020:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":275,"indexed":false,"name":"closure","nodeType":"VariableDeclaration","scope":277,"src":"3036:12:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":274,"name":"uint","nodeType":"ElementaryTypeName","src":"3036:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"2977:72:1"},"src":"2965:85:1"},{"anonymous":false,"documentation":"Closed event","id":285,"name":"Closed","nodeType":"EventDefinition","parameters":{"id":284,"nodeType":"ParameterList","parameters":[{"constant":false,"id":279,"indexed":false,"name":"subPoolId","nodeType":"VariableDeclaration","scope":285,"src":"3089:14:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":278,"name":"uint","nodeType":"ElementaryTypeName","src":"3089:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":281,"indexed":false,"name":"timeStamp","nodeType":"VariableDeclaration","scope":285,"src":"3105:14:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":280,"name":"uint","nodeType":"ElementaryTypeName","src":"3105:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":283,"indexed":false,"name":"closure","nodeType":"VariableDeclaration","scope":285,"src":"3121:12:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":282,"name":"uint","nodeType":"ElementaryTypeName","src":"3121:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"3088:46:1"},"src":"3076:59:1"},{"anonymous":false,"documentation":"payment event","id":301,"name":"Paid","nodeType":"EventDefinition","parameters":{"id":300,"nodeType":"ParameterList","parameters":[{"constant":false,"id":287,"indexed":false,"name":"subPoolId","nodeType":"VariableDeclaration","scope":301,"src":"3173:14:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":286,"name":"uint","nodeType":"ElementaryTypeName","src":"3173:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":289,"indexed":false,"name":"tokenId","nodeType":"VariableDeclaration","scope":301,"src":"3189:12:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":288,"name":"uint","nodeType":"ElementaryTypeName","src":"3189:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":291,"indexed":false,"name":"value","nodeType":"VariableDeclaration","scope":301,"src":"3203:10:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":290,"name":"uint","nodeType":"ElementaryTypeName","src":"3203:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":293,"indexed":false,"name":"debit","nodeType":"VariableDeclaration","scope":301,"src":"3215:10:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":292,"name":"uint","nodeType":"ElementaryTypeName","src":"3215:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":295,"indexed":false,"name":"payment","nodeType":"VariableDeclaration","scope":301,"src":"3227:12:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":294,"name":"uint","nodeType":"ElementaryTypeName","src":"3227:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":297,"indexed":false,"name":"timeStamp","nodeType":"VariableDeclaration","scope":301,"src":"3241:14:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":296,"name":"uint","nodeType":"ElementaryTypeName","src":"3241:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":299,"indexed":false,"name":"closure","nodeType":"VariableDeclaration","scope":301,"src":"3257:12:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":298,"name":"uint","nodeType":"ElementaryTypeName","src":"3257:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"3172:98:1"},"src":"3162:109:1"},{"body":{"id":342,"nodeType":"Block","src":"3329:413:1","statements":[{"expression":{"argumentTypes":null,"id":328,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":306,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"3339:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":308,"indexExpression":{"argumentTypes":null,"id":307,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":303,"src":"3352:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"3339:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":310,"name":"now","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2371,"src":"3409:3:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":313,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":311,"name":"now","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2371,"src":"3435:3:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"argumentTypes":null,"hexValue":"31","id":312,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3441:6:1","subdenomination":"days","typeDescriptions":{"typeIdentifier":"t_rational_86400_by_1","typeString":"int_const 86400"},"value":"1"},"src":"3435:12:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":315,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3475:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":314,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3470:4:1","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":316,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3470:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":318,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3507:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":317,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3502:4:1","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":319,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3502:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"66616c7365","id":320,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"3531:5:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":322,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3564:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":321,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3559:4:1","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":323,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3559:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":325,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3592:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":324,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3587:4:1","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":326,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3587:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":null,"id":309,"name":"SubPoolExtension","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":207,"src":"3366:16:1","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_SubPoolExtension_$207_storage_ptr_$","typeString":"type(struct TokenLoyalty.SubPoolExtension storage pointer)"}},"id":327,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"names":["timeStamp","closure","members","activated","funded","payment","debit"],"nodeType":"FunctionCall","src":"3366:239:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_memory","typeString":"struct TokenLoyalty.SubPoolExtension memory"}},"src":"3339:266:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":329,"nodeType":"ExpressionStatement","src":"3339:266:1"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":331,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":303,"src":"3654:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":332,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"3666:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":334,"indexExpression":{"argumentTypes":null,"id":333,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":303,"src":"3679:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3666:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":335,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"timeStamp","nodeType":"MemberAccess","referencedDeclaration":194,"src":"3666:34:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":336,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"3702:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":338,"indexExpression":{"argumentTypes":null,"id":337,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":303,"src":"3715:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3702:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":339,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"closure","nodeType":"MemberAccess","referencedDeclaration":196,"src":"3702:32:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":330,"name":"SPExtension","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":235,"src":"3642:11:1","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256)"}},"id":340,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3642:93:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":341,"nodeType":"EmitStatement","src":"3637:98:1"}]},"documentation":null,"id":343,"implemented":true,"isConstructor":false,"isDeclaredConst":false,"modifiers":[],"name":"_createExtension","nodeType":"FunctionDefinition","parameters":{"id":304,"nodeType":"ParameterList","parameters":[{"constant":false,"id":303,"name":"_subPoolId","nodeType":"VariableDeclaration","scope":343,"src":"3303:15:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":302,"name":"uint","nodeType":"ElementaryTypeName","src":"3303:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"3302:17:1"},"payable":false,"returnParameters":{"id":305,"nodeType":"ParameterList","parameters":[],"src":"3329:0:1"},"scope":1167,"src":"3277:465:1","stateMutability":"nonpayable","superFunction":null,"visibility":"internal"},{"body":{"id":519,"nodeType":"Block","src":"3844:2247:1","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":357,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":353,"name":"_member","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":345,"src":"3862:7:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":355,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3881:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":354,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3873:7:1","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":356,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3873:10:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3862:21:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":352,"name":"require","nodeType":"Identifier","overloadedDeclarations":[2372,2373],"referencedDeclaration":2372,"src":"3854:7:1","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":358,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3854:30:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":359,"nodeType":"ExpressionStatement","src":"3854:30:1"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":367,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":360,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"3897:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":362,"indexExpression":{"argumentTypes":null,"id":361,"name":"subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":215,"src":"3910:9:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3897:23:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":363,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"timeStamp","nodeType":"MemberAccess","referencedDeclaration":194,"src":"3897:33:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":365,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3939:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":364,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3934:4:1","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":366,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3934:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3897:44:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":373,"nodeType":"IfStatement","src":"3894:181:1","trueBody":{"id":372,"nodeType":"Block","src":"3943:132:1","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":369,"name":"subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":215,"src":"4054:9:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":368,"name":"_createExtension","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":343,"src":"4037:16:1","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":370,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4037:27:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":371,"nodeType":"ExpressionStatement","src":"4037:27:1"}]}},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":379,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":374,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"4190:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":376,"indexExpression":{"argumentTypes":null,"id":375,"name":"subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":215,"src":"4203:9:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4190:23:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":377,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"closure","nodeType":"MemberAccess","referencedDeclaration":196,"src":"4190:31:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"argumentTypes":null,"id":378,"name":"now","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2371,"src":"4225:3:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4190:38:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":408,"nodeType":"IfStatement","src":"4187:554:1","trueBody":{"id":407,"nodeType":"Block","src":"4230:511:1","statements":[{"assignments":[381],"declarations":[{"constant":false,"id":381,"name":"newSubPoolId","nodeType":"VariableDeclaration","scope":520,"src":"4301:17:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":380,"name":"uint","nodeType":"ElementaryTypeName","src":"4301:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":385,"initialValue":{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"expression":{"argumentTypes":null,"id":382,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"4321:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"id":383,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"insertSubPool","nodeType":"MemberAccess","referencedDeclaration":2313,"src":"4321:18:1","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$__$returns$_t_uint256_$","typeString":"function () external returns (uint256)"}},"id":384,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4321:20:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"4301:40:1"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":390,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":386,"name":"newSubPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":381,"src":"4358:12:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":388,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4379:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":387,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4374:4:1","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":389,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4374:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4358:23:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":405,"nodeType":"Block","src":"4606:125:1","statements":[{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"73756220706f6f6c206973206e6f7420637265617465642c206e6f7420706f737369626c6520746f20616464206e657720746f6b656e","id":401,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4635:56:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_d319ae5fc1f06ccf965c06448b57199886144f8b273656d9a90e92b518e127ae","typeString":"literal_string \"sub pool is not created, not possible to add new token\""},"value":"sub pool is not created, not possible to add new token"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_d319ae5fc1f06ccf965c06448b57199886144f8b273656d9a90e92b518e127ae","typeString":"literal_string \"sub pool is not created, not possible to add new token\""}],"id":400,"name":"Error","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":239,"src":"4629:5:1","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_string_memory_ptr_$returns$__$","typeString":"function (string memory)"}},"id":402,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4629:63:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":403,"nodeType":"EmitStatement","src":"4624:68:1"},{"expression":null,"functionReturnParameters":351,"id":404,"nodeType":"Return","src":"4710:7:1"}]},"id":406,"nodeType":"IfStatement","src":"4355:376:1","trueBody":{"id":399,"nodeType":"Block","src":"4383:205:1","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":392,"name":"newSubPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":381,"src":"4475:12:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":391,"name":"_createExtension","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":343,"src":"4458:16:1","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":393,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4458:30:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":394,"nodeType":"ExpressionStatement","src":"4458:30:1"},{"expression":{"argumentTypes":null,"id":397,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":395,"name":"subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":215,"src":"4549:9:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":396,"name":"newSubPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":381,"src":"4561:12:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4549:24:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":398,"nodeType":"ExpressionStatement","src":"4549:24:1"}]}}]}},{"assignments":[410],"declarations":[{"constant":false,"id":410,"name":"tokenId","nodeType":"VariableDeclaration","scope":520,"src":"4825:12:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":409,"name":"uint","nodeType":"ElementaryTypeName","src":"4825:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":418,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"353030","id":414,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4873:3:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_500_by_1","typeString":"int_const 500"},"value":"500"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_500_by_1","typeString":"int_const 500"}],"id":413,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4865:7:1","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint256"},"id":415,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4865:12:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":416,"name":"_member","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":345,"src":"4879:7:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"argumentTypes":null,"id":411,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"4840:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"id":412,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"connector_createNFT","nodeType":"MemberAccess","referencedDeclaration":2301,"src":"4840:24:1","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_uint256_$_t_address_$returns$_t_uint256_$","typeString":"function (uint256,address) external returns (uint256)"}},"id":417,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4840:47:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"4825:62:1"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":423,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":419,"name":"tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":410,"src":"4900:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":421,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4916:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":420,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4911:4:1","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":422,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4911:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4900:18:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":430,"nodeType":"IfStatement","src":"4897:104:1","trueBody":{"id":429,"nodeType":"Block","src":"4920:81:1","statements":[{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"63616e277420637265617465206e657720746f6b656e","id":425,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4945:24:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_c2f0c4d301f9c85007997a842b64b9fcee6ade1b3163270b8c638a2e6b9b9c70","typeString":"literal_string \"can't create new token\""},"value":"can't create new token"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_c2f0c4d301f9c85007997a842b64b9fcee6ade1b3163270b8c638a2e6b9b9c70","typeString":"literal_string \"can't create new token\""}],"id":424,"name":"Error","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":239,"src":"4939:5:1","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_string_memory_ptr_$returns$__$","typeString":"function (string memory)"}},"id":426,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4939:31:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":427,"nodeType":"EmitStatement","src":"4934:36:1"},{"expression":null,"functionReturnParameters":351,"id":428,"nodeType":"Return","src":"4984:7:1"}]}},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":434,"name":"tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":410,"src":"5102:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":435,"name":"_clientId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":347,"src":"5111:9:1","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"expression":{"argumentTypes":null,"id":431,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"5075:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"id":433,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"connector_setMetadata","nodeType":"MemberAccess","referencedDeclaration":2292,"src":"5075:26:1","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_uint256_$_t_string_memory_ptr_$returns$__$","typeString":"function (uint256,string memory) external"}},"id":436,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5075:46:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":437,"nodeType":"ExpressionStatement","src":"5075:46:1"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":441,"name":"tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":410,"src":"5208:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":438,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"5175:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"id":440,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"connector_addTokenToSubPool","nodeType":"MemberAccess","referencedDeclaration":2308,"src":"5175:32:1","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_uint256_$returns$_t_bool_$","typeString":"function (uint256) external returns (bool)"}},"id":442,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5175:41:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":443,"nodeType":"ExpressionStatement","src":"5175:41:1"},{"expression":{"argumentTypes":null,"id":449,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":444,"name":"newSubPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":381,"src":"5327:12:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":447,"name":"tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":410,"src":"5358:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":445,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"5342:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"id":446,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getSubPool","nodeType":"MemberAccess","referencedDeclaration":2334,"src":"5342:15:1","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view external returns (uint256)"}},"id":448,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5342:24:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5327:39:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":450,"nodeType":"ExpressionStatement","src":"5327:39:1"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":453,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":451,"name":"newSubPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":381,"src":"5379:12:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"id":452,"name":"subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":215,"src":"5395:9:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5379:25:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":473,"nodeType":"IfStatement","src":"5376:254:1","trueBody":{"id":472,"nodeType":"Block","src":"5406:224:1","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":461,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":454,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"5423:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":456,"indexExpression":{"argumentTypes":null,"id":455,"name":"newSubPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":381,"src":"5436:12:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5423:26:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":457,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"timeStamp","nodeType":"MemberAccess","referencedDeclaration":194,"src":"5423:36:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":459,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5468:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":458,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5463:4:1","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":460,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5463:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5423:47:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":471,"nodeType":"IfStatement","src":"5420:200:1","trueBody":{"id":470,"nodeType":"Block","src":"5472:148:1","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":463,"name":"newSubPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":381,"src":"5507:12:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":462,"name":"_createExtension","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":343,"src":"5490:16:1","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":464,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5490:30:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":465,"nodeType":"ExpressionStatement","src":"5490:30:1"},{"expression":{"argumentTypes":null,"id":468,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":466,"name":"subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":215,"src":"5581:9:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":467,"name":"newSubPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":381,"src":"5593:12:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5581:24:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":469,"nodeType":"ExpressionStatement","src":"5581:24:1"}]}}]}},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":475,"name":"_member","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":345,"src":"5652:7:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":476,"name":"_clientId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":347,"src":"5661:9:1","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},{"argumentTypes":null,"hexValue":"66616c7365","id":477,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"5672:5:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"},{"argumentTypes":null,"id":478,"name":"tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":410,"src":"5679:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":479,"name":"subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":215,"src":"5688:9:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"},{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":474,"name":"Created","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":227,"src":"5644:7:1","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_string_memory_ptr_$_t_bool_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (address,string memory,bool,uint256,uint256)"}},"id":480,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5644:54:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":481,"nodeType":"EmitStatement","src":"5639:59:1"},{"expression":{"argumentTypes":null,"id":492,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":482,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"5708:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":484,"indexExpression":{"argumentTypes":null,"id":483,"name":"subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":215,"src":"5721:9:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5708:23:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":485,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"members","nodeType":"MemberAccess","referencedDeclaration":198,"src":"5708:31:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":491,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":486,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"5742:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":488,"indexExpression":{"argumentTypes":null,"id":487,"name":"subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":215,"src":"5755:9:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5742:23:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":489,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"members","nodeType":"MemberAccess","referencedDeclaration":198,"src":"5742:31:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"argumentTypes":null,"hexValue":"31","id":490,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5776:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"5742:35:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5708:69:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":493,"nodeType":"ExpressionStatement","src":"5708:69:1"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":495,"name":"subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":215,"src":"5811:9:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":496,"name":"tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":410,"src":"5834:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":497,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"5856:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":499,"indexExpression":{"argumentTypes":null,"id":498,"name":"subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":215,"src":"5869:9:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5856:23:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":500,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"timeStamp","nodeType":"MemberAccess","referencedDeclaration":194,"src":"5856:33:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":501,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"5904:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":503,"indexExpression":{"argumentTypes":null,"id":502,"name":"subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":215,"src":"5917:9:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5904:23:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":504,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"closure","nodeType":"MemberAccess","referencedDeclaration":196,"src":"5904:31:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":505,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"5950:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":507,"indexExpression":{"argumentTypes":null,"id":506,"name":"subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":215,"src":"5963:9:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5950:23:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":508,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"members","nodeType":"MemberAccess","referencedDeclaration":198,"src":"5950:31:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":509,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"5996:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":511,"indexExpression":{"argumentTypes":null,"id":510,"name":"subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":215,"src":"6009:9:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5996:23:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":512,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"activated","nodeType":"MemberAccess","referencedDeclaration":200,"src":"5996:33:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":513,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"6044:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":515,"indexExpression":{"argumentTypes":null,"id":514,"name":"subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":215,"src":"6057:9:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6044:23:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":516,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"funded","nodeType":"MemberAccess","referencedDeclaration":202,"src":"6044:30:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":494,"name":"Added","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":255,"src":"5792:5:1","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_bool_$returns$__$","typeString":"function (uint256,uint256,uint256,uint256,uint256,uint256,bool)"}},"id":517,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5792:292:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":518,"nodeType":"EmitStatement","src":"5787:297:1"}]},"documentation":"create loyalty token","id":520,"implemented":true,"isConstructor":false,"isDeclaredConst":false,"modifiers":[{"arguments":null,"id":350,"modifierName":{"argumentTypes":null,"id":349,"name":"ownerOnly","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50,"src":"3827:9:1","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"3827:9:1"}],"name":"create","nodeType":"FunctionDefinition","parameters":{"id":348,"nodeType":"ParameterList","parameters":[{"constant":false,"id":345,"name":"_member","nodeType":"VariableDeclaration","scope":520,"src":"3792:15:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":344,"name":"address","nodeType":"ElementaryTypeName","src":"3792:7:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":347,"name":"_clientId","nodeType":"VariableDeclaration","scope":520,"src":"3809:16:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":346,"name":"string","nodeType":"ElementaryTypeName","src":"3809:6:1","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"value":null,"visibility":"internal"}],"src":"3791:35:1"},"payable":false,"returnParameters":{"id":351,"nodeType":"ParameterList","parameters":[],"src":"3844:0:1"},"scope":1167,"src":"3776:2315:1","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":593,"nodeType":"Block","src":"6144:438:1","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":532,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":528,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":522,"src":"6162:3:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":530,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6177:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":529,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6169:7:1","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint256"},"id":531,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6169:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6162:17:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":527,"name":"require","nodeType":"Identifier","overloadedDeclarations":[2372,2373],"referencedDeclaration":2372,"src":"6154:7:1","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":533,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6154:26:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":534,"nodeType":"ExpressionStatement","src":"6154:26:1"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":538,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":522,"src":"6204:3:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":539,"name":"StateClaim","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":187,"src":"6209:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":535,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"6190:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"id":537,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"setState","nodeType":"MemberAccess","referencedDeclaration":2327,"src":"6190:13:1","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256) external"}},"id":540,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6190:30:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":541,"nodeType":"ExpressionStatement","src":"6190:30:1"},{"assignments":[543],"declarations":[{"constant":false,"id":543,"name":"_subPoolId","nodeType":"VariableDeclaration","scope":594,"src":"6230:15:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":542,"name":"uint","nodeType":"ElementaryTypeName","src":"6230:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":548,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":546,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":522,"src":"6264:3:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":544,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"6248:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"id":545,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getSubPool","nodeType":"MemberAccess","referencedDeclaration":2334,"src":"6248:15:1","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view external returns (uint256)"}},"id":547,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6248:20:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"6230:38:1"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":554,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":550,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":543,"src":"6286:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":552,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6308:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":551,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6300:7:1","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint256"},"id":553,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6300:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6286:24:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":549,"name":"require","nodeType":"Identifier","overloadedDeclarations":[2372,2373],"referencedDeclaration":2372,"src":"6278:7:1","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":555,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6278:33:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":556,"nodeType":"ExpressionStatement","src":"6278:33:1"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":565,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":558,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"6329:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":560,"indexExpression":{"argumentTypes":null,"id":559,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":543,"src":"6342:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6329:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":561,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"timeStamp","nodeType":"MemberAccess","referencedDeclaration":194,"src":"6329:34:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":563,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6375:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":562,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6367:7:1","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint256"},"id":564,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6367:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6329:48:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":557,"name":"require","nodeType":"Identifier","overloadedDeclarations":[2372,2373],"referencedDeclaration":2372,"src":"6321:7:1","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":566,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6321:57:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":567,"nodeType":"ExpressionStatement","src":"6321:57:1"},{"expression":{"argumentTypes":null,"id":578,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":568,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"6388:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":570,"indexExpression":{"argumentTypes":null,"id":569,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":543,"src":"6401:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6388:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":571,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"activated","nodeType":"MemberAccess","referencedDeclaration":200,"src":"6388:34:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":577,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":572,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"6425:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":574,"indexExpression":{"argumentTypes":null,"id":573,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":543,"src":"6438:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6425:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":575,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"activated","nodeType":"MemberAccess","referencedDeclaration":200,"src":"6425:34:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"argumentTypes":null,"hexValue":"31","id":576,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6462:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"6425:38:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6388:75:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":579,"nodeType":"ExpressionStatement","src":"6388:75:1"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":581,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":543,"src":"6489:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":582,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":522,"src":"6501:3:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":583,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"6506:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":585,"indexExpression":{"argumentTypes":null,"id":584,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":543,"src":"6519:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6506:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":586,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"timeStamp","nodeType":"MemberAccess","referencedDeclaration":194,"src":"6506:34:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":587,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"6542:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":589,"indexExpression":{"argumentTypes":null,"id":588,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":543,"src":"6555:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6542:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":590,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"closure","nodeType":"MemberAccess","referencedDeclaration":196,"src":"6542:32:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":580,"name":"Activated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":265,"src":"6479:9:1","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256,uint256)"}},"id":591,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6479:96:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":592,"nodeType":"EmitStatement","src":"6474:101:1"}]},"documentation":null,"id":594,"implemented":true,"isConstructor":false,"isDeclaredConst":false,"modifiers":[{"arguments":null,"id":525,"modifierName":{"argumentTypes":null,"id":524,"name":"ownerOnly","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50,"src":"6127:9:1","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"6127:9:1"}],"name":"activate","nodeType":"FunctionDefinition","parameters":{"id":523,"nodeType":"ParameterList","parameters":[{"constant":false,"id":522,"name":"_id","nodeType":"VariableDeclaration","scope":594,"src":"6114:11:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":521,"name":"uint256","nodeType":"ElementaryTypeName","src":"6114:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"6113:13:1"},"payable":false,"returnParameters":{"id":526,"nodeType":"ParameterList","parameters":[],"src":"6144:0:1"},"scope":1167,"src":"6096:486:1","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":697,"nodeType":"Block","src":"6671:671:1","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":610,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":606,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":596,"src":"6689:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":608,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6711:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":607,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6703:7:1","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint256"},"id":609,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6703:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6689:24:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":605,"name":"require","nodeType":"Identifier","overloadedDeclarations":[2372,2373],"referencedDeclaration":2372,"src":"6681:7:1","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":611,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6681:33:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":612,"nodeType":"ExpressionStatement","src":"6681:33:1"},{"assignments":[614],"declarations":[{"constant":false,"id":614,"name":"amount","nodeType":"VariableDeclaration","scope":698,"src":"6724:14:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":613,"name":"uint256","nodeType":"ElementaryTypeName","src":"6724:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":617,"initialValue":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":615,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2369,"src":"6741:3:1","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":616,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"value","nodeType":"MemberAccess","referencedDeclaration":null,"src":"6741:9:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"6724:26:1"},{"assignments":[619],"declarations":[{"constant":false,"id":619,"name":"value","nodeType":"VariableDeclaration","scope":698,"src":"6760:13:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":618,"name":"uint256","nodeType":"ElementaryTypeName","src":"6760:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":624,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":622,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":596,"src":"6790:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":620,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"6776:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"id":621,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getValue","nodeType":"MemberAccess","referencedDeclaration":2341,"src":"6776:13:1","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view external returns (uint256)"}},"id":623,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6776:25:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"6760:41:1"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":633,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":626,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":614,"src":"6819:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":632,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":627,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"6829:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":629,"indexExpression":{"argumentTypes":null,"id":628,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":596,"src":"6842:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6829:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":630,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"activated","nodeType":"MemberAccess","referencedDeclaration":200,"src":"6829:34:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"argumentTypes":null,"id":631,"name":"_payment","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":598,"src":"6866:8:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6829:45:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6819:55:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":625,"name":"require","nodeType":"Identifier","overloadedDeclarations":[2372,2373],"referencedDeclaration":2372,"src":"6811:7:1","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":634,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6811:64:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":635,"nodeType":"ExpressionStatement","src":"6811:64:1"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":644,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":637,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":619,"src":"6893:5:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":643,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":638,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"6902:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":640,"indexExpression":{"argumentTypes":null,"id":639,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":596,"src":"6915:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6902:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":641,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"activated","nodeType":"MemberAccess","referencedDeclaration":200,"src":"6902:34:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"argumentTypes":null,"id":642,"name":"_debit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":600,"src":"6939:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6902:43:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6893:52:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":636,"name":"require","nodeType":"Identifier","overloadedDeclarations":[2372,2373],"referencedDeclaration":2372,"src":"6885:7:1","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":645,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6885:61:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":646,"nodeType":"ExpressionStatement","src":"6885:61:1"},{"expression":{"argumentTypes":null,"id":652,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":647,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"6956:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":649,"indexExpression":{"argumentTypes":null,"id":648,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":596,"src":"6969:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6956:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":650,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"funded","nodeType":"MemberAccess","referencedDeclaration":202,"src":"6956:31:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"hexValue":"74727565","id":651,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"6990:4:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"src":"6956:38:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":653,"nodeType":"ExpressionStatement","src":"6956:38:1"},{"expression":{"argumentTypes":null,"id":659,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":654,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"7004:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":656,"indexExpression":{"argumentTypes":null,"id":655,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":596,"src":"7017:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7004:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":657,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"payment","nodeType":"MemberAccess","referencedDeclaration":204,"src":"7004:32:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":658,"name":"_payment","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":598,"src":"7039:8:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7004:43:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":660,"nodeType":"ExpressionStatement","src":"7004:43:1"},{"expression":{"argumentTypes":null,"id":666,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":661,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"7057:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":663,"indexExpression":{"argumentTypes":null,"id":662,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":596,"src":"7070:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7057:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":664,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"debit","nodeType":"MemberAccess","referencedDeclaration":206,"src":"7057:30:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":665,"name":"_debit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":600,"src":"7090:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7057:39:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":667,"nodeType":"ExpressionStatement","src":"7057:39:1"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":673,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":668,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"7110:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":670,"indexExpression":{"argumentTypes":null,"id":669,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":596,"src":"7123:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7110:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":671,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"closure","nodeType":"MemberAccess","referencedDeclaration":196,"src":"7110:32:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"argumentTypes":null,"id":672,"name":"now","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2371,"src":"7146:3:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7110:39:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":682,"nodeType":"IfStatement","src":"7107:107:1","trueBody":{"id":681,"nodeType":"Block","src":"7151:63:1","statements":[{"expression":{"argumentTypes":null,"id":679,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":674,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"7165:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":676,"indexExpression":{"argumentTypes":null,"id":675,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":596,"src":"7178:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7165:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":677,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"closure","nodeType":"MemberAccess","referencedDeclaration":196,"src":"7165:32:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":678,"name":"now","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2371,"src":"7200:3:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7165:38:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":680,"nodeType":"ExpressionStatement","src":"7165:38:1"}]}},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":684,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":596,"src":"7236:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":685,"name":"_payment","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":598,"src":"7248:8:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":686,"name":"_debit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":600,"src":"7258:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":687,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"7266:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":689,"indexExpression":{"argumentTypes":null,"id":688,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":596,"src":"7279:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7266:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":690,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"timeStamp","nodeType":"MemberAccess","referencedDeclaration":194,"src":"7266:34:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":691,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"7302:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":693,"indexExpression":{"argumentTypes":null,"id":692,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":596,"src":"7315:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7302:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":694,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"closure","nodeType":"MemberAccess","referencedDeclaration":196,"src":"7302:32:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":683,"name":"Funded","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":277,"src":"7229:6:1","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256,uint256,uint256)"}},"id":695,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7229:106:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":696,"nodeType":"EmitStatement","src":"7224:111:1"}]},"documentation":null,"id":698,"implemented":true,"isConstructor":false,"isDeclaredConst":false,"modifiers":[{"arguments":null,"id":603,"modifierName":{"argumentTypes":null,"id":602,"name":"ownerOnly","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50,"src":"6646:9:1","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"6646:9:1"}],"name":"fund","nodeType":"FunctionDefinition","parameters":{"id":601,"nodeType":"ParameterList","parameters":[{"constant":false,"id":596,"name":"_subPoolId","nodeType":"VariableDeclaration","scope":698,"src":"6601:15:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":595,"name":"uint","nodeType":"ElementaryTypeName","src":"6601:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":598,"name":"_payment","nodeType":"VariableDeclaration","scope":698,"src":"6618:13:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":597,"name":"uint","nodeType":"ElementaryTypeName","src":"6618:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":600,"name":"_debit","nodeType":"VariableDeclaration","scope":698,"src":"6633:11:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":599,"name":"uint","nodeType":"ElementaryTypeName","src":"6633:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"6600:45:1"},"payable":true,"returnParameters":{"id":604,"nodeType":"ParameterList","parameters":[],"src":"6671:0:1"},"scope":1167,"src":"6587:755:1","stateMutability":"payable","superFunction":null,"visibility":"public"},{"body":{"id":740,"nodeType":"Block","src":"7396:271:1","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":710,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":706,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":700,"src":"7414:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":708,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7436:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":707,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7428:7:1","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint256"},"id":709,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7428:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7414:24:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":705,"name":"require","nodeType":"Identifier","overloadedDeclarations":[2372,2373],"referencedDeclaration":2372,"src":"7406:7:1","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":711,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7406:33:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":712,"nodeType":"ExpressionStatement","src":"7406:33:1"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":718,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":713,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"7453:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":715,"indexExpression":{"argumentTypes":null,"id":714,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":700,"src":"7466:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7453:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":716,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"closure","nodeType":"MemberAccess","referencedDeclaration":196,"src":"7453:32:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"argumentTypes":null,"id":717,"name":"now","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2371,"src":"7489:3:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7453:39:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":727,"nodeType":"IfStatement","src":"7450:107:1","trueBody":{"id":726,"nodeType":"Block","src":"7494:63:1","statements":[{"expression":{"argumentTypes":null,"id":724,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":719,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"7508:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":721,"indexExpression":{"argumentTypes":null,"id":720,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":700,"src":"7521:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7508:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":722,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"closure","nodeType":"MemberAccess","referencedDeclaration":196,"src":"7508:32:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":723,"name":"now","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2371,"src":"7543:3:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7508:38:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":725,"nodeType":"ExpressionStatement","src":"7508:38:1"}]}},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":729,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":700,"src":"7579:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":730,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"7591:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":732,"indexExpression":{"argumentTypes":null,"id":731,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":700,"src":"7604:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7591:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":733,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"timeStamp","nodeType":"MemberAccess","referencedDeclaration":194,"src":"7591:34:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":734,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"7627:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":736,"indexExpression":{"argumentTypes":null,"id":735,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":700,"src":"7640:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7627:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":737,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"closure","nodeType":"MemberAccess","referencedDeclaration":196,"src":"7627:32:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":728,"name":"Closed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":285,"src":"7572:6:1","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256)"}},"id":738,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7572:88:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":739,"nodeType":"EmitStatement","src":"7567:93:1"}]},"documentation":null,"id":741,"implemented":true,"isConstructor":false,"isDeclaredConst":false,"modifiers":[{"arguments":null,"id":703,"modifierName":{"argumentTypes":null,"id":702,"name":"ownerOnly","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50,"src":"7379:9:1","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"7379:9:1"}],"name":"close","nodeType":"FunctionDefinition","parameters":{"id":701,"nodeType":"ParameterList","parameters":[{"constant":false,"id":700,"name":"_subPoolId","nodeType":"VariableDeclaration","scope":741,"src":"7362:15:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":699,"name":"uint","nodeType":"ElementaryTypeName","src":"7362:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"7361:17:1"},"payable":false,"returnParameters":{"id":704,"nodeType":"ParameterList","parameters":[],"src":"7396:0:1"},"scope":1167,"src":"7347:320:1","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":889,"nodeType":"Block","src":"7709:1015:1","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":751,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":747,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":743,"src":"7727:3:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":749,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7742:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":748,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7734:7:1","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint256"},"id":750,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7734:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7727:17:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":746,"name":"require","nodeType":"Identifier","overloadedDeclarations":[2372,2373],"referencedDeclaration":2372,"src":"7719:7:1","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":752,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7719:26:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":753,"nodeType":"ExpressionStatement","src":"7719:26:1"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":757,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2369,"src":"7783:3:1","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":758,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"7783:10:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":759,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":743,"src":"7795:3:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":755,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"7763:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"id":756,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"connector_owns","nodeType":"MemberAccess","referencedDeclaration":2278,"src":"7763:19:1","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) view external returns (bool)"}},"id":760,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7763:36:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":754,"name":"require","nodeType":"Identifier","overloadedDeclarations":[2372,2373],"referencedDeclaration":2372,"src":"7755:7:1","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":761,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7755:45:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":762,"nodeType":"ExpressionStatement","src":"7755:45:1"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":769,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":766,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":743,"src":"7832:3:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":764,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"7818:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"id":765,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getState","nodeType":"MemberAccess","referencedDeclaration":2320,"src":"7818:13:1","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view external returns (uint256)"}},"id":767,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7818:18:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"id":768,"name":"StateClaim","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":187,"src":"7840:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7818:32:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":763,"name":"require","nodeType":"Identifier","overloadedDeclarations":[2372,2373],"referencedDeclaration":2372,"src":"7810:7:1","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":770,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7810:41:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":771,"nodeType":"ExpressionStatement","src":"7810:41:1"},{"assignments":[773],"declarations":[{"constant":false,"id":773,"name":"_subPoolId","nodeType":"VariableDeclaration","scope":890,"src":"7861:15:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":772,"name":"uint","nodeType":"ElementaryTypeName","src":"7861:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":778,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":776,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":743,"src":"7895:3:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":774,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"7879:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"id":775,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getSubPool","nodeType":"MemberAccess","referencedDeclaration":2334,"src":"7879:15:1","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view external returns (uint256)"}},"id":777,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7879:20:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"7861:38:1"},{"assignments":[780],"declarations":[{"constant":false,"id":780,"name":"value","nodeType":"VariableDeclaration","scope":890,"src":"7909:10:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":779,"name":"uint","nodeType":"ElementaryTypeName","src":"7909:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":785,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":783,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":773,"src":"7936:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":781,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"7922:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"id":782,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getValue","nodeType":"MemberAccess","referencedDeclaration":2341,"src":"7922:13:1","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view external returns (uint256)"}},"id":784,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7922:25:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"7909:38:1"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":791,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":787,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":773,"src":"7965:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":789,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7987:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":788,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7979:7:1","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint256"},"id":790,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7979:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7965:24:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":786,"name":"require","nodeType":"Identifier","overloadedDeclarations":[2372,2373],"referencedDeclaration":2372,"src":"7957:7:1","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":792,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7957:33:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":793,"nodeType":"ExpressionStatement","src":"7957:33:1"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":802,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":795,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"8008:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":797,"indexExpression":{"argumentTypes":null,"id":796,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":773,"src":"8021:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8008:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":798,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"timeStamp","nodeType":"MemberAccess","referencedDeclaration":194,"src":"8008:34:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":800,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8054:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":799,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8046:7:1","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint256"},"id":801,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8046:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8008:48:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":794,"name":"require","nodeType":"Identifier","overloadedDeclarations":[2372,2373],"referencedDeclaration":2372,"src":"8000:7:1","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":803,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8000:57:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":804,"nodeType":"ExpressionStatement","src":"8000:57:1"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":806,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"8075:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":808,"indexExpression":{"argumentTypes":null,"id":807,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":773,"src":"8088:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8075:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":809,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"funded","nodeType":"MemberAccess","referencedDeclaration":202,"src":"8075:31:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":805,"name":"require","nodeType":"Identifier","overloadedDeclarations":[2372,2373],"referencedDeclaration":2372,"src":"8067:7:1","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":810,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8067:40:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":811,"nodeType":"ExpressionStatement","src":"8067:40:1"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":821,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":814,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2388,"src":"8133:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_TokenLoyalty_$1167","typeString":"contract TokenLoyalty"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_TokenLoyalty_$1167","typeString":"contract TokenLoyalty"}],"id":813,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8125:7:1","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":815,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8125:13:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":816,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"balance","nodeType":"MemberAccess","referencedDeclaration":null,"src":"8125:21:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":817,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"8150:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":819,"indexExpression":{"argumentTypes":null,"id":818,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":773,"src":"8163:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8150:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":820,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"payment","nodeType":"MemberAccess","referencedDeclaration":204,"src":"8150:32:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8125:57:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":812,"name":"require","nodeType":"Identifier","overloadedDeclarations":[2372,2373],"referencedDeclaration":2372,"src":"8117:7:1","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":822,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8117:66:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":823,"nodeType":"ExpressionStatement","src":"8117:66:1"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":830,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":825,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":780,"src":"8201:5:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":826,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"8210:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":828,"indexExpression":{"argumentTypes":null,"id":827,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":773,"src":"8223:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8210:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":829,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"debit","nodeType":"MemberAccess","referencedDeclaration":206,"src":"8210:30:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8201:39:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":824,"name":"require","nodeType":"Identifier","overloadedDeclarations":[2372,2373],"referencedDeclaration":2372,"src":"8193:7:1","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":831,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8193:48:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":832,"nodeType":"ExpressionStatement","src":"8193:48:1"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":838,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"8271:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":840,"indexExpression":{"argumentTypes":null,"id":839,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":773,"src":"8284:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8271:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":841,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"payment","nodeType":"MemberAccess","referencedDeclaration":204,"src":"8271:32:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":833,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2369,"src":"8251:3:1","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":836,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"8251:10:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":837,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"transfer","nodeType":"MemberAccess","referencedDeclaration":null,"src":"8251:19:1","typeDescriptions":{"typeIdentifier":"t_function_transfer_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":842,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8251:53:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":843,"nodeType":"ExpressionStatement","src":"8251:53:1"},{"expression":{"argumentTypes":null,"id":851,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":844,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":780,"src":"8314:5:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":850,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":845,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":780,"src":"8322:5:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":846,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"8330:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":848,"indexExpression":{"argumentTypes":null,"id":847,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":773,"src":"8343:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8330:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":849,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"debit","nodeType":"MemberAccess","referencedDeclaration":206,"src":"8330:30:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8322:38:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8314:46:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":852,"nodeType":"ExpressionStatement","src":"8314:46:1"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":856,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":773,"src":"8384:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":857,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":780,"src":"8396:5:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":853,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"8370:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"id":855,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"setValue","nodeType":"MemberAccess","referencedDeclaration":2348,"src":"8370:13:1","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256) external"}},"id":858,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8370:32:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":859,"nodeType":"ExpressionStatement","src":"8370:32:1"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":863,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":743,"src":"8426:3:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":864,"name":"StatePaid","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":192,"src":"8431:9:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":860,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"8412:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"id":862,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"setState","nodeType":"MemberAccess","referencedDeclaration":2327,"src":"8412:13:1","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256) external"}},"id":865,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8412:29:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":866,"nodeType":"ExpressionStatement","src":"8412:29:1"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":868,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":773,"src":"8475:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":869,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":743,"src":"8499:3:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":870,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":780,"src":"8516:5:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":871,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"8535:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":873,"indexExpression":{"argumentTypes":null,"id":872,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":773,"src":"8548:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8535:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":874,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"debit","nodeType":"MemberAccess","referencedDeclaration":206,"src":"8535:30:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":875,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"8579:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":877,"indexExpression":{"argumentTypes":null,"id":876,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":773,"src":"8592:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8579:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":878,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"payment","nodeType":"MemberAccess","referencedDeclaration":204,"src":"8579:32:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":879,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"8626:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":881,"indexExpression":{"argumentTypes":null,"id":880,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":773,"src":"8639:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8626:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":882,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"timeStamp","nodeType":"MemberAccess","referencedDeclaration":194,"src":"8626:34:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":883,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"8675:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":885,"indexExpression":{"argumentTypes":null,"id":884,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":773,"src":"8688:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8675:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":886,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"closure","nodeType":"MemberAccess","referencedDeclaration":196,"src":"8675:32:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":867,"name":"Paid","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":301,"src":"8457:4:1","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256,uint256,uint256,uint256,uint256)"}},"id":887,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8457:260:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":888,"nodeType":"EmitStatement","src":"8452:265:1"}]},"documentation":null,"id":890,"implemented":true,"isConstructor":false,"isDeclaredConst":false,"modifiers":[],"name":"payment","nodeType":"FunctionDefinition","parameters":{"id":744,"nodeType":"ParameterList","parameters":[{"constant":false,"id":743,"name":"_id","nodeType":"VariableDeclaration","scope":890,"src":"7689:11:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":742,"name":"uint256","nodeType":"ElementaryTypeName","src":"7689:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"7688:13:1"},"payable":false,"returnParameters":{"id":745,"nodeType":"ParameterList","parameters":[],"src":"7709:0:1"},"scope":1167,"src":"7672:1052:1","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":939,"nodeType":"Block","src":"8840:355:1","statements":[{"expression":{"argumentTypes":null,"components":[{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":909,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"8870:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":911,"indexExpression":{"argumentTypes":null,"id":910,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":892,"src":"8883:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8870:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":912,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"timeStamp","nodeType":"MemberAccess","referencedDeclaration":194,"src":"8870:34:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":913,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"8919:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":915,"indexExpression":{"argumentTypes":null,"id":914,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":892,"src":"8932:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8919:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":916,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"closure","nodeType":"MemberAccess","referencedDeclaration":196,"src":"8919:32:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":917,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"8966:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":919,"indexExpression":{"argumentTypes":null,"id":918,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":892,"src":"8979:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8966:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":920,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"members","nodeType":"MemberAccess","referencedDeclaration":198,"src":"8966:32:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":921,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"9013:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":923,"indexExpression":{"argumentTypes":null,"id":922,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":892,"src":"9026:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"9013:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":924,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"activated","nodeType":"MemberAccess","referencedDeclaration":200,"src":"9013:34:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":925,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"9062:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":927,"indexExpression":{"argumentTypes":null,"id":926,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":892,"src":"9075:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"9062:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":928,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"debit","nodeType":"MemberAccess","referencedDeclaration":206,"src":"9062:30:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":929,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"9107:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":931,"indexExpression":{"argumentTypes":null,"id":930,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":892,"src":"9120:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"9107:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":932,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"payment","nodeType":"MemberAccess","referencedDeclaration":204,"src":"9107:32:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":935,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":892,"src":"9167:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":933,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"9153:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"id":934,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getValue","nodeType":"MemberAccess","referencedDeclaration":2341,"src":"9153:13:1","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view external returns (uint256)"}},"id":936,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9153:25:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":937,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"8856:332:1","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256,uint256,uint256,uint256,uint256,uint256)"}},"functionReturnParameters":908,"id":938,"nodeType":"Return","src":"8850:338:1"}]},"documentation":null,"id":940,"implemented":true,"isConstructor":false,"isDeclaredConst":true,"modifiers":[],"name":"getSubPoolExtension","nodeType":"FunctionDefinition","parameters":{"id":893,"nodeType":"ParameterList","parameters":[{"constant":false,"id":892,"name":"_subPoolId","nodeType":"VariableDeclaration","scope":940,"src":"8758:18:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":891,"name":"uint256","nodeType":"ElementaryTypeName","src":"8758:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"8757:20:1"},"payable":false,"returnParameters":{"id":908,"nodeType":"ParameterList","parameters":[{"constant":false,"id":895,"name":"","nodeType":"VariableDeclaration","scope":940,"src":"8798:4:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":894,"name":"uint","nodeType":"ElementaryTypeName","src":"8798:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":897,"name":"","nodeType":"VariableDeclaration","scope":940,"src":"8804:4:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":896,"name":"uint","nodeType":"ElementaryTypeName","src":"8804:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":899,"name":"","nodeType":"VariableDeclaration","scope":940,"src":"8810:4:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":898,"name":"uint","nodeType":"ElementaryTypeName","src":"8810:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":901,"name":"","nodeType":"VariableDeclaration","scope":940,"src":"8816:4:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":900,"name":"uint","nodeType":"ElementaryTypeName","src":"8816:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":903,"name":"","nodeType":"VariableDeclaration","scope":940,"src":"8822:4:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":902,"name":"uint","nodeType":"ElementaryTypeName","src":"8822:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":905,"name":"","nodeType":"VariableDeclaration","scope":940,"src":"8828:4:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":904,"name":"uint","nodeType":"ElementaryTypeName","src":"8828:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":907,"name":"","nodeType":"VariableDeclaration","scope":940,"src":"8834:4:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":906,"name":"uint","nodeType":"ElementaryTypeName","src":"8834:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"8797:42:1"},"scope":1167,"src":"8729:466:1","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":961,"nodeType":"Block","src":"9446:54:1","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":958,"name":"subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":215,"src":"9483:9:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":957,"name":"getSubPoolExtension","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":940,"src":"9463:19:1","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$","typeString":"function (uint256) view returns (uint256,uint256,uint256,uint256,uint256,uint256,uint256)"}},"id":959,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9463:30:1","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256,uint256,uint256,uint256,uint256,uint256)"}},"functionReturnParameters":956,"id":960,"nodeType":"Return","src":"9456:37:1"}]},"documentation":null,"id":962,"implemented":true,"isConstructor":false,"isDeclaredConst":true,"modifiers":[],"name":"getCurrentSubPoolExtension","nodeType":"FunctionDefinition","parameters":{"id":941,"nodeType":"ParameterList","parameters":[],"src":"9235:2:1"},"payable":false,"returnParameters":{"id":956,"nodeType":"ParameterList","parameters":[{"constant":false,"id":943,"name":"created","nodeType":"VariableDeclaration","scope":962,"src":"9267:12:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":942,"name":"uint","nodeType":"ElementaryTypeName","src":"9267:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":945,"name":"closed","nodeType":"VariableDeclaration","scope":962,"src":"9290:11:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":944,"name":"uint","nodeType":"ElementaryTypeName","src":"9290:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":947,"name":"numberOfMembers","nodeType":"VariableDeclaration","scope":962,"src":"9312:20:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":946,"name":"uint","nodeType":"ElementaryTypeName","src":"9312:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":949,"name":"numberOfActivated","nodeType":"VariableDeclaration","scope":962,"src":"9343:22:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":948,"name":"uint","nodeType":"ElementaryTypeName","src":"9343:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":951,"name":"debitValue","nodeType":"VariableDeclaration","scope":962,"src":"9376:15:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":950,"name":"uint","nodeType":"ElementaryTypeName","src":"9376:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":953,"name":"paymentAmount","nodeType":"VariableDeclaration","scope":962,"src":"9401:18:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":952,"name":"uint","nodeType":"ElementaryTypeName","src":"9401:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":955,"name":"value","nodeType":"VariableDeclaration","scope":962,"src":"9429:10:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":954,"name":"uint","nodeType":"ElementaryTypeName","src":"9429:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"9257:188:1"},"scope":1167,"src":"9200:300:1","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":989,"nodeType":"Block","src":"9595:192:1","statements":[{"expression":{"argumentTypes":null,"id":971,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":969,"name":"contractOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":965,"src":"9605:13:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":970,"name":"owner","nodeType":"Identifier","overloadedDeclarations":[6],"referencedDeclaration":6,"src":"9621:5:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"9605:21:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":972,"nodeType":"ExpressionStatement","src":"9605:21:1"},{"expression":{"argumentTypes":null,"id":975,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":973,"name":"bizProcessId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":967,"src":"9636:12:1","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"hexValue":"3231","id":974,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9651:2:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_21_by_1","typeString":"int_const 21"},"value":"21"},"src":"9636:17:1","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"id":976,"nodeType":"ExpressionStatement","src":"9636:17:1"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":981,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"expression":{"argumentTypes":null,"id":977,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"9692:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"id":978,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getPoolSize","nodeType":"MemberAccess","referencedDeclaration":2353,"src":"9692:16:1","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":979,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9692:18:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"hexValue":"30","id":980,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9714:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"9692:23:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":988,"nodeType":"IfStatement","src":"9688:93:1","trueBody":{"id":987,"nodeType":"Block","src":"9717:64:1","statements":[{"expression":{"argumentTypes":null,"id":984,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":982,"name":"bizProcessId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":967,"src":"9731:12:1","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"hexValue":"313030","id":983,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9746:3:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_100_by_1","typeString":"int_const 100"},"value":"100"},"src":"9731:18:1","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"id":985,"nodeType":"ExpressionStatement","src":"9731:18:1"},{"expression":null,"functionReturnParameters":968,"id":986,"nodeType":"Return","src":"9764:7:1"}]}}]},"documentation":null,"id":990,"implemented":true,"isConstructor":false,"isDeclaredConst":true,"modifiers":[],"name":"getBizProcessId","nodeType":"FunctionDefinition","parameters":{"id":963,"nodeType":"ParameterList","parameters":[],"src":"9529:2:1"},"payable":false,"returnParameters":{"id":968,"nodeType":"ParameterList","parameters":[{"constant":false,"id":965,"name":"contractOwner","nodeType":"VariableDeclaration","scope":990,"src":"9552:21:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":964,"name":"address","nodeType":"ElementaryTypeName","src":"9552:7:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":967,"name":"bizProcessId","nodeType":"VariableDeclaration","scope":990,"src":"9575:18:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"},"typeName":{"id":966,"name":"uint8","nodeType":"ElementaryTypeName","src":"9575:5:1","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"value":null,"visibility":"internal"}],"src":"9551:43:1"},"scope":1167,"src":"9505:282:1","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":1000,"nodeType":"Block","src":"9840:45:1","statements":[{"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":996,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2388,"src":"9865:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_TokenLoyalty_$1167","typeString":"contract TokenLoyalty"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_TokenLoyalty_$1167","typeString":"contract TokenLoyalty"}],"id":995,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9857:7:1","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":997,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9857:13:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":998,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"balance","nodeType":"MemberAccess","referencedDeclaration":null,"src":"9857:21:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":994,"id":999,"nodeType":"Return","src":"9850:28:1"}]},"documentation":null,"id":1001,"implemented":true,"isConstructor":false,"isDeclaredConst":true,"modifiers":[],"name":"getBalance","nodeType":"FunctionDefinition","parameters":{"id":991,"nodeType":"ParameterList","parameters":[],"src":"9811:2:1"},"payable":false,"returnParameters":{"id":994,"nodeType":"ParameterList","parameters":[{"constant":false,"id":993,"name":"","nodeType":"VariableDeclaration","scope":1001,"src":"9834:4:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":992,"name":"uint","nodeType":"ElementaryTypeName","src":"9834:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"9833:6:1"},"scope":1167,"src":"9792:93:1","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":1141,"nodeType":"Block","src":"9948:928:1","statements":[{"assignments":[1009],"declarations":[{"constant":false,"id":1009,"name":"result","nodeType":"VariableDeclaration","scope":1142,"src":"9958:11:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1008,"name":"uint","nodeType":"ElementaryTypeName","src":"9958:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":1011,"initialValue":{"argumentTypes":null,"hexValue":"30","id":1010,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9972:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"9958:15:1"},{"assignments":[1013],"declarations":[{"constant":false,"id":1013,"name":"_subPoolId","nodeType":"VariableDeclaration","scope":1142,"src":"9983:15:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1012,"name":"uint","nodeType":"ElementaryTypeName","src":"9983:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":1018,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1016,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1003,"src":"10017:3:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":1014,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"10001:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"id":1015,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getSubPool","nodeType":"MemberAccess","referencedDeclaration":2334,"src":"10001:15:1","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view external returns (uint256)"}},"id":1017,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10001:20:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"9983:38:1"},{"assignments":[1020],"declarations":[{"constant":false,"id":1020,"name":"value","nodeType":"VariableDeclaration","scope":1142,"src":"10031:10:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1019,"name":"uint","nodeType":"ElementaryTypeName","src":"10031:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":1025,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1023,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1013,"src":"10058:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":1021,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"10044:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"id":1022,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getValue","nodeType":"MemberAccess","referencedDeclaration":2341,"src":"10044:13:1","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view external returns (uint256)"}},"id":1024,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10044:25:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"10031:38:1"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":1030,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":1026,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1003,"src":"10083:3:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":1028,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10098:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":1027,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"10090:7:1","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint256"},"id":1029,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10090:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10083:17:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":1038,"nodeType":"IfStatement","src":"10080:66:1","trueBody":{"id":1037,"nodeType":"Block","src":"10102:44:1","statements":[{"expression":{"argumentTypes":null,"id":1035,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":1031,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1009,"src":"10116:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":1034,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":1032,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1009,"src":"10125:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"argumentTypes":null,"hexValue":"31","id":1033,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10134:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"10125:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10116:19:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":1036,"nodeType":"ExpressionStatement","src":"10116:19:1"}]}},{"condition":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1041,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2369,"src":"10178:3:1","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":1042,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"10178:10:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":1043,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1003,"src":"10190:3:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":1039,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"10158:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"id":1040,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"connector_owns","nodeType":"MemberAccess","referencedDeclaration":2278,"src":"10158:19:1","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) view external returns (bool)"}},"id":1044,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10158:36:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":1052,"nodeType":"IfStatement","src":"10155:86:1","trueBody":{"id":1051,"nodeType":"Block","src":"10196:45:1","statements":[{"expression":{"argumentTypes":null,"id":1049,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":1045,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1009,"src":"10210:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":1048,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":1046,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1009,"src":"10219:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"argumentTypes":null,"hexValue":"3130","id":1047,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10228:2:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_10_by_1","typeString":"int_const 10"},"value":"10"},"src":"10219:11:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10210:20:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":1050,"nodeType":"ExpressionStatement","src":"10210:20:1"}]}},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":1058,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1055,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1003,"src":"10267:3:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":1053,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"10253:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"id":1054,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getState","nodeType":"MemberAccess","referencedDeclaration":2320,"src":"10253:13:1","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view external returns (uint256)"}},"id":1056,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10253:18:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"id":1057,"name":"StateClaim","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":187,"src":"10275:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10253:32:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":1066,"nodeType":"IfStatement","src":"10250:83:1","trueBody":{"id":1065,"nodeType":"Block","src":"10287:46:1","statements":[{"expression":{"argumentTypes":null,"id":1063,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":1059,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1009,"src":"10301:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":1062,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":1060,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1009,"src":"10310:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"argumentTypes":null,"hexValue":"313030","id":1061,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10319:3:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_100_by_1","typeString":"int_const 100"},"value":"100"},"src":"10310:12:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10301:21:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":1064,"nodeType":"ExpressionStatement","src":"10301:21:1"}]}},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":1071,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":1067,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1013,"src":"10345:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":1069,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10367:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":1068,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"10359:7:1","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint256"},"id":1070,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10359:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10345:24:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":1079,"nodeType":"IfStatement","src":"10342:76:1","trueBody":{"id":1078,"nodeType":"Block","src":"10371:47:1","statements":[{"expression":{"argumentTypes":null,"id":1076,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":1072,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1009,"src":"10385:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":1075,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":1073,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1009,"src":"10394:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"argumentTypes":null,"hexValue":"31303030","id":1074,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10403:4:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1000_by_1","typeString":"int_const 1000"},"value":"1000"},"src":"10394:13:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10385:22:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":1077,"nodeType":"ExpressionStatement","src":"10385:22:1"}]}},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":1087,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1080,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"10430:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":1082,"indexExpression":{"argumentTypes":null,"id":1081,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1013,"src":"10443:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"10430:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":1083,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"timeStamp","nodeType":"MemberAccess","referencedDeclaration":194,"src":"10430:34:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":1085,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10476:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":1084,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"10468:7:1","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint256"},"id":1086,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10468:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10430:48:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":1095,"nodeType":"IfStatement","src":"10427:101:1","trueBody":{"id":1094,"nodeType":"Block","src":"10480:48:1","statements":[{"expression":{"argumentTypes":null,"id":1092,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":1088,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1009,"src":"10494:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":1091,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":1089,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1009,"src":"10503:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"argumentTypes":null,"hexValue":"3130303030","id":1090,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10512:5:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_10000_by_1","typeString":"int_const 10000"},"value":"10000"},"src":"10503:14:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10494:23:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":1093,"nodeType":"ExpressionStatement","src":"10494:23:1"}]}},{"condition":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1096,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"10540:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":1098,"indexExpression":{"argumentTypes":null,"id":1097,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1013,"src":"10553:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"10540:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":1099,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"funded","nodeType":"MemberAccess","referencedDeclaration":202,"src":"10540:31:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":1107,"nodeType":"IfStatement","src":"10537:85:1","trueBody":{"id":1106,"nodeType":"Block","src":"10573:49:1","statements":[{"expression":{"argumentTypes":null,"id":1104,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":1100,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1009,"src":"10587:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":1103,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":1101,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1009,"src":"10596:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"argumentTypes":null,"hexValue":"313030303030","id":1102,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10605:6:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_100000_by_1","typeString":"int_const 100000"},"value":"100000"},"src":"10596:15:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10587:24:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":1105,"nodeType":"ExpressionStatement","src":"10587:24:1"}]}},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":1116,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1109,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2388,"src":"10642:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_TokenLoyalty_$1167","typeString":"contract TokenLoyalty"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_TokenLoyalty_$1167","typeString":"contract TokenLoyalty"}],"id":1108,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"10634:7:1","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":1110,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10634:13:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":1111,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"balance","nodeType":"MemberAccess","referencedDeclaration":null,"src":"10634:21:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1112,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"10659:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":1114,"indexExpression":{"argumentTypes":null,"id":1113,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1013,"src":"10672:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"10659:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":1115,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"payment","nodeType":"MemberAccess","referencedDeclaration":204,"src":"10659:32:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10634:57:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":1124,"nodeType":"IfStatement","src":"10631:112:1","trueBody":{"id":1123,"nodeType":"Block","src":"10693:50:1","statements":[{"expression":{"argumentTypes":null,"id":1121,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":1117,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1009,"src":"10707:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":1120,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":1118,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1009,"src":"10716:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"argumentTypes":null,"hexValue":"31303030303030","id":1119,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10725:7:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1000000_by_1","typeString":"int_const 1000000"},"value":"1000000"},"src":"10716:16:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10707:25:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":1122,"nodeType":"ExpressionStatement","src":"10707:25:1"}]}},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":1130,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":1125,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1020,"src":"10755:5:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1126,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"10764:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":1128,"indexExpression":{"argumentTypes":null,"id":1127,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1013,"src":"10777:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"10764:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":1129,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"debit","nodeType":"MemberAccess","referencedDeclaration":206,"src":"10764:30:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10755:39:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":1138,"nodeType":"IfStatement","src":"10752:95:1","trueBody":{"id":1137,"nodeType":"Block","src":"10796:51:1","statements":[{"expression":{"argumentTypes":null,"id":1135,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":1131,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1009,"src":"10810:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":1134,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":1132,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1009,"src":"10819:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"argumentTypes":null,"hexValue":"3130303030303030","id":1133,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10828:8:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_10000000_by_1","typeString":"int_const 10000000"},"value":"10000000"},"src":"10819:17:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10810:26:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":1136,"nodeType":"ExpressionStatement","src":"10810:26:1"}]}},{"expression":{"argumentTypes":null,"id":1139,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1009,"src":"10863:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":1007,"id":1140,"nodeType":"Return","src":"10856:13:1"}]},"documentation":null,"id":1142,"implemented":true,"isConstructor":false,"isDeclaredConst":true,"modifiers":[],"name":"checkPayment","nodeType":"FunctionDefinition","parameters":{"id":1004,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1003,"name":"_id","nodeType":"VariableDeclaration","scope":1142,"src":"9912:8:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1002,"name":"uint","nodeType":"ElementaryTypeName","src":"9912:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"9911:10:1"},"payable":false,"returnParameters":{"id":1007,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1006,"name":"","nodeType":"VariableDeclaration","scope":1142,"src":"9942:4:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1005,"name":"uint","nodeType":"ElementaryTypeName","src":"9942:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"9941:6:1"},"scope":1167,"src":"9890:986:1","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":1161,"nodeType":"Block","src":"10915:101:1","statements":[{"expression":{"argumentTypes":null,"id":1149,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":1147,"name":"subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":215,"src":"10925:9:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"hexValue":"33","id":1148,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10937:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_3_by_1","typeString":"int_const 3"},"value":"3"},"src":"10925:13:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":1150,"nodeType":"ExpressionStatement","src":"10925:13:1"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1152,"name":"subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":215,"src":"10965:9:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":1151,"name":"_createExtension","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":343,"src":"10948:16:1","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":1153,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10948:27:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1154,"nodeType":"ExpressionStatement","src":"10948:27:1"},{"expression":{"argumentTypes":null,"id":1159,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":1155,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"10985:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1157,"name":"_pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1144,"src":"11003:5:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":1156,"name":"ITokenPool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2354,"src":"10992:10:1","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ITokenPool_$2354_$","typeString":"type(contract ITokenPool)"}},"id":1158,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10992:17:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"src":"10985:24:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"id":1160,"nodeType":"ExpressionStatement","src":"10985:24:1"}]},"documentation":null,"id":1162,"implemented":true,"isConstructor":true,"isDeclaredConst":false,"modifiers":[],"name":"","nodeType":"FunctionDefinition","parameters":{"id":1145,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1144,"name":"_pool","nodeType":"VariableDeclaration","scope":1162,"src":"10893:13:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":1143,"name":"address","nodeType":"ElementaryTypeName","src":"10893:7:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"src":"10892:15:1"},"payable":false,"returnParameters":{"id":1146,"nodeType":"ParameterList","parameters":[],"src":"10915:0:1"},"scope":1167,"src":"10881:135:1","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":1165,"nodeType":"Block","src":"11047:3:1","statements":[]},"documentation":null,"id":1166,"implemented":true,"isConstructor":false,"isDeclaredConst":false,"modifiers":[],"name":"","nodeType":"FunctionDefinition","parameters":{"id":1163,"nodeType":"ParameterList","parameters":[],"src":"11029:2:1"},"payable":true,"returnParameters":{"id":1164,"nodeType":"ParameterList","parameters":[],"src":"11047:0:1"},"scope":1167,"src":"11021:29:1","stateMutability":"payable","superFunction":null,"visibility":"public"}],"scope":1168,"src":"1341:9792:1"}],"src":"1199:9934:1"},"legacyAST":{"absolutePath":"/Users/sergei/LoyaltyCrowdsurance/contracts/TokenLoyalty.sol","exportedSymbols":{"TokenLoyalty":[1167]},"id":1168,"nodeType":"SourceUnit","nodes":[{"id":178,"literals":["solidity","^","0.4",".17"],"nodeType":"PragmaDirective","src":"1199:24:1"},{"absolutePath":"/Users/sergei/LoyaltyCrowdsurance/contracts/interfaces/ITokenPool.sol","file":"./interfaces/ITokenPool.sol","id":179,"nodeType":"ImportDirective","scope":1168,"sourceUnit":2355,"src":"1225:37:1","symbolAliases":[],"unitAlias":""},{"absolutePath":"/Users/sergei/LoyaltyCrowdsurance/contracts/Owned.sol","file":"./Owned.sol","id":180,"nodeType":"ImportDirective","scope":1168,"sourceUnit":177,"src":"1263:21:1","symbolAliases":[],"unitAlias":""},{"baseContracts":[{"arguments":null,"baseName":{"contractScope":null,"id":181,"name":"Owned","nodeType":"UserDefinedTypeName","referencedDeclaration":176,"src":"1366:5:1","typeDescriptions":{"typeIdentifier":"t_contract$_Owned_$176","typeString":"contract Owned"}},"id":182,"nodeType":"InheritanceSpecifier","src":"1366:5:1"}],"contractDependencies":[176,2238],"contractKind":"contract","documentation":"TokenLoyalty is ERC721SmartToken for loyalty token.","fullyImplemented":true,"id":1167,"linearizedBaseContracts":[1167,176,2238],"name":"TokenLoyalty","nodeType":"ContractDefinition","nodes":[{"constant":true,"id":187,"name":"StateClaim","nodeType":"VariableDeclaration","scope":1167,"src":"1379:43:1","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":183,"name":"uint256","nodeType":"ElementaryTypeName","src":"1379:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"31303233","id":185,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1417:4:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1023_by_1","typeString":"int_const 1023"},"value":"1023"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_1023_by_1","typeString":"int_const 1023"}],"id":184,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1409:7:1","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint256"},"id":186,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1409:13:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":true,"id":192,"name":"StatePaid","nodeType":"VariableDeclaration","scope":1167,"src":"1428:42:1","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":188,"name":"uint256","nodeType":"ElementaryTypeName","src":"1428:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"31303232","id":190,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1465:4:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1022_by_1","typeString":"int_const 1022"},"value":"1022"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_1022_by_1","typeString":"int_const 1022"}],"id":189,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1457:7:1","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint256"},"id":191,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1457:13:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"canonicalName":"TokenLoyalty.SubPoolExtension","id":207,"members":[{"constant":false,"id":194,"name":"timeStamp","nodeType":"VariableDeclaration","scope":207,"src":"1511:17:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":193,"name":"uint","nodeType":"ElementaryTypeName","src":"1511:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":196,"name":"closure","nodeType":"VariableDeclaration","scope":207,"src":"1596:15:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":195,"name":"uint","nodeType":"ElementaryTypeName","src":"1596:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":198,"name":"members","nodeType":"VariableDeclaration","scope":207,"src":"1673:15:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":197,"name":"uint","nodeType":"ElementaryTypeName","src":"1673:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":200,"name":"activated","nodeType":"VariableDeclaration","scope":207,"src":"1755:17:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":199,"name":"uint","nodeType":"ElementaryTypeName","src":"1755:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":202,"name":"funded","nodeType":"VariableDeclaration","scope":207,"src":"1846:14:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":201,"name":"bool","nodeType":"ElementaryTypeName","src":"1846:4:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"},{"constant":false,"id":204,"name":"payment","nodeType":"VariableDeclaration","scope":207,"src":"1943:15:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":203,"name":"uint","nodeType":"ElementaryTypeName","src":"1943:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":206,"name":"debit","nodeType":"VariableDeclaration","scope":207,"src":"2064:13:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":205,"name":"uint","nodeType":"ElementaryTypeName","src":"2064:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"name":"SubPoolExtension","nodeType":"StructDefinition","scope":1167,"src":"1477:706:1","visibility":"public"},{"constant":false,"id":209,"name":"pool","nodeType":"VariableDeclaration","scope":1167,"src":"2188:22:1","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"},"typeName":{"contractScope":null,"id":208,"name":"ITokenPool","nodeType":"UserDefinedTypeName","referencedDeclaration":2354,"src":"2188:10:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"value":null,"visibility":"public"},{"constant":false,"id":213,"name":"spextensions","nodeType":"VariableDeclaration","scope":1167,"src":"2216:50:1","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension)"},"typeName":{"id":212,"keyType":{"id":210,"name":"uint256","nodeType":"ElementaryTypeName","src":"2225:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"2216:37:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension)"},"valueType":{"contractScope":null,"id":211,"name":"SubPoolExtension","nodeType":"UserDefinedTypeName","referencedDeclaration":207,"src":"2236:16:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage_ptr","typeString":"struct TokenLoyalty.SubPoolExtension"}}},"value":null,"visibility":"internal"},{"constant":false,"id":215,"name":"subPoolId","nodeType":"VariableDeclaration","scope":1167,"src":"2308:21:1","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":214,"name":"uint","nodeType":"ElementaryTypeName","src":"2308:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"public"},{"anonymous":false,"documentation":"loyalty token created event","id":227,"name":"Created","nodeType":"EventDefinition","parameters":{"id":226,"nodeType":"ParameterList","parameters":[{"constant":false,"id":217,"indexed":false,"name":"member","nodeType":"VariableDeclaration","scope":227,"src":"2437:14:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":216,"name":"address","nodeType":"ElementaryTypeName","src":"2437:7:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":219,"indexed":false,"name":"clientId","nodeType":"VariableDeclaration","scope":227,"src":"2453:15:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":218,"name":"string","nodeType":"ElementaryTypeName","src":"2453:6:1","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"value":null,"visibility":"internal"},{"constant":false,"id":221,"indexed":false,"name":"claim","nodeType":"VariableDeclaration","scope":227,"src":"2470:10:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":220,"name":"bool","nodeType":"ElementaryTypeName","src":"2470:4:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"},{"constant":false,"id":223,"indexed":false,"name":"tokenId","nodeType":"VariableDeclaration","scope":227,"src":"2482:15:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":222,"name":"uint256","nodeType":"ElementaryTypeName","src":"2482:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":225,"indexed":false,"name":"supPoolId","nodeType":"VariableDeclaration","scope":227,"src":"2499:17:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":224,"name":"uint256","nodeType":"ElementaryTypeName","src":"2499:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"2436:81:1"},"src":"2423:95:1"},{"anonymous":false,"documentation":"create sub pool extension event","id":235,"name":"SPExtension","nodeType":"EventDefinition","parameters":{"id":234,"nodeType":"ParameterList","parameters":[{"constant":false,"id":229,"indexed":false,"name":"subPoolId","nodeType":"VariableDeclaration","scope":235,"src":"2581:17:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":228,"name":"uint256","nodeType":"ElementaryTypeName","src":"2581:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":231,"indexed":false,"name":"timeStamp","nodeType":"VariableDeclaration","scope":235,"src":"2600:14:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":230,"name":"uint","nodeType":"ElementaryTypeName","src":"2600:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":233,"indexed":false,"name":"closure","nodeType":"VariableDeclaration","scope":235,"src":"2616:12:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":232,"name":"uint","nodeType":"ElementaryTypeName","src":"2616:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"2580:49:1"},"src":"2563:67:1"},{"anonymous":false,"documentation":"error event","id":239,"name":"Error","nodeType":"EventDefinition","parameters":{"id":238,"nodeType":"ParameterList","parameters":[{"constant":false,"id":237,"indexed":false,"name":"message","nodeType":"VariableDeclaration","scope":239,"src":"2667:14:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":236,"name":"string","nodeType":"ElementaryTypeName","src":"2667:6:1","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"value":null,"visibility":"internal"}],"src":"2666:16:1"},"src":"2655:28:1"},{"anonymous":false,"documentation":"sub pool added event ","id":255,"name":"Added","nodeType":"EventDefinition","parameters":{"id":254,"nodeType":"ParameterList","parameters":[{"constant":false,"id":241,"indexed":false,"name":"subPoolId","nodeType":"VariableDeclaration","scope":255,"src":"2730:14:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":240,"name":"uint","nodeType":"ElementaryTypeName","src":"2730:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":243,"indexed":false,"name":"tokenId","nodeType":"VariableDeclaration","scope":255,"src":"2746:12:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":242,"name":"uint","nodeType":"ElementaryTypeName","src":"2746:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":245,"indexed":false,"name":"timeStamp","nodeType":"VariableDeclaration","scope":255,"src":"2760:14:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":244,"name":"uint","nodeType":"ElementaryTypeName","src":"2760:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":247,"indexed":false,"name":"closure","nodeType":"VariableDeclaration","scope":255,"src":"2776:12:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":246,"name":"uint","nodeType":"ElementaryTypeName","src":"2776:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":249,"indexed":false,"name":"members","nodeType":"VariableDeclaration","scope":255,"src":"2790:12:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":248,"name":"uint","nodeType":"ElementaryTypeName","src":"2790:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":251,"indexed":false,"name":"activated","nodeType":"VariableDeclaration","scope":255,"src":"2804:14:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":250,"name":"uint","nodeType":"ElementaryTypeName","src":"2804:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":253,"indexed":false,"name":"funded","nodeType":"VariableDeclaration","scope":255,"src":"2820:11:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":252,"name":"bool","nodeType":"ElementaryTypeName","src":"2820:4:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"2729:103:1"},"src":"2718:115:1"},{"anonymous":false,"documentation":"activation event","id":265,"name":"Activated","nodeType":"EventDefinition","parameters":{"id":264,"nodeType":"ParameterList","parameters":[{"constant":false,"id":257,"indexed":false,"name":"subPoolId","nodeType":"VariableDeclaration","scope":265,"src":"2879:14:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":256,"name":"uint","nodeType":"ElementaryTypeName","src":"2879:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":259,"indexed":false,"name":"tokenId","nodeType":"VariableDeclaration","scope":265,"src":"2895:12:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":258,"name":"uint","nodeType":"ElementaryTypeName","src":"2895:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":261,"indexed":false,"name":"timeStamp","nodeType":"VariableDeclaration","scope":265,"src":"2909:14:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":260,"name":"uint","nodeType":"ElementaryTypeName","src":"2909:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":263,"indexed":false,"name":"closure","nodeType":"VariableDeclaration","scope":265,"src":"2925:12:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":262,"name":"uint","nodeType":"ElementaryTypeName","src":"2925:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"2878:60:1"},"src":"2863:76:1"},{"anonymous":false,"documentation":"funded event","id":277,"name":"Funded","nodeType":"EventDefinition","parameters":{"id":276,"nodeType":"ParameterList","parameters":[{"constant":false,"id":267,"indexed":false,"name":"subPoolId","nodeType":"VariableDeclaration","scope":277,"src":"2978:14:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":266,"name":"uint","nodeType":"ElementaryTypeName","src":"2978:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":269,"indexed":false,"name":"payment","nodeType":"VariableDeclaration","scope":277,"src":"2994:12:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":268,"name":"uint","nodeType":"ElementaryTypeName","src":"2994:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":271,"indexed":false,"name":"debit","nodeType":"VariableDeclaration","scope":277,"src":"3008:10:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":270,"name":"uint","nodeType":"ElementaryTypeName","src":"3008:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":273,"indexed":false,"name":"timeStamp","nodeType":"VariableDeclaration","scope":277,"src":"3020:14:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":272,"name":"uint","nodeType":"ElementaryTypeName","src":"3020:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":275,"indexed":false,"name":"closure","nodeType":"VariableDeclaration","scope":277,"src":"3036:12:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":274,"name":"uint","nodeType":"ElementaryTypeName","src":"3036:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"2977:72:1"},"src":"2965:85:1"},{"anonymous":false,"documentation":"Closed event","id":285,"name":"Closed","nodeType":"EventDefinition","parameters":{"id":284,"nodeType":"ParameterList","parameters":[{"constant":false,"id":279,"indexed":false,"name":"subPoolId","nodeType":"VariableDeclaration","scope":285,"src":"3089:14:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":278,"name":"uint","nodeType":"ElementaryTypeName","src":"3089:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":281,"indexed":false,"name":"timeStamp","nodeType":"VariableDeclaration","scope":285,"src":"3105:14:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":280,"name":"uint","nodeType":"ElementaryTypeName","src":"3105:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":283,"indexed":false,"name":"closure","nodeType":"VariableDeclaration","scope":285,"src":"3121:12:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":282,"name":"uint","nodeType":"ElementaryTypeName","src":"3121:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"3088:46:1"},"src":"3076:59:1"},{"anonymous":false,"documentation":"payment event","id":301,"name":"Paid","nodeType":"EventDefinition","parameters":{"id":300,"nodeType":"ParameterList","parameters":[{"constant":false,"id":287,"indexed":false,"name":"subPoolId","nodeType":"VariableDeclaration","scope":301,"src":"3173:14:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":286,"name":"uint","nodeType":"ElementaryTypeName","src":"3173:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":289,"indexed":false,"name":"tokenId","nodeType":"VariableDeclaration","scope":301,"src":"3189:12:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":288,"name":"uint","nodeType":"ElementaryTypeName","src":"3189:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":291,"indexed":false,"name":"value","nodeType":"VariableDeclaration","scope":301,"src":"3203:10:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":290,"name":"uint","nodeType":"ElementaryTypeName","src":"3203:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":293,"indexed":false,"name":"debit","nodeType":"VariableDeclaration","scope":301,"src":"3215:10:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":292,"name":"uint","nodeType":"ElementaryTypeName","src":"3215:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":295,"indexed":false,"name":"payment","nodeType":"VariableDeclaration","scope":301,"src":"3227:12:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":294,"name":"uint","nodeType":"ElementaryTypeName","src":"3227:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":297,"indexed":false,"name":"timeStamp","nodeType":"VariableDeclaration","scope":301,"src":"3241:14:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":296,"name":"uint","nodeType":"ElementaryTypeName","src":"3241:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":299,"indexed":false,"name":"closure","nodeType":"VariableDeclaration","scope":301,"src":"3257:12:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":298,"name":"uint","nodeType":"ElementaryTypeName","src":"3257:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"3172:98:1"},"src":"3162:109:1"},{"body":{"id":342,"nodeType":"Block","src":"3329:413:1","statements":[{"expression":{"argumentTypes":null,"id":328,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":306,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"3339:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":308,"indexExpression":{"argumentTypes":null,"id":307,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":303,"src":"3352:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"3339:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":310,"name":"now","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2371,"src":"3409:3:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":313,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":311,"name":"now","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2371,"src":"3435:3:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"argumentTypes":null,"hexValue":"31","id":312,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3441:6:1","subdenomination":"days","typeDescriptions":{"typeIdentifier":"t_rational_86400_by_1","typeString":"int_const 86400"},"value":"1"},"src":"3435:12:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":315,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3475:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":314,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3470:4:1","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":316,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3470:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":318,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3507:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":317,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3502:4:1","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":319,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3502:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"66616c7365","id":320,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"3531:5:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":322,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3564:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":321,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3559:4:1","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":323,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3559:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":325,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3592:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":324,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3587:4:1","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":326,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3587:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":null,"id":309,"name":"SubPoolExtension","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":207,"src":"3366:16:1","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_SubPoolExtension_$207_storage_ptr_$","typeString":"type(struct TokenLoyalty.SubPoolExtension storage pointer)"}},"id":327,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"names":["timeStamp","closure","members","activated","funded","payment","debit"],"nodeType":"FunctionCall","src":"3366:239:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_memory","typeString":"struct TokenLoyalty.SubPoolExtension memory"}},"src":"3339:266:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":329,"nodeType":"ExpressionStatement","src":"3339:266:1"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":331,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":303,"src":"3654:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":332,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"3666:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":334,"indexExpression":{"argumentTypes":null,"id":333,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":303,"src":"3679:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3666:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":335,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"timeStamp","nodeType":"MemberAccess","referencedDeclaration":194,"src":"3666:34:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":336,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"3702:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":338,"indexExpression":{"argumentTypes":null,"id":337,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":303,"src":"3715:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3702:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":339,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"closure","nodeType":"MemberAccess","referencedDeclaration":196,"src":"3702:32:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":330,"name":"SPExtension","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":235,"src":"3642:11:1","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256)"}},"id":340,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3642:93:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":341,"nodeType":"EmitStatement","src":"3637:98:1"}]},"documentation":null,"id":343,"implemented":true,"isConstructor":false,"isDeclaredConst":false,"modifiers":[],"name":"_createExtension","nodeType":"FunctionDefinition","parameters":{"id":304,"nodeType":"ParameterList","parameters":[{"constant":false,"id":303,"name":"_subPoolId","nodeType":"VariableDeclaration","scope":343,"src":"3303:15:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":302,"name":"uint","nodeType":"ElementaryTypeName","src":"3303:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"3302:17:1"},"payable":false,"returnParameters":{"id":305,"nodeType":"ParameterList","parameters":[],"src":"3329:0:1"},"scope":1167,"src":"3277:465:1","stateMutability":"nonpayable","superFunction":null,"visibility":"internal"},{"body":{"id":519,"nodeType":"Block","src":"3844:2247:1","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":357,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":353,"name":"_member","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":345,"src":"3862:7:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":355,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3881:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":354,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3873:7:1","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":356,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3873:10:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3862:21:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":352,"name":"require","nodeType":"Identifier","overloadedDeclarations":[2372,2373],"referencedDeclaration":2372,"src":"3854:7:1","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":358,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3854:30:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":359,"nodeType":"ExpressionStatement","src":"3854:30:1"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":367,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":360,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"3897:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":362,"indexExpression":{"argumentTypes":null,"id":361,"name":"subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":215,"src":"3910:9:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3897:23:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":363,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"timeStamp","nodeType":"MemberAccess","referencedDeclaration":194,"src":"3897:33:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":365,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3939:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":364,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3934:4:1","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":366,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3934:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3897:44:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":373,"nodeType":"IfStatement","src":"3894:181:1","trueBody":{"id":372,"nodeType":"Block","src":"3943:132:1","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":369,"name":"subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":215,"src":"4054:9:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":368,"name":"_createExtension","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":343,"src":"4037:16:1","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":370,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4037:27:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":371,"nodeType":"ExpressionStatement","src":"4037:27:1"}]}},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":379,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":374,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"4190:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":376,"indexExpression":{"argumentTypes":null,"id":375,"name":"subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":215,"src":"4203:9:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4190:23:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":377,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"closure","nodeType":"MemberAccess","referencedDeclaration":196,"src":"4190:31:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"argumentTypes":null,"id":378,"name":"now","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2371,"src":"4225:3:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4190:38:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":408,"nodeType":"IfStatement","src":"4187:554:1","trueBody":{"id":407,"nodeType":"Block","src":"4230:511:1","statements":[{"assignments":[381],"declarations":[{"constant":false,"id":381,"name":"newSubPoolId","nodeType":"VariableDeclaration","scope":520,"src":"4301:17:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":380,"name":"uint","nodeType":"ElementaryTypeName","src":"4301:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":385,"initialValue":{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"expression":{"argumentTypes":null,"id":382,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"4321:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"id":383,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"insertSubPool","nodeType":"MemberAccess","referencedDeclaration":2313,"src":"4321:18:1","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$__$returns$_t_uint256_$","typeString":"function () external returns (uint256)"}},"id":384,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4321:20:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"4301:40:1"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":390,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":386,"name":"newSubPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":381,"src":"4358:12:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":388,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4379:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":387,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4374:4:1","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":389,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4374:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4358:23:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":405,"nodeType":"Block","src":"4606:125:1","statements":[{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"73756220706f6f6c206973206e6f7420637265617465642c206e6f7420706f737369626c6520746f20616464206e657720746f6b656e","id":401,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4635:56:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_d319ae5fc1f06ccf965c06448b57199886144f8b273656d9a90e92b518e127ae","typeString":"literal_string \"sub pool is not created, not possible to add new token\""},"value":"sub pool is not created, not possible to add new token"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_d319ae5fc1f06ccf965c06448b57199886144f8b273656d9a90e92b518e127ae","typeString":"literal_string \"sub pool is not created, not possible to add new token\""}],"id":400,"name":"Error","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":239,"src":"4629:5:1","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_string_memory_ptr_$returns$__$","typeString":"function (string memory)"}},"id":402,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4629:63:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":403,"nodeType":"EmitStatement","src":"4624:68:1"},{"expression":null,"functionReturnParameters":351,"id":404,"nodeType":"Return","src":"4710:7:1"}]},"id":406,"nodeType":"IfStatement","src":"4355:376:1","trueBody":{"id":399,"nodeType":"Block","src":"4383:205:1","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":392,"name":"newSubPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":381,"src":"4475:12:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":391,"name":"_createExtension","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":343,"src":"4458:16:1","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":393,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4458:30:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":394,"nodeType":"ExpressionStatement","src":"4458:30:1"},{"expression":{"argumentTypes":null,"id":397,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":395,"name":"subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":215,"src":"4549:9:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":396,"name":"newSubPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":381,"src":"4561:12:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4549:24:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":398,"nodeType":"ExpressionStatement","src":"4549:24:1"}]}}]}},{"assignments":[410],"declarations":[{"constant":false,"id":410,"name":"tokenId","nodeType":"VariableDeclaration","scope":520,"src":"4825:12:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":409,"name":"uint","nodeType":"ElementaryTypeName","src":"4825:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":418,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"353030","id":414,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4873:3:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_500_by_1","typeString":"int_const 500"},"value":"500"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_500_by_1","typeString":"int_const 500"}],"id":413,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4865:7:1","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint256"},"id":415,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4865:12:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":416,"name":"_member","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":345,"src":"4879:7:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"argumentTypes":null,"id":411,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"4840:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"id":412,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"connector_createNFT","nodeType":"MemberAccess","referencedDeclaration":2301,"src":"4840:24:1","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_uint256_$_t_address_$returns$_t_uint256_$","typeString":"function (uint256,address) external returns (uint256)"}},"id":417,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4840:47:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"4825:62:1"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":423,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":419,"name":"tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":410,"src":"4900:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":421,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4916:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":420,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4911:4:1","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":422,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4911:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4900:18:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":430,"nodeType":"IfStatement","src":"4897:104:1","trueBody":{"id":429,"nodeType":"Block","src":"4920:81:1","statements":[{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"63616e277420637265617465206e657720746f6b656e","id":425,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4945:24:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_c2f0c4d301f9c85007997a842b64b9fcee6ade1b3163270b8c638a2e6b9b9c70","typeString":"literal_string \"can't create new token\""},"value":"can't create new token"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_c2f0c4d301f9c85007997a842b64b9fcee6ade1b3163270b8c638a2e6b9b9c70","typeString":"literal_string \"can't create new token\""}],"id":424,"name":"Error","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":239,"src":"4939:5:1","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_string_memory_ptr_$returns$__$","typeString":"function (string memory)"}},"id":426,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4939:31:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":427,"nodeType":"EmitStatement","src":"4934:36:1"},{"expression":null,"functionReturnParameters":351,"id":428,"nodeType":"Return","src":"4984:7:1"}]}},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":434,"name":"tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":410,"src":"5102:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":435,"name":"_clientId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":347,"src":"5111:9:1","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"expression":{"argumentTypes":null,"id":431,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"5075:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"id":433,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"connector_setMetadata","nodeType":"MemberAccess","referencedDeclaration":2292,"src":"5075:26:1","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_uint256_$_t_string_memory_ptr_$returns$__$","typeString":"function (uint256,string memory) external"}},"id":436,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5075:46:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":437,"nodeType":"ExpressionStatement","src":"5075:46:1"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":441,"name":"tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":410,"src":"5208:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":438,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"5175:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"id":440,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"connector_addTokenToSubPool","nodeType":"MemberAccess","referencedDeclaration":2308,"src":"5175:32:1","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_uint256_$returns$_t_bool_$","typeString":"function (uint256) external returns (bool)"}},"id":442,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5175:41:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":443,"nodeType":"ExpressionStatement","src":"5175:41:1"},{"expression":{"argumentTypes":null,"id":449,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":444,"name":"newSubPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":381,"src":"5327:12:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":447,"name":"tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":410,"src":"5358:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":445,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"5342:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"id":446,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getSubPool","nodeType":"MemberAccess","referencedDeclaration":2334,"src":"5342:15:1","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view external returns (uint256)"}},"id":448,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5342:24:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5327:39:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":450,"nodeType":"ExpressionStatement","src":"5327:39:1"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":453,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":451,"name":"newSubPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":381,"src":"5379:12:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"id":452,"name":"subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":215,"src":"5395:9:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5379:25:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":473,"nodeType":"IfStatement","src":"5376:254:1","trueBody":{"id":472,"nodeType":"Block","src":"5406:224:1","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":461,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":454,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"5423:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":456,"indexExpression":{"argumentTypes":null,"id":455,"name":"newSubPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":381,"src":"5436:12:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5423:26:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":457,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"timeStamp","nodeType":"MemberAccess","referencedDeclaration":194,"src":"5423:36:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":459,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5468:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":458,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5463:4:1","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":460,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5463:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5423:47:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":471,"nodeType":"IfStatement","src":"5420:200:1","trueBody":{"id":470,"nodeType":"Block","src":"5472:148:1","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":463,"name":"newSubPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":381,"src":"5507:12:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":462,"name":"_createExtension","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":343,"src":"5490:16:1","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":464,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5490:30:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":465,"nodeType":"ExpressionStatement","src":"5490:30:1"},{"expression":{"argumentTypes":null,"id":468,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":466,"name":"subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":215,"src":"5581:9:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":467,"name":"newSubPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":381,"src":"5593:12:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5581:24:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":469,"nodeType":"ExpressionStatement","src":"5581:24:1"}]}}]}},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":475,"name":"_member","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":345,"src":"5652:7:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":476,"name":"_clientId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":347,"src":"5661:9:1","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},{"argumentTypes":null,"hexValue":"66616c7365","id":477,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"5672:5:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"},{"argumentTypes":null,"id":478,"name":"tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":410,"src":"5679:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":479,"name":"subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":215,"src":"5688:9:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"},{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":474,"name":"Created","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":227,"src":"5644:7:1","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_string_memory_ptr_$_t_bool_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (address,string memory,bool,uint256,uint256)"}},"id":480,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5644:54:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":481,"nodeType":"EmitStatement","src":"5639:59:1"},{"expression":{"argumentTypes":null,"id":492,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":482,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"5708:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":484,"indexExpression":{"argumentTypes":null,"id":483,"name":"subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":215,"src":"5721:9:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5708:23:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":485,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"members","nodeType":"MemberAccess","referencedDeclaration":198,"src":"5708:31:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":491,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":486,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"5742:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":488,"indexExpression":{"argumentTypes":null,"id":487,"name":"subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":215,"src":"5755:9:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5742:23:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":489,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"members","nodeType":"MemberAccess","referencedDeclaration":198,"src":"5742:31:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"argumentTypes":null,"hexValue":"31","id":490,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5776:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"5742:35:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5708:69:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":493,"nodeType":"ExpressionStatement","src":"5708:69:1"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":495,"name":"subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":215,"src":"5811:9:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":496,"name":"tokenId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":410,"src":"5834:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":497,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"5856:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":499,"indexExpression":{"argumentTypes":null,"id":498,"name":"subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":215,"src":"5869:9:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5856:23:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":500,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"timeStamp","nodeType":"MemberAccess","referencedDeclaration":194,"src":"5856:33:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":501,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"5904:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":503,"indexExpression":{"argumentTypes":null,"id":502,"name":"subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":215,"src":"5917:9:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5904:23:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":504,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"closure","nodeType":"MemberAccess","referencedDeclaration":196,"src":"5904:31:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":505,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"5950:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":507,"indexExpression":{"argumentTypes":null,"id":506,"name":"subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":215,"src":"5963:9:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5950:23:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":508,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"members","nodeType":"MemberAccess","referencedDeclaration":198,"src":"5950:31:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":509,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"5996:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":511,"indexExpression":{"argumentTypes":null,"id":510,"name":"subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":215,"src":"6009:9:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5996:23:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":512,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"activated","nodeType":"MemberAccess","referencedDeclaration":200,"src":"5996:33:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":513,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"6044:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":515,"indexExpression":{"argumentTypes":null,"id":514,"name":"subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":215,"src":"6057:9:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6044:23:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":516,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"funded","nodeType":"MemberAccess","referencedDeclaration":202,"src":"6044:30:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":494,"name":"Added","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":255,"src":"5792:5:1","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_bool_$returns$__$","typeString":"function (uint256,uint256,uint256,uint256,uint256,uint256,bool)"}},"id":517,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5792:292:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":518,"nodeType":"EmitStatement","src":"5787:297:1"}]},"documentation":"create loyalty token","id":520,"implemented":true,"isConstructor":false,"isDeclaredConst":false,"modifiers":[{"arguments":null,"id":350,"modifierName":{"argumentTypes":null,"id":349,"name":"ownerOnly","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50,"src":"3827:9:1","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"3827:9:1"}],"name":"create","nodeType":"FunctionDefinition","parameters":{"id":348,"nodeType":"ParameterList","parameters":[{"constant":false,"id":345,"name":"_member","nodeType":"VariableDeclaration","scope":520,"src":"3792:15:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":344,"name":"address","nodeType":"ElementaryTypeName","src":"3792:7:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":347,"name":"_clientId","nodeType":"VariableDeclaration","scope":520,"src":"3809:16:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":346,"name":"string","nodeType":"ElementaryTypeName","src":"3809:6:1","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"value":null,"visibility":"internal"}],"src":"3791:35:1"},"payable":false,"returnParameters":{"id":351,"nodeType":"ParameterList","parameters":[],"src":"3844:0:1"},"scope":1167,"src":"3776:2315:1","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":593,"nodeType":"Block","src":"6144:438:1","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":532,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":528,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":522,"src":"6162:3:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":530,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6177:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":529,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6169:7:1","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint256"},"id":531,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6169:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6162:17:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":527,"name":"require","nodeType":"Identifier","overloadedDeclarations":[2372,2373],"referencedDeclaration":2372,"src":"6154:7:1","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":533,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6154:26:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":534,"nodeType":"ExpressionStatement","src":"6154:26:1"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":538,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":522,"src":"6204:3:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":539,"name":"StateClaim","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":187,"src":"6209:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":535,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"6190:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"id":537,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"setState","nodeType":"MemberAccess","referencedDeclaration":2327,"src":"6190:13:1","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256) external"}},"id":540,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6190:30:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":541,"nodeType":"ExpressionStatement","src":"6190:30:1"},{"assignments":[543],"declarations":[{"constant":false,"id":543,"name":"_subPoolId","nodeType":"VariableDeclaration","scope":594,"src":"6230:15:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":542,"name":"uint","nodeType":"ElementaryTypeName","src":"6230:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":548,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":546,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":522,"src":"6264:3:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":544,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"6248:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"id":545,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getSubPool","nodeType":"MemberAccess","referencedDeclaration":2334,"src":"6248:15:1","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view external returns (uint256)"}},"id":547,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6248:20:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"6230:38:1"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":554,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":550,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":543,"src":"6286:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":552,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6308:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":551,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6300:7:1","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint256"},"id":553,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6300:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6286:24:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":549,"name":"require","nodeType":"Identifier","overloadedDeclarations":[2372,2373],"referencedDeclaration":2372,"src":"6278:7:1","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":555,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6278:33:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":556,"nodeType":"ExpressionStatement","src":"6278:33:1"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":565,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":558,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"6329:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":560,"indexExpression":{"argumentTypes":null,"id":559,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":543,"src":"6342:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6329:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":561,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"timeStamp","nodeType":"MemberAccess","referencedDeclaration":194,"src":"6329:34:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":563,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6375:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":562,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6367:7:1","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint256"},"id":564,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6367:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6329:48:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":557,"name":"require","nodeType":"Identifier","overloadedDeclarations":[2372,2373],"referencedDeclaration":2372,"src":"6321:7:1","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":566,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6321:57:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":567,"nodeType":"ExpressionStatement","src":"6321:57:1"},{"expression":{"argumentTypes":null,"id":578,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":568,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"6388:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":570,"indexExpression":{"argumentTypes":null,"id":569,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":543,"src":"6401:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6388:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":571,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"activated","nodeType":"MemberAccess","referencedDeclaration":200,"src":"6388:34:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":577,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":572,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"6425:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":574,"indexExpression":{"argumentTypes":null,"id":573,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":543,"src":"6438:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6425:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":575,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"activated","nodeType":"MemberAccess","referencedDeclaration":200,"src":"6425:34:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"argumentTypes":null,"hexValue":"31","id":576,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6462:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"6425:38:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6388:75:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":579,"nodeType":"ExpressionStatement","src":"6388:75:1"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":581,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":543,"src":"6489:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":582,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":522,"src":"6501:3:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":583,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"6506:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":585,"indexExpression":{"argumentTypes":null,"id":584,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":543,"src":"6519:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6506:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":586,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"timeStamp","nodeType":"MemberAccess","referencedDeclaration":194,"src":"6506:34:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":587,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"6542:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":589,"indexExpression":{"argumentTypes":null,"id":588,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":543,"src":"6555:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6542:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":590,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"closure","nodeType":"MemberAccess","referencedDeclaration":196,"src":"6542:32:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":580,"name":"Activated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":265,"src":"6479:9:1","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256,uint256)"}},"id":591,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6479:96:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":592,"nodeType":"EmitStatement","src":"6474:101:1"}]},"documentation":null,"id":594,"implemented":true,"isConstructor":false,"isDeclaredConst":false,"modifiers":[{"arguments":null,"id":525,"modifierName":{"argumentTypes":null,"id":524,"name":"ownerOnly","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50,"src":"6127:9:1","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"6127:9:1"}],"name":"activate","nodeType":"FunctionDefinition","parameters":{"id":523,"nodeType":"ParameterList","parameters":[{"constant":false,"id":522,"name":"_id","nodeType":"VariableDeclaration","scope":594,"src":"6114:11:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":521,"name":"uint256","nodeType":"ElementaryTypeName","src":"6114:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"6113:13:1"},"payable":false,"returnParameters":{"id":526,"nodeType":"ParameterList","parameters":[],"src":"6144:0:1"},"scope":1167,"src":"6096:486:1","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":697,"nodeType":"Block","src":"6671:671:1","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":610,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":606,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":596,"src":"6689:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":608,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6711:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":607,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6703:7:1","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint256"},"id":609,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6703:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6689:24:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":605,"name":"require","nodeType":"Identifier","overloadedDeclarations":[2372,2373],"referencedDeclaration":2372,"src":"6681:7:1","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":611,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6681:33:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":612,"nodeType":"ExpressionStatement","src":"6681:33:1"},{"assignments":[614],"declarations":[{"constant":false,"id":614,"name":"amount","nodeType":"VariableDeclaration","scope":698,"src":"6724:14:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":613,"name":"uint256","nodeType":"ElementaryTypeName","src":"6724:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":617,"initialValue":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":615,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2369,"src":"6741:3:1","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":616,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"value","nodeType":"MemberAccess","referencedDeclaration":null,"src":"6741:9:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"6724:26:1"},{"assignments":[619],"declarations":[{"constant":false,"id":619,"name":"value","nodeType":"VariableDeclaration","scope":698,"src":"6760:13:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":618,"name":"uint256","nodeType":"ElementaryTypeName","src":"6760:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":624,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":622,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":596,"src":"6790:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":620,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"6776:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"id":621,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getValue","nodeType":"MemberAccess","referencedDeclaration":2341,"src":"6776:13:1","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view external returns (uint256)"}},"id":623,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6776:25:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"6760:41:1"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":633,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":626,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":614,"src":"6819:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":632,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":627,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"6829:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":629,"indexExpression":{"argumentTypes":null,"id":628,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":596,"src":"6842:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6829:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":630,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"activated","nodeType":"MemberAccess","referencedDeclaration":200,"src":"6829:34:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"argumentTypes":null,"id":631,"name":"_payment","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":598,"src":"6866:8:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6829:45:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6819:55:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":625,"name":"require","nodeType":"Identifier","overloadedDeclarations":[2372,2373],"referencedDeclaration":2372,"src":"6811:7:1","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":634,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6811:64:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":635,"nodeType":"ExpressionStatement","src":"6811:64:1"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":644,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":637,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":619,"src":"6893:5:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":643,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":638,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"6902:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":640,"indexExpression":{"argumentTypes":null,"id":639,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":596,"src":"6915:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6902:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":641,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"activated","nodeType":"MemberAccess","referencedDeclaration":200,"src":"6902:34:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"argumentTypes":null,"id":642,"name":"_debit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":600,"src":"6939:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6902:43:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6893:52:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":636,"name":"require","nodeType":"Identifier","overloadedDeclarations":[2372,2373],"referencedDeclaration":2372,"src":"6885:7:1","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":645,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6885:61:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":646,"nodeType":"ExpressionStatement","src":"6885:61:1"},{"expression":{"argumentTypes":null,"id":652,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":647,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"6956:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":649,"indexExpression":{"argumentTypes":null,"id":648,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":596,"src":"6969:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6956:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":650,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"funded","nodeType":"MemberAccess","referencedDeclaration":202,"src":"6956:31:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"hexValue":"74727565","id":651,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"6990:4:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"src":"6956:38:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":653,"nodeType":"ExpressionStatement","src":"6956:38:1"},{"expression":{"argumentTypes":null,"id":659,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":654,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"7004:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":656,"indexExpression":{"argumentTypes":null,"id":655,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":596,"src":"7017:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7004:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":657,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"payment","nodeType":"MemberAccess","referencedDeclaration":204,"src":"7004:32:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":658,"name":"_payment","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":598,"src":"7039:8:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7004:43:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":660,"nodeType":"ExpressionStatement","src":"7004:43:1"},{"expression":{"argumentTypes":null,"id":666,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":661,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"7057:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":663,"indexExpression":{"argumentTypes":null,"id":662,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":596,"src":"7070:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7057:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":664,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"debit","nodeType":"MemberAccess","referencedDeclaration":206,"src":"7057:30:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":665,"name":"_debit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":600,"src":"7090:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7057:39:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":667,"nodeType":"ExpressionStatement","src":"7057:39:1"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":673,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":668,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"7110:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":670,"indexExpression":{"argumentTypes":null,"id":669,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":596,"src":"7123:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7110:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":671,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"closure","nodeType":"MemberAccess","referencedDeclaration":196,"src":"7110:32:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"argumentTypes":null,"id":672,"name":"now","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2371,"src":"7146:3:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7110:39:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":682,"nodeType":"IfStatement","src":"7107:107:1","trueBody":{"id":681,"nodeType":"Block","src":"7151:63:1","statements":[{"expression":{"argumentTypes":null,"id":679,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":674,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"7165:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":676,"indexExpression":{"argumentTypes":null,"id":675,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":596,"src":"7178:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7165:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":677,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"closure","nodeType":"MemberAccess","referencedDeclaration":196,"src":"7165:32:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":678,"name":"now","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2371,"src":"7200:3:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7165:38:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":680,"nodeType":"ExpressionStatement","src":"7165:38:1"}]}},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":684,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":596,"src":"7236:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":685,"name":"_payment","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":598,"src":"7248:8:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":686,"name":"_debit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":600,"src":"7258:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":687,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"7266:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":689,"indexExpression":{"argumentTypes":null,"id":688,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":596,"src":"7279:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7266:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":690,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"timeStamp","nodeType":"MemberAccess","referencedDeclaration":194,"src":"7266:34:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":691,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"7302:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":693,"indexExpression":{"argumentTypes":null,"id":692,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":596,"src":"7315:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7302:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":694,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"closure","nodeType":"MemberAccess","referencedDeclaration":196,"src":"7302:32:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":683,"name":"Funded","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":277,"src":"7229:6:1","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256,uint256,uint256)"}},"id":695,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7229:106:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":696,"nodeType":"EmitStatement","src":"7224:111:1"}]},"documentation":null,"id":698,"implemented":true,"isConstructor":false,"isDeclaredConst":false,"modifiers":[{"arguments":null,"id":603,"modifierName":{"argumentTypes":null,"id":602,"name":"ownerOnly","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50,"src":"6646:9:1","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"6646:9:1"}],"name":"fund","nodeType":"FunctionDefinition","parameters":{"id":601,"nodeType":"ParameterList","parameters":[{"constant":false,"id":596,"name":"_subPoolId","nodeType":"VariableDeclaration","scope":698,"src":"6601:15:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":595,"name":"uint","nodeType":"ElementaryTypeName","src":"6601:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":598,"name":"_payment","nodeType":"VariableDeclaration","scope":698,"src":"6618:13:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":597,"name":"uint","nodeType":"ElementaryTypeName","src":"6618:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":600,"name":"_debit","nodeType":"VariableDeclaration","scope":698,"src":"6633:11:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":599,"name":"uint","nodeType":"ElementaryTypeName","src":"6633:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"6600:45:1"},"payable":true,"returnParameters":{"id":604,"nodeType":"ParameterList","parameters":[],"src":"6671:0:1"},"scope":1167,"src":"6587:755:1","stateMutability":"payable","superFunction":null,"visibility":"public"},{"body":{"id":740,"nodeType":"Block","src":"7396:271:1","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":710,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":706,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":700,"src":"7414:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":708,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7436:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":707,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7428:7:1","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint256"},"id":709,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7428:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7414:24:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":705,"name":"require","nodeType":"Identifier","overloadedDeclarations":[2372,2373],"referencedDeclaration":2372,"src":"7406:7:1","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":711,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7406:33:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":712,"nodeType":"ExpressionStatement","src":"7406:33:1"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":718,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":713,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"7453:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":715,"indexExpression":{"argumentTypes":null,"id":714,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":700,"src":"7466:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7453:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":716,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"closure","nodeType":"MemberAccess","referencedDeclaration":196,"src":"7453:32:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"argumentTypes":null,"id":717,"name":"now","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2371,"src":"7489:3:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7453:39:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":727,"nodeType":"IfStatement","src":"7450:107:1","trueBody":{"id":726,"nodeType":"Block","src":"7494:63:1","statements":[{"expression":{"argumentTypes":null,"id":724,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":719,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"7508:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":721,"indexExpression":{"argumentTypes":null,"id":720,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":700,"src":"7521:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7508:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":722,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"closure","nodeType":"MemberAccess","referencedDeclaration":196,"src":"7508:32:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":723,"name":"now","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2371,"src":"7543:3:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7508:38:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":725,"nodeType":"ExpressionStatement","src":"7508:38:1"}]}},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":729,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":700,"src":"7579:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":730,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"7591:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":732,"indexExpression":{"argumentTypes":null,"id":731,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":700,"src":"7604:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7591:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":733,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"timeStamp","nodeType":"MemberAccess","referencedDeclaration":194,"src":"7591:34:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":734,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"7627:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":736,"indexExpression":{"argumentTypes":null,"id":735,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":700,"src":"7640:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7627:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":737,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"closure","nodeType":"MemberAccess","referencedDeclaration":196,"src":"7627:32:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":728,"name":"Closed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":285,"src":"7572:6:1","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256)"}},"id":738,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7572:88:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":739,"nodeType":"EmitStatement","src":"7567:93:1"}]},"documentation":null,"id":741,"implemented":true,"isConstructor":false,"isDeclaredConst":false,"modifiers":[{"arguments":null,"id":703,"modifierName":{"argumentTypes":null,"id":702,"name":"ownerOnly","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50,"src":"7379:9:1","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"7379:9:1"}],"name":"close","nodeType":"FunctionDefinition","parameters":{"id":701,"nodeType":"ParameterList","parameters":[{"constant":false,"id":700,"name":"_subPoolId","nodeType":"VariableDeclaration","scope":741,"src":"7362:15:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":699,"name":"uint","nodeType":"ElementaryTypeName","src":"7362:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"7361:17:1"},"payable":false,"returnParameters":{"id":704,"nodeType":"ParameterList","parameters":[],"src":"7396:0:1"},"scope":1167,"src":"7347:320:1","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":889,"nodeType":"Block","src":"7709:1015:1","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":751,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":747,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":743,"src":"7727:3:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":749,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7742:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":748,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7734:7:1","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint256"},"id":750,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7734:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7727:17:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":746,"name":"require","nodeType":"Identifier","overloadedDeclarations":[2372,2373],"referencedDeclaration":2372,"src":"7719:7:1","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":752,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7719:26:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":753,"nodeType":"ExpressionStatement","src":"7719:26:1"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":757,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2369,"src":"7783:3:1","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":758,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"7783:10:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":759,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":743,"src":"7795:3:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":755,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"7763:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"id":756,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"connector_owns","nodeType":"MemberAccess","referencedDeclaration":2278,"src":"7763:19:1","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) view external returns (bool)"}},"id":760,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7763:36:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":754,"name":"require","nodeType":"Identifier","overloadedDeclarations":[2372,2373],"referencedDeclaration":2372,"src":"7755:7:1","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":761,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7755:45:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":762,"nodeType":"ExpressionStatement","src":"7755:45:1"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":769,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":766,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":743,"src":"7832:3:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":764,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"7818:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"id":765,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getState","nodeType":"MemberAccess","referencedDeclaration":2320,"src":"7818:13:1","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view external returns (uint256)"}},"id":767,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7818:18:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"id":768,"name":"StateClaim","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":187,"src":"7840:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7818:32:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":763,"name":"require","nodeType":"Identifier","overloadedDeclarations":[2372,2373],"referencedDeclaration":2372,"src":"7810:7:1","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":770,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7810:41:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":771,"nodeType":"ExpressionStatement","src":"7810:41:1"},{"assignments":[773],"declarations":[{"constant":false,"id":773,"name":"_subPoolId","nodeType":"VariableDeclaration","scope":890,"src":"7861:15:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":772,"name":"uint","nodeType":"ElementaryTypeName","src":"7861:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":778,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":776,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":743,"src":"7895:3:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":774,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"7879:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"id":775,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getSubPool","nodeType":"MemberAccess","referencedDeclaration":2334,"src":"7879:15:1","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view external returns (uint256)"}},"id":777,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7879:20:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"7861:38:1"},{"assignments":[780],"declarations":[{"constant":false,"id":780,"name":"value","nodeType":"VariableDeclaration","scope":890,"src":"7909:10:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":779,"name":"uint","nodeType":"ElementaryTypeName","src":"7909:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":785,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":783,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":773,"src":"7936:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":781,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"7922:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"id":782,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getValue","nodeType":"MemberAccess","referencedDeclaration":2341,"src":"7922:13:1","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view external returns (uint256)"}},"id":784,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7922:25:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"7909:38:1"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":791,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":787,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":773,"src":"7965:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":789,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7987:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":788,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7979:7:1","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint256"},"id":790,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7979:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7965:24:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":786,"name":"require","nodeType":"Identifier","overloadedDeclarations":[2372,2373],"referencedDeclaration":2372,"src":"7957:7:1","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":792,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7957:33:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":793,"nodeType":"ExpressionStatement","src":"7957:33:1"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":802,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":795,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"8008:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":797,"indexExpression":{"argumentTypes":null,"id":796,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":773,"src":"8021:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8008:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":798,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"timeStamp","nodeType":"MemberAccess","referencedDeclaration":194,"src":"8008:34:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":800,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8054:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":799,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8046:7:1","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint256"},"id":801,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8046:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8008:48:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":794,"name":"require","nodeType":"Identifier","overloadedDeclarations":[2372,2373],"referencedDeclaration":2372,"src":"8000:7:1","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":803,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8000:57:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":804,"nodeType":"ExpressionStatement","src":"8000:57:1"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":806,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"8075:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":808,"indexExpression":{"argumentTypes":null,"id":807,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":773,"src":"8088:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8075:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":809,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"funded","nodeType":"MemberAccess","referencedDeclaration":202,"src":"8075:31:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":805,"name":"require","nodeType":"Identifier","overloadedDeclarations":[2372,2373],"referencedDeclaration":2372,"src":"8067:7:1","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":810,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8067:40:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":811,"nodeType":"ExpressionStatement","src":"8067:40:1"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":821,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":814,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2388,"src":"8133:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_TokenLoyalty_$1167","typeString":"contract TokenLoyalty"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_TokenLoyalty_$1167","typeString":"contract TokenLoyalty"}],"id":813,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8125:7:1","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":815,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8125:13:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":816,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"balance","nodeType":"MemberAccess","referencedDeclaration":null,"src":"8125:21:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":817,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"8150:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":819,"indexExpression":{"argumentTypes":null,"id":818,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":773,"src":"8163:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8150:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":820,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"payment","nodeType":"MemberAccess","referencedDeclaration":204,"src":"8150:32:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8125:57:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":812,"name":"require","nodeType":"Identifier","overloadedDeclarations":[2372,2373],"referencedDeclaration":2372,"src":"8117:7:1","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":822,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8117:66:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":823,"nodeType":"ExpressionStatement","src":"8117:66:1"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":830,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":825,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":780,"src":"8201:5:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":826,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"8210:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":828,"indexExpression":{"argumentTypes":null,"id":827,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":773,"src":"8223:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8210:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":829,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"debit","nodeType":"MemberAccess","referencedDeclaration":206,"src":"8210:30:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8201:39:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":824,"name":"require","nodeType":"Identifier","overloadedDeclarations":[2372,2373],"referencedDeclaration":2372,"src":"8193:7:1","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":831,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8193:48:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":832,"nodeType":"ExpressionStatement","src":"8193:48:1"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":838,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"8271:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":840,"indexExpression":{"argumentTypes":null,"id":839,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":773,"src":"8284:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8271:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":841,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"payment","nodeType":"MemberAccess","referencedDeclaration":204,"src":"8271:32:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":833,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2369,"src":"8251:3:1","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":836,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"8251:10:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":837,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"transfer","nodeType":"MemberAccess","referencedDeclaration":null,"src":"8251:19:1","typeDescriptions":{"typeIdentifier":"t_function_transfer_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":842,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8251:53:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":843,"nodeType":"ExpressionStatement","src":"8251:53:1"},{"expression":{"argumentTypes":null,"id":851,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":844,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":780,"src":"8314:5:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":850,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":845,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":780,"src":"8322:5:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":846,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"8330:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":848,"indexExpression":{"argumentTypes":null,"id":847,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":773,"src":"8343:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8330:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":849,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"debit","nodeType":"MemberAccess","referencedDeclaration":206,"src":"8330:30:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8322:38:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8314:46:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":852,"nodeType":"ExpressionStatement","src":"8314:46:1"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":856,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":773,"src":"8384:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":857,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":780,"src":"8396:5:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":853,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"8370:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"id":855,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"setValue","nodeType":"MemberAccess","referencedDeclaration":2348,"src":"8370:13:1","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256) external"}},"id":858,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8370:32:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":859,"nodeType":"ExpressionStatement","src":"8370:32:1"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":863,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":743,"src":"8426:3:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":864,"name":"StatePaid","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":192,"src":"8431:9:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":860,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"8412:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"id":862,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"setState","nodeType":"MemberAccess","referencedDeclaration":2327,"src":"8412:13:1","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256) external"}},"id":865,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8412:29:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":866,"nodeType":"ExpressionStatement","src":"8412:29:1"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":868,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":773,"src":"8475:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":869,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":743,"src":"8499:3:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":870,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":780,"src":"8516:5:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":871,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"8535:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":873,"indexExpression":{"argumentTypes":null,"id":872,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":773,"src":"8548:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8535:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":874,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"debit","nodeType":"MemberAccess","referencedDeclaration":206,"src":"8535:30:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":875,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"8579:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":877,"indexExpression":{"argumentTypes":null,"id":876,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":773,"src":"8592:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8579:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":878,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"payment","nodeType":"MemberAccess","referencedDeclaration":204,"src":"8579:32:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":879,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"8626:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":881,"indexExpression":{"argumentTypes":null,"id":880,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":773,"src":"8639:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8626:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":882,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"timeStamp","nodeType":"MemberAccess","referencedDeclaration":194,"src":"8626:34:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":883,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"8675:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":885,"indexExpression":{"argumentTypes":null,"id":884,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":773,"src":"8688:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8675:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":886,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"closure","nodeType":"MemberAccess","referencedDeclaration":196,"src":"8675:32:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":867,"name":"Paid","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":301,"src":"8457:4:1","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256,uint256,uint256,uint256,uint256)"}},"id":887,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8457:260:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":888,"nodeType":"EmitStatement","src":"8452:265:1"}]},"documentation":null,"id":890,"implemented":true,"isConstructor":false,"isDeclaredConst":false,"modifiers":[],"name":"payment","nodeType":"FunctionDefinition","parameters":{"id":744,"nodeType":"ParameterList","parameters":[{"constant":false,"id":743,"name":"_id","nodeType":"VariableDeclaration","scope":890,"src":"7689:11:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":742,"name":"uint256","nodeType":"ElementaryTypeName","src":"7689:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"7688:13:1"},"payable":false,"returnParameters":{"id":745,"nodeType":"ParameterList","parameters":[],"src":"7709:0:1"},"scope":1167,"src":"7672:1052:1","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":939,"nodeType":"Block","src":"8840:355:1","statements":[{"expression":{"argumentTypes":null,"components":[{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":909,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"8870:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":911,"indexExpression":{"argumentTypes":null,"id":910,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":892,"src":"8883:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8870:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":912,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"timeStamp","nodeType":"MemberAccess","referencedDeclaration":194,"src":"8870:34:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":913,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"8919:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":915,"indexExpression":{"argumentTypes":null,"id":914,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":892,"src":"8932:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8919:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":916,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"closure","nodeType":"MemberAccess","referencedDeclaration":196,"src":"8919:32:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":917,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"8966:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":919,"indexExpression":{"argumentTypes":null,"id":918,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":892,"src":"8979:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8966:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":920,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"members","nodeType":"MemberAccess","referencedDeclaration":198,"src":"8966:32:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":921,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"9013:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":923,"indexExpression":{"argumentTypes":null,"id":922,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":892,"src":"9026:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"9013:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":924,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"activated","nodeType":"MemberAccess","referencedDeclaration":200,"src":"9013:34:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":925,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"9062:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":927,"indexExpression":{"argumentTypes":null,"id":926,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":892,"src":"9075:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"9062:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":928,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"debit","nodeType":"MemberAccess","referencedDeclaration":206,"src":"9062:30:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":929,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"9107:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":931,"indexExpression":{"argumentTypes":null,"id":930,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":892,"src":"9120:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"9107:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":932,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"payment","nodeType":"MemberAccess","referencedDeclaration":204,"src":"9107:32:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":935,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":892,"src":"9167:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":933,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"9153:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"id":934,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getValue","nodeType":"MemberAccess","referencedDeclaration":2341,"src":"9153:13:1","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view external returns (uint256)"}},"id":936,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9153:25:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":937,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"8856:332:1","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256,uint256,uint256,uint256,uint256,uint256)"}},"functionReturnParameters":908,"id":938,"nodeType":"Return","src":"8850:338:1"}]},"documentation":null,"id":940,"implemented":true,"isConstructor":false,"isDeclaredConst":true,"modifiers":[],"name":"getSubPoolExtension","nodeType":"FunctionDefinition","parameters":{"id":893,"nodeType":"ParameterList","parameters":[{"constant":false,"id":892,"name":"_subPoolId","nodeType":"VariableDeclaration","scope":940,"src":"8758:18:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":891,"name":"uint256","nodeType":"ElementaryTypeName","src":"8758:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"8757:20:1"},"payable":false,"returnParameters":{"id":908,"nodeType":"ParameterList","parameters":[{"constant":false,"id":895,"name":"","nodeType":"VariableDeclaration","scope":940,"src":"8798:4:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":894,"name":"uint","nodeType":"ElementaryTypeName","src":"8798:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":897,"name":"","nodeType":"VariableDeclaration","scope":940,"src":"8804:4:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":896,"name":"uint","nodeType":"ElementaryTypeName","src":"8804:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":899,"name":"","nodeType":"VariableDeclaration","scope":940,"src":"8810:4:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":898,"name":"uint","nodeType":"ElementaryTypeName","src":"8810:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":901,"name":"","nodeType":"VariableDeclaration","scope":940,"src":"8816:4:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":900,"name":"uint","nodeType":"ElementaryTypeName","src":"8816:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":903,"name":"","nodeType":"VariableDeclaration","scope":940,"src":"8822:4:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":902,"name":"uint","nodeType":"ElementaryTypeName","src":"8822:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":905,"name":"","nodeType":"VariableDeclaration","scope":940,"src":"8828:4:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":904,"name":"uint","nodeType":"ElementaryTypeName","src":"8828:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":907,"name":"","nodeType":"VariableDeclaration","scope":940,"src":"8834:4:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":906,"name":"uint","nodeType":"ElementaryTypeName","src":"8834:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"8797:42:1"},"scope":1167,"src":"8729:466:1","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":961,"nodeType":"Block","src":"9446:54:1","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":958,"name":"subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":215,"src":"9483:9:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":957,"name":"getSubPoolExtension","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":940,"src":"9463:19:1","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$","typeString":"function (uint256) view returns (uint256,uint256,uint256,uint256,uint256,uint256,uint256)"}},"id":959,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9463:30:1","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256,uint256,uint256,uint256,uint256,uint256)"}},"functionReturnParameters":956,"id":960,"nodeType":"Return","src":"9456:37:1"}]},"documentation":null,"id":962,"implemented":true,"isConstructor":false,"isDeclaredConst":true,"modifiers":[],"name":"getCurrentSubPoolExtension","nodeType":"FunctionDefinition","parameters":{"id":941,"nodeType":"ParameterList","parameters":[],"src":"9235:2:1"},"payable":false,"returnParameters":{"id":956,"nodeType":"ParameterList","parameters":[{"constant":false,"id":943,"name":"created","nodeType":"VariableDeclaration","scope":962,"src":"9267:12:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":942,"name":"uint","nodeType":"ElementaryTypeName","src":"9267:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":945,"name":"closed","nodeType":"VariableDeclaration","scope":962,"src":"9290:11:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":944,"name":"uint","nodeType":"ElementaryTypeName","src":"9290:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":947,"name":"numberOfMembers","nodeType":"VariableDeclaration","scope":962,"src":"9312:20:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":946,"name":"uint","nodeType":"ElementaryTypeName","src":"9312:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":949,"name":"numberOfActivated","nodeType":"VariableDeclaration","scope":962,"src":"9343:22:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":948,"name":"uint","nodeType":"ElementaryTypeName","src":"9343:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":951,"name":"debitValue","nodeType":"VariableDeclaration","scope":962,"src":"9376:15:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":950,"name":"uint","nodeType":"ElementaryTypeName","src":"9376:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":953,"name":"paymentAmount","nodeType":"VariableDeclaration","scope":962,"src":"9401:18:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":952,"name":"uint","nodeType":"ElementaryTypeName","src":"9401:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":955,"name":"value","nodeType":"VariableDeclaration","scope":962,"src":"9429:10:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":954,"name":"uint","nodeType":"ElementaryTypeName","src":"9429:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"9257:188:1"},"scope":1167,"src":"9200:300:1","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":989,"nodeType":"Block","src":"9595:192:1","statements":[{"expression":{"argumentTypes":null,"id":971,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":969,"name":"contractOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":965,"src":"9605:13:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":970,"name":"owner","nodeType":"Identifier","overloadedDeclarations":[6],"referencedDeclaration":6,"src":"9621:5:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"9605:21:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":972,"nodeType":"ExpressionStatement","src":"9605:21:1"},{"expression":{"argumentTypes":null,"id":975,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":973,"name":"bizProcessId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":967,"src":"9636:12:1","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"hexValue":"3231","id":974,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9651:2:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_21_by_1","typeString":"int_const 21"},"value":"21"},"src":"9636:17:1","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"id":976,"nodeType":"ExpressionStatement","src":"9636:17:1"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":981,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"expression":{"argumentTypes":null,"id":977,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"9692:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"id":978,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getPoolSize","nodeType":"MemberAccess","referencedDeclaration":2353,"src":"9692:16:1","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":979,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9692:18:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"hexValue":"30","id":980,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9714:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"9692:23:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":988,"nodeType":"IfStatement","src":"9688:93:1","trueBody":{"id":987,"nodeType":"Block","src":"9717:64:1","statements":[{"expression":{"argumentTypes":null,"id":984,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":982,"name":"bizProcessId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":967,"src":"9731:12:1","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"hexValue":"313030","id":983,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9746:3:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_100_by_1","typeString":"int_const 100"},"value":"100"},"src":"9731:18:1","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"id":985,"nodeType":"ExpressionStatement","src":"9731:18:1"},{"expression":null,"functionReturnParameters":968,"id":986,"nodeType":"Return","src":"9764:7:1"}]}}]},"documentation":null,"id":990,"implemented":true,"isConstructor":false,"isDeclaredConst":true,"modifiers":[],"name":"getBizProcessId","nodeType":"FunctionDefinition","parameters":{"id":963,"nodeType":"ParameterList","parameters":[],"src":"9529:2:1"},"payable":false,"returnParameters":{"id":968,"nodeType":"ParameterList","parameters":[{"constant":false,"id":965,"name":"contractOwner","nodeType":"VariableDeclaration","scope":990,"src":"9552:21:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":964,"name":"address","nodeType":"ElementaryTypeName","src":"9552:7:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":967,"name":"bizProcessId","nodeType":"VariableDeclaration","scope":990,"src":"9575:18:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"},"typeName":{"id":966,"name":"uint8","nodeType":"ElementaryTypeName","src":"9575:5:1","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"value":null,"visibility":"internal"}],"src":"9551:43:1"},"scope":1167,"src":"9505:282:1","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":1000,"nodeType":"Block","src":"9840:45:1","statements":[{"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":996,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2388,"src":"9865:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_TokenLoyalty_$1167","typeString":"contract TokenLoyalty"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_TokenLoyalty_$1167","typeString":"contract TokenLoyalty"}],"id":995,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9857:7:1","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":997,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9857:13:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":998,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"balance","nodeType":"MemberAccess","referencedDeclaration":null,"src":"9857:21:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":994,"id":999,"nodeType":"Return","src":"9850:28:1"}]},"documentation":null,"id":1001,"implemented":true,"isConstructor":false,"isDeclaredConst":true,"modifiers":[],"name":"getBalance","nodeType":"FunctionDefinition","parameters":{"id":991,"nodeType":"ParameterList","parameters":[],"src":"9811:2:1"},"payable":false,"returnParameters":{"id":994,"nodeType":"ParameterList","parameters":[{"constant":false,"id":993,"name":"","nodeType":"VariableDeclaration","scope":1001,"src":"9834:4:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":992,"name":"uint","nodeType":"ElementaryTypeName","src":"9834:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"9833:6:1"},"scope":1167,"src":"9792:93:1","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":1141,"nodeType":"Block","src":"9948:928:1","statements":[{"assignments":[1009],"declarations":[{"constant":false,"id":1009,"name":"result","nodeType":"VariableDeclaration","scope":1142,"src":"9958:11:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1008,"name":"uint","nodeType":"ElementaryTypeName","src":"9958:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":1011,"initialValue":{"argumentTypes":null,"hexValue":"30","id":1010,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9972:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"9958:15:1"},{"assignments":[1013],"declarations":[{"constant":false,"id":1013,"name":"_subPoolId","nodeType":"VariableDeclaration","scope":1142,"src":"9983:15:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1012,"name":"uint","nodeType":"ElementaryTypeName","src":"9983:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":1018,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1016,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1003,"src":"10017:3:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":1014,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"10001:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"id":1015,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getSubPool","nodeType":"MemberAccess","referencedDeclaration":2334,"src":"10001:15:1","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view external returns (uint256)"}},"id":1017,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10001:20:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"9983:38:1"},{"assignments":[1020],"declarations":[{"constant":false,"id":1020,"name":"value","nodeType":"VariableDeclaration","scope":1142,"src":"10031:10:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1019,"name":"uint","nodeType":"ElementaryTypeName","src":"10031:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":1025,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1023,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1013,"src":"10058:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":1021,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"10044:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"id":1022,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getValue","nodeType":"MemberAccess","referencedDeclaration":2341,"src":"10044:13:1","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view external returns (uint256)"}},"id":1024,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10044:25:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"10031:38:1"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":1030,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":1026,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1003,"src":"10083:3:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":1028,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10098:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":1027,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"10090:7:1","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint256"},"id":1029,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10090:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10083:17:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":1038,"nodeType":"IfStatement","src":"10080:66:1","trueBody":{"id":1037,"nodeType":"Block","src":"10102:44:1","statements":[{"expression":{"argumentTypes":null,"id":1035,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":1031,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1009,"src":"10116:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":1034,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":1032,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1009,"src":"10125:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"argumentTypes":null,"hexValue":"31","id":1033,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10134:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"10125:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10116:19:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":1036,"nodeType":"ExpressionStatement","src":"10116:19:1"}]}},{"condition":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1041,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2369,"src":"10178:3:1","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":1042,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"10178:10:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":1043,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1003,"src":"10190:3:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":1039,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"10158:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"id":1040,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"connector_owns","nodeType":"MemberAccess","referencedDeclaration":2278,"src":"10158:19:1","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) view external returns (bool)"}},"id":1044,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10158:36:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":1052,"nodeType":"IfStatement","src":"10155:86:1","trueBody":{"id":1051,"nodeType":"Block","src":"10196:45:1","statements":[{"expression":{"argumentTypes":null,"id":1049,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":1045,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1009,"src":"10210:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":1048,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":1046,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1009,"src":"10219:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"argumentTypes":null,"hexValue":"3130","id":1047,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10228:2:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_10_by_1","typeString":"int_const 10"},"value":"10"},"src":"10219:11:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10210:20:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":1050,"nodeType":"ExpressionStatement","src":"10210:20:1"}]}},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":1058,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1055,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1003,"src":"10267:3:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":1053,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"10253:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"id":1054,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getState","nodeType":"MemberAccess","referencedDeclaration":2320,"src":"10253:13:1","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view external returns (uint256)"}},"id":1056,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10253:18:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"id":1057,"name":"StateClaim","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":187,"src":"10275:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10253:32:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":1066,"nodeType":"IfStatement","src":"10250:83:1","trueBody":{"id":1065,"nodeType":"Block","src":"10287:46:1","statements":[{"expression":{"argumentTypes":null,"id":1063,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":1059,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1009,"src":"10301:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":1062,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":1060,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1009,"src":"10310:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"argumentTypes":null,"hexValue":"313030","id":1061,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10319:3:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_100_by_1","typeString":"int_const 100"},"value":"100"},"src":"10310:12:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10301:21:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":1064,"nodeType":"ExpressionStatement","src":"10301:21:1"}]}},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":1071,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":1067,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1013,"src":"10345:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":1069,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10367:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":1068,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"10359:7:1","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint256"},"id":1070,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10359:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10345:24:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":1079,"nodeType":"IfStatement","src":"10342:76:1","trueBody":{"id":1078,"nodeType":"Block","src":"10371:47:1","statements":[{"expression":{"argumentTypes":null,"id":1076,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":1072,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1009,"src":"10385:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":1075,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":1073,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1009,"src":"10394:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"argumentTypes":null,"hexValue":"31303030","id":1074,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10403:4:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1000_by_1","typeString":"int_const 1000"},"value":"1000"},"src":"10394:13:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10385:22:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":1077,"nodeType":"ExpressionStatement","src":"10385:22:1"}]}},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":1087,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1080,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"10430:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":1082,"indexExpression":{"argumentTypes":null,"id":1081,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1013,"src":"10443:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"10430:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":1083,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"timeStamp","nodeType":"MemberAccess","referencedDeclaration":194,"src":"10430:34:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":1085,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10476:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":1084,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"10468:7:1","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint256"},"id":1086,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10468:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10430:48:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":1095,"nodeType":"IfStatement","src":"10427:101:1","trueBody":{"id":1094,"nodeType":"Block","src":"10480:48:1","statements":[{"expression":{"argumentTypes":null,"id":1092,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":1088,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1009,"src":"10494:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":1091,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":1089,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1009,"src":"10503:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"argumentTypes":null,"hexValue":"3130303030","id":1090,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10512:5:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_10000_by_1","typeString":"int_const 10000"},"value":"10000"},"src":"10503:14:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10494:23:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":1093,"nodeType":"ExpressionStatement","src":"10494:23:1"}]}},{"condition":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1096,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"10540:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":1098,"indexExpression":{"argumentTypes":null,"id":1097,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1013,"src":"10553:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"10540:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":1099,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"funded","nodeType":"MemberAccess","referencedDeclaration":202,"src":"10540:31:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":1107,"nodeType":"IfStatement","src":"10537:85:1","trueBody":{"id":1106,"nodeType":"Block","src":"10573:49:1","statements":[{"expression":{"argumentTypes":null,"id":1104,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":1100,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1009,"src":"10587:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":1103,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":1101,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1009,"src":"10596:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"argumentTypes":null,"hexValue":"313030303030","id":1102,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10605:6:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_100000_by_1","typeString":"int_const 100000"},"value":"100000"},"src":"10596:15:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10587:24:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":1105,"nodeType":"ExpressionStatement","src":"10587:24:1"}]}},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":1116,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1109,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2388,"src":"10642:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_TokenLoyalty_$1167","typeString":"contract TokenLoyalty"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_TokenLoyalty_$1167","typeString":"contract TokenLoyalty"}],"id":1108,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"10634:7:1","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":1110,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10634:13:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":1111,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"balance","nodeType":"MemberAccess","referencedDeclaration":null,"src":"10634:21:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1112,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"10659:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":1114,"indexExpression":{"argumentTypes":null,"id":1113,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1013,"src":"10672:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"10659:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":1115,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"payment","nodeType":"MemberAccess","referencedDeclaration":204,"src":"10659:32:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10634:57:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":1124,"nodeType":"IfStatement","src":"10631:112:1","trueBody":{"id":1123,"nodeType":"Block","src":"10693:50:1","statements":[{"expression":{"argumentTypes":null,"id":1121,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":1117,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1009,"src":"10707:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":1120,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":1118,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1009,"src":"10716:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"argumentTypes":null,"hexValue":"31303030303030","id":1119,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10725:7:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1000000_by_1","typeString":"int_const 1000000"},"value":"1000000"},"src":"10716:16:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10707:25:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":1122,"nodeType":"ExpressionStatement","src":"10707:25:1"}]}},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":1130,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":1125,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1020,"src":"10755:5:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1126,"name":"spextensions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":213,"src":"10764:12:1","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_SubPoolExtension_$207_storage_$","typeString":"mapping(uint256 => struct TokenLoyalty.SubPoolExtension storage ref)"}},"id":1128,"indexExpression":{"argumentTypes":null,"id":1127,"name":"_subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1013,"src":"10777:10:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"10764:24:1","typeDescriptions":{"typeIdentifier":"t_struct$_SubPoolExtension_$207_storage","typeString":"struct TokenLoyalty.SubPoolExtension storage ref"}},"id":1129,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"debit","nodeType":"MemberAccess","referencedDeclaration":206,"src":"10764:30:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10755:39:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":1138,"nodeType":"IfStatement","src":"10752:95:1","trueBody":{"id":1137,"nodeType":"Block","src":"10796:51:1","statements":[{"expression":{"argumentTypes":null,"id":1135,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":1131,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1009,"src":"10810:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":1134,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":1132,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1009,"src":"10819:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"argumentTypes":null,"hexValue":"3130303030303030","id":1133,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10828:8:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_10000000_by_1","typeString":"int_const 10000000"},"value":"10000000"},"src":"10819:17:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10810:26:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":1136,"nodeType":"ExpressionStatement","src":"10810:26:1"}]}},{"expression":{"argumentTypes":null,"id":1139,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1009,"src":"10863:6:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":1007,"id":1140,"nodeType":"Return","src":"10856:13:1"}]},"documentation":null,"id":1142,"implemented":true,"isConstructor":false,"isDeclaredConst":true,"modifiers":[],"name":"checkPayment","nodeType":"FunctionDefinition","parameters":{"id":1004,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1003,"name":"_id","nodeType":"VariableDeclaration","scope":1142,"src":"9912:8:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1002,"name":"uint","nodeType":"ElementaryTypeName","src":"9912:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"9911:10:1"},"payable":false,"returnParameters":{"id":1007,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1006,"name":"","nodeType":"VariableDeclaration","scope":1142,"src":"9942:4:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1005,"name":"uint","nodeType":"ElementaryTypeName","src":"9942:4:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"9941:6:1"},"scope":1167,"src":"9890:986:1","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":1161,"nodeType":"Block","src":"10915:101:1","statements":[{"expression":{"argumentTypes":null,"id":1149,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":1147,"name":"subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":215,"src":"10925:9:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"hexValue":"33","id":1148,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10937:1:1","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_3_by_1","typeString":"int_const 3"},"value":"3"},"src":"10925:13:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":1150,"nodeType":"ExpressionStatement","src":"10925:13:1"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1152,"name":"subPoolId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":215,"src":"10965:9:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":1151,"name":"_createExtension","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":343,"src":"10948:16:1","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":1153,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10948:27:1","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1154,"nodeType":"ExpressionStatement","src":"10948:27:1"},{"expression":{"argumentTypes":null,"id":1159,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":1155,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"10985:4:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1157,"name":"_pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1144,"src":"11003:5:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":1156,"name":"ITokenPool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2354,"src":"10992:10:1","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ITokenPool_$2354_$","typeString":"type(contract ITokenPool)"}},"id":1158,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10992:17:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"src":"10985:24:1","typeDescriptions":{"typeIdentifier":"t_contract$_ITokenPool_$2354","typeString":"contract ITokenPool"}},"id":1160,"nodeType":"ExpressionStatement","src":"10985:24:1"}]},"documentation":null,"id":1162,"implemented":true,"isConstructor":true,"isDeclaredConst":false,"modifiers":[],"name":"","nodeType":"FunctionDefinition","parameters":{"id":1145,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1144,"name":"_pool","nodeType":"VariableDeclaration","scope":1162,"src":"10893:13:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":1143,"name":"address","nodeType":"ElementaryTypeName","src":"10893:7:1","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"src":"10892:15:1"},"payable":false,"returnParameters":{"id":1146,"nodeType":"ParameterList","parameters":[],"src":"10915:0:1"},"scope":1167,"src":"10881:135:1","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":1165,"nodeType":"Block","src":"11047:3:1","statements":[]},"documentation":null,"id":1166,"implemented":true,"isConstructor":false,"isDeclaredConst":false,"modifiers":[],"name":"","nodeType":"FunctionDefinition","parameters":{"id":1163,"nodeType":"ParameterList","parameters":[],"src":"11029:2:1"},"payable":true,"returnParameters":{"id":1164,"nodeType":"ParameterList","parameters":[],"src":"11047:0:1"},"scope":1167,"src":"11021:29:1","stateMutability":"payable","superFunction":null,"visibility":"public"}],"scope":1168,"src":"1341:9792:1"}],"src":"1199:9934:1"},"compiler":{"name":"solc","version":"0.4.24+commit.e67f0147.Emscripten.clang"},"networks":{"4":{"events":{},"links":{},"address":"0x0EB2516c083FCa43AbB77298AE84C1dA3748E971","transactionHash":"0x7ebeb787681e8500c4b09e3c4c13cb2adecdfefb077b4c12f307db861093b114"},"5777":{"events":{},"links":{},"address":"0x8879a0b3f91878974024c1de81216258363db5e3","transactionHash":"0xe160c8f9936294ac2014c524929208ad78a5032b30b042c609e9f84fc2ee1cc2"}},"schemaVersion":"2.0.1","updatedAt":"2018-08-15T17:33:03.905Z"};

/***/ }),

/***/ "./src/app/ethereum/ethcontract.service.ts":
/*!*************************************************!*\
  !*** ./src/app/ethereum/ethcontract.service.ts ***!
  \*************************************************/
/*! exports provided: EthcontractService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EthcontractService", function() { return EthcontractService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _tokens__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./tokens */ "./src/app/ethereum/tokens.ts");
/* harmony import */ var web3__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! web3 */ "./node_modules/web3/src/index.js");
/* harmony import */ var web3__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(web3__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};




var EthcontractService = /** @class */ (function () {
    function EthcontractService(web3) {
        this.web3 = web3;
        this.ethHdWallet = __webpack_require__(/*! eth-hd-wallet */ "./node_modules/eth-hd-wallet/index.js");
        this.TokenLoyalty = __webpack_require__(/*! ./build/contracts/TokenLoyalty.json */ "./src/app/ethereum/build/contracts/TokenLoyalty.json");
        var _a = this.ethHdWallet, generateMnemonic = _a.generateMnemonic, EthHdWallet = _a.EthHdWallet;
        this.mnemonic = 'dish hip orange move divert opera primary sketch empty pistol car boil';
        this.wallet = EthHdWallet.fromMnemonic(this.mnemonic);
        this.accounts = this.wallet.generateAddresses(2);
        this.contract = new web3.eth.Contract(this.TokenLoyalty.abi, this.TokenLoyalty.networks['4'].address, { from: this.accounts[0] });
        if (typeof this.contract !== 'undefined') {
            console.log("EthcontractService: contract is here " + this.contract.options.address);
        }
        console.log(this.accounts);
        console.log(this.mnemonic);
    }
    EthcontractService.prototype.alife = function () {
        if (typeof this.web3 !== 'undefined') {
            console.log('EthcontractService: web3 is here');
        }
        else {
            console.error('EthcontractService: web3 is not injected');
        }
    };
    EthcontractService.prototype.getAccounts = function () {
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["of"])(this.accounts);
    };
    EthcontractService.prototype.getMnemonic = function () {
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["of"])(this.mnemonic);
    };
    EthcontractService.prototype.getBalance = function () {
        console.log('getBalance');
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["bindNodeCallback"])(this.contract.methods.getBalance().call)({ from: this.accounts[0], gasPrice: '8000000000', gas: '1000000' });
    };
    EthcontractService.prototype.getAccountBalance = function (account) {
        var acc = account ? account : this.accounts[0];
        console.log("getAccountBalance: " + acc);
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["bindNodeCallback"])(this.web3.eth.getBalance)(acc);
    };
    EthcontractService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __param(0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_tokens__WEBPACK_IMPORTED_MODULE_1__["WEB3"])),
        __metadata("design:paramtypes", [typeof (_a = typeof web3__WEBPACK_IMPORTED_MODULE_2___default.a !== "undefined" && web3__WEBPACK_IMPORTED_MODULE_2___default.a) === "function" && _a || Object])
    ], EthcontractService);
    return EthcontractService;
    var _a;
}());



/***/ }),

/***/ "./src/app/ethereum/ethereum.module.ts":
/*!*********************************************!*\
  !*** ./src/app/ethereum/ethereum.module.ts ***!
  \*********************************************/
/*! exports provided: EthereumModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EthereumModule", function() { return EthereumModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _tokens__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./tokens */ "./src/app/ethereum/tokens.ts");
/* harmony import */ var _ethcontract_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ethcontract.service */ "./src/app/ethereum/ethcontract.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


// Web3

var Web3 = __webpack_require__(/*! web3 */ "./node_modules/web3/src/index.js");
// Services

var EthereumModule = /** @class */ (function () {
    function EthereumModule() {
    }
    EthereumModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"]],
            declarations: [],
            providers: [_ethcontract_service__WEBPACK_IMPORTED_MODULE_3__["EthcontractService"], {
                    provide: _tokens__WEBPACK_IMPORTED_MODULE_2__["WEB3"],
                    useFactory: function () { return new Web3('https://rinkeby.infura.io/v3/7ec884266d6343fab14b21fa52a06343'); }
                }]
        })
    ], EthereumModule);
    return EthereumModule;
}());



/***/ }),

/***/ "./src/app/ethereum/tokens.ts":
/*!************************************!*\
  !*** ./src/app/ethereum/tokens.ts ***!
  \************************************/
/*! exports provided: WEB3 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WEB3", function() { return WEB3; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");

var WEB3 = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["InjectionToken"]('web3');


/***/ }),

/***/ "./src/app/getstarted/getstarted.component.css":
/*!*****************************************************!*\
  !*** ./src/app/getstarted/getstarted.component.css ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".vg-player {\n    width: 400px;\n}"

/***/ }),

/***/ "./src/app/getstarted/getstarted.component.html":
/*!******************************************************!*\
  !*** ./src/app/getstarted/getstarted.component.html ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-grid-list cols=\"3\" rowHeight=\"3em\">\n  \n  <mat-grid-tile>\n    <button (click)=\"gotoBack()\" mat-icon-button>\n      <mat-icon>arrow_back_ios</mat-icon>\n    </button>\n  </mat-grid-tile>\n\n  <mat-grid-tile>\n    <h3>Join Giro d'Iseo</h3>\n  </mat-grid-tile>\n  \n  <mat-grid-tile></mat-grid-tile>\n</mat-grid-list>\n\n<p>Ride around Iseo lake, earning points and use them to buy local goods and services with discounts.</p>\n\n<mat-grid-list cols=\"3\" rowHeight=\"3em\">\n    <mat-grid-tile [colspan]=\"3\">\n      <h3>To be a club meber</h3>\n    </mat-grid-tile>\n  </mat-grid-list>\n\n<mat-action-list>\n  <button mat-list-item [routerLink]=\"['/reg']\" > 1. Press here to register new tag &nbsp; <mat-icon>add_circle_outline</mat-icon></button>\n  <button mat-list-item [routerLink]=\"['/ride']\"> 2. Press here to start new ride &nbsp; &nbsp; &nbsp; <mat-icon>directions_bike</mat-icon></button>\n  <button mat-list-item [routerLink]=\"['/dashboard']\"> 3. Press here to view all results &nbsp; &nbsp; <mat-icon>dashboard</mat-icon> </button>\n</mat-action-list>\n"

/***/ }),

/***/ "./src/app/getstarted/getstarted.component.ts":
/*!****************************************************!*\
  !*** ./src/app/getstarted/getstarted.component.ts ***!
  \****************************************************/
/*! exports provided: GetstartedComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetstartedComponent", function() { return GetstartedComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var GetstartedComponent = /** @class */ (function () {
    function GetstartedComponent(location) {
        this.location = location;
    }
    GetstartedComponent.prototype.ngOnInit = function () {
    };
    GetstartedComponent.prototype.gotoBack = function () {
        this.location.back();
    };
    GetstartedComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-getstarted',
            template: __webpack_require__(/*! ./getstarted.component.html */ "./src/app/getstarted/getstarted.component.html"),
            styles: [__webpack_require__(/*! ./getstarted.component.css */ "./src/app/getstarted/getstarted.component.css")]
        }),
        __metadata("design:paramtypes", [_angular_common__WEBPACK_IMPORTED_MODULE_1__["Location"]])
    ], GetstartedComponent);
    return GetstartedComponent;
}());



/***/ }),

/***/ "./src/app/images.service.ts":
/*!***********************************!*\
  !*** ./src/app/images.service.ts ***!
  \***********************************/
/*! exports provided: ImagesService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImagesService", function() { return ImagesService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_fire_storage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/fire/storage */ "./node_modules/@angular/fire/storage/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var ImagesService = /** @class */ (function () {
    function ImagesService(storage) {
        this.storage = storage;
    }
    ImagesService.prototype.uploadAvatar = function (id, avatar) {
        // create full path to the file with id as subdirectory
        var filePath = id + "/images/" + avatar.name;
        var ref = this.storage.ref(filePath);
        // upload and return task
        return this.storage.upload(filePath, avatar);
    };
    ImagesService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_angular_fire_storage__WEBPACK_IMPORTED_MODULE_1__["AngularFireStorage"]])
    ], ImagesService);
    return ImagesService;
}());



/***/ }),

/***/ "./src/app/landing/landing.component.css":
/*!***********************************************!*\
  !*** ./src/app/landing/landing.component.css ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".example-card {\n    max-width: 380px;\n  }\n  \n  img {\n    max-height: 380px;\n  }\n  "

/***/ }),

/***/ "./src/app/landing/landing.component.html":
/*!************************************************!*\
  !*** ./src/app/landing/landing.component.html ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<br>\n<mat-card class=\"example-card\">\n    <mat-card-header>\n      <mat-card-title>Fun, Wellness, Savings</mat-card-title>\n      <mat-card-subtitle>Ride around Iseo lake, earning points and use them to buy local goods and services with discounts.</mat-card-subtitle>\n    </mat-card-header>\n  \n        <img  [routerLink]=\"['/getstarted']\"mat-card-image src=\"../assets/girodiseo.jpg\" alt=\"Get Started\">\n\n    <mat-card-content>\n      <strong>Join the Giro d'Iseo to make the riding even more fun!</strong>\n    </mat-card-content>\n    <mat-card-actions>\n      <button mat-raised-button [routerLink]=\"['/getstarted']\" color=\"warn\">Get started</button>\n      <button mat-raised-button [routerLink]=\"['/dashboard']\" color=\"primary\">See results</button>\n    </mat-card-actions>\n  </mat-card>\n  \n\n\n\n\n"

/***/ }),

/***/ "./src/app/landing/landing.component.ts":
/*!**********************************************!*\
  !*** ./src/app/landing/landing.component.ts ***!
  \**********************************************/
/*! exports provided: LandingComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LandingComponent", function() { return LandingComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ethereum_ethcontract_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ethereum/ethcontract.service */ "./src/app/ethereum/ethcontract.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var LandingComponent = /** @class */ (function () {
    function LandingComponent(contractService, zone) {
        this.contractService = contractService;
        this.zone = zone;
    }
    LandingComponent.prototype.ngOnInit = function () {
        var _this = this;
        console.log("Landing loaded");
        this.contractService.alife();
        this.contractService.getBalance().subscribe(function (result) { return _this.zone.run(function () { return console.log(result); }); });
        this.contractService.getAccountBalance(null).subscribe(function (result) { return _this.zone.run(function () { return console.log(result); }); });
    };
    LandingComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-landing',
            template: __webpack_require__(/*! ./landing.component.html */ "./src/app/landing/landing.component.html"),
            styles: [__webpack_require__(/*! ./landing.component.css */ "./src/app/landing/landing.component.css")]
        }),
        __metadata("design:paramtypes", [_ethereum_ethcontract_service__WEBPACK_IMPORTED_MODULE_1__["EthcontractService"], _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"]])
    ], LandingComponent);
    return LandingComponent;
}());



/***/ }),

/***/ "./src/app/login/login.component.css":
/*!*******************************************!*\
  !*** ./src/app/login/login.component.css ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/login/login.component.html":
/*!********************************************!*\
  !*** ./src/app/login/login.component.html ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-grid-list cols=\"3\" rowHeight=\"3em\">\n    <mat-grid-tile [colspan]=\"3\">\n      <h3>User login</h3>\n    </mat-grid-tile>\n    \n</mat-grid-list>\n\n<form class=\"example-form\">\n\n  <mat-grid-list cols=\"3\" rowHeight=\"3em\">\n\n    <mat-grid-tile [rowspan]=\"3\" [colspan]=\"3\">\n      <mat-form-field>\n        <input matInput name=\"mobile\" type=\"text\" placeholder=\"Enter mobile\" required minlenght=\"7\" [(ngModel)]=\"mobile\">\n        <mat-hint align=\"start\">Example: <strong>+16505551234</strong> </mat-hint>\n      </mat-form-field>\n    </mat-grid-tile>\n\n    <mat-grid-tile [colspan]=\"3\">\n      {{msg}}\n    </mat-grid-tile>\n\n    <mat-grid-tile>\n      <button mat-raised-button color=\"primary\" [disabled]=\"!mobile || progress\" (click)=\"login($event)\">Login</button>\n    </mat-grid-tile>\n\n    <mat-grid-tile>\n\n    </mat-grid-tile>\n\n    <mat-grid-tile>\n      <button mat-raised-button color=\"warn\" [disabled]=\"!mobile || progress\" (click)=\"clear()\">Clear</button>\n    </mat-grid-tile>\n  \n    <mat-grid-tile [colspan]=\"3\">\n    </mat-grid-tile>\n\n  </mat-grid-list>\n</form>\n\n<div id=\"recaptcha-container\"></div>\n"

/***/ }),

/***/ "./src/app/login/login.component.ts":
/*!******************************************!*\
  !*** ./src/app/login/login.component.ts ***!
  \******************************************/
/*! exports provided: LoginComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoginComponent", function() { return LoginComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _tag_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tag.service */ "./src/app/tag.service.ts");
/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! firebase/app */ "./node_modules/firebase/app/dist/index.cjs.js");
/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(firebase_app__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../auth.service */ "./src/app/auth.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var LoginComponent = /** @class */ (function () {
    function LoginComponent(zone, tagService, authService, route, router) {
        this.zone = zone;
        this.tagService = tagService;
        this.authService = authService;
        this.route = route;
        this.router = router;
    }
    LoginComponent.prototype.ngAfterViewInit = function () {
        // Called after ngAfterContentInit when the component's view has been initialized. Applies to components only.
        // Add 'implements AfterViewInit' to the class.
        this.recaptchaVerifier = new firebase_app__WEBPACK_IMPORTED_MODULE_3__["auth"].RecaptchaVerifier('recaptcha-container');
    };
    LoginComponent.prototype.ngOnInit = function () {
        this.clear();
    };
    LoginComponent.prototype.clear = function () {
        this.mobile = null;
        this.msg = null;
        this.progress = false;
    };
    LoginComponent.prototype.login = function (e) {
        var _this = this;
        this.progress = true;
        e.preventDefault();
        e.stopPropagation();
        this.authService.signInWithPhoneNumber(this.mobile, this.recaptchaVerifier, function (error, confirmationResult) {
            if (error) {
                // Login error
                console.error("LoginComponent: login: " + error);
                _this.msg = error;
                _this.progress = false;
            }
            else {
                // I've got a confirmation object, lets go to the SMS confirmation screen
                // Need to use NgZone.run to go back to Angular zone exec env
                _this.zone.run(function () { return _this.router.navigate(["/smsconfirm/" + _this.mobile]); })
                    .then(function () { return console.log('LoginComponent: login: navigated to smsconfirm'); })
                    .catch(function (err) { return console.error(err); });
                console.log("Has confirmation for " + _this.mobile);
                console.log(confirmationResult);
            }
        });
    };
    LoginComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-login',
            template: __webpack_require__(/*! ./login.component.html */ "./src/app/login/login.component.html"),
            styles: [__webpack_require__(/*! ./login.component.css */ "./src/app/login/login.component.css")]
        }),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"],
            _tag_service__WEBPACK_IMPORTED_MODULE_2__["TagService"],
            _auth_service__WEBPACK_IMPORTED_MODULE_4__["AuthService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"]])
    ], LoginComponent);
    return LoginComponent;
}());



/***/ }),

/***/ "./src/app/nav-bar/nav-bar.component.css":
/*!***********************************************!*\
  !*** ./src/app/nav-bar/nav-bar.component.css ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/nav-bar/nav-bar.component.html":
/*!************************************************!*\
  !*** ./src/app/nav-bar/nav-bar.component.html ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = " <mat-grid-list cols=\"8\" rowHeight=\"3em\">\n    <mat-grid-tile (click)=\"gotoHome()\" [colspan]=\"3\">\n      <img  src=\"../assets/girologo.png\">&nbsp;&nbsp;<h3>Giro d'Iseo</h3>\n    </mat-grid-tile>\n   \n    <mat-grid-tile></mat-grid-tile>\n    \n    <mat-grid-tile (click)=\"gotoReg()\" [colspan]=\"2\"><small>{{nikname}}</small></mat-grid-tile>\n    <mat-grid-tile>\n        <button (click)=\"gotoReg()\" mat-icon-button>\n            <mat-icon>{{authenticated()?\"account_circle\":\"add_circle_outline\"}}</mat-icon>\n        </button>\n    </mat-grid-tile>\n    <mat-grid-tile>\n        <button mat-icon-button [matMenuTriggerFor]=\"menu\">\n            <mat-icon>more_vert</mat-icon>\n        </button>\n          <mat-menu #menu=\"matMenu\">\n            <button mat-menu-item (click)=\"gotoHome()\">Home</button>\n            <button mat-menu-item (click)=\"gotoRide()\">Ride</button>\n            <button mat-menu-item (click)=\"gotoDashboard()\">Dashboard</button>\n            <button mat-menu-item (click)=\"gotoTags()\">Tag list</button>\n            <button mat-menu-item (click)=\"gotoAbout()\">About</button>\n            <button (click)=\"logout()\" mat-menu-item>{{authenticated()?\"Logout\":\"Login\"}}</button>\n          </mat-menu>\n    </mat-grid-tile>\n  </mat-grid-list>\n  <mat-divider></mat-divider>\n"

/***/ }),

/***/ "./src/app/nav-bar/nav-bar.component.ts":
/*!**********************************************!*\
  !*** ./src/app/nav-bar/nav-bar.component.ts ***!
  \**********************************************/
/*! exports provided: NavBarComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavBarComponent", function() { return NavBarComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../auth.service */ "./src/app/auth.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _rider_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../rider.service */ "./src/app/rider.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var NavBarComponent = /** @class */ (function () {
    function NavBarComponent(authService, router, riderService) {
        this.authService = authService;
        this.router = router;
        this.riderService = riderService;
    }
    NavBarComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.user_subs = this.authService.getUser().subscribe(function (user) {
            if (user) {
                _this.mobile = user.phoneNumber;
                _this.getRider();
            }
            else {
                _this.mobile = null;
                _this.nikname = null;
            }
        });
        if (this.authService.authenticated()) {
            this.loginIcon = 'account_circle';
        }
        else {
            this.mobile = null;
            this.nikname = null;
            this.loginIcon = 'add_circle_outline';
        }
    };
    NavBarComponent.prototype.ngOnDestroy = function () {
        if (this.rider_subs) {
            this.rider_subs.unsubscribe();
        }
    };
    NavBarComponent.prototype.getRider = function () {
        var _this = this;
        this.rider_subs = this.riderService.getRiderByMobile(this.mobile)
            .subscribe(function (riders) {
            if (riders) {
                if (riders.length > 0) {
                    console.log('navbar');
                    console.log(riders[0]);
                    _this.rider = riders[0];
                    _this.nikname = _this.rider.nikname;
                }
            }
        });
    };
    NavBarComponent.prototype.authenticated = function () {
        return this.authService.authenticated();
    };
    NavBarComponent.prototype.logout = function () {
        if (this.authenticated()) {
            this.authService.logout();
        }
        else {
            this.router.navigate(['/login']);
        }
    };
    NavBarComponent.prototype.gotoTags = function () {
        this.router.navigate(['/tags']);
    };
    NavBarComponent.prototype.gotoRide = function () {
        this.router.navigate(['/ride']);
    };
    NavBarComponent.prototype.gotoAbout = function () {
        this.router.navigate(['/about']);
    };
    NavBarComponent.prototype.gotoDashboard = function () {
        this.router.navigate(['/dashboard']);
    };
    NavBarComponent.prototype.gotoReg = function () {
        if (this.authenticated()) {
            this.router.navigate(['/profile']);
        }
        else {
            this.router.navigate(['/reg']);
        }
    };
    NavBarComponent.prototype.gotoHome = function () {
        this.router.navigate(['/']);
    };
    NavBarComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-nav-bar',
            template: __webpack_require__(/*! ./nav-bar.component.html */ "./src/app/nav-bar/nav-bar.component.html"),
            styles: [__webpack_require__(/*! ./nav-bar.component.css */ "./src/app/nav-bar/nav-bar.component.css")]
        }),
        __metadata("design:paramtypes", [_auth_service__WEBPACK_IMPORTED_MODULE_1__["AuthService"], _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"], _rider_service__WEBPACK_IMPORTED_MODULE_3__["RiderService"]])
    ], NavBarComponent);
    return NavBarComponent;
}());



/***/ }),

/***/ "./src/app/parameters.ts":
/*!*******************************!*\
  !*** ./src/app/parameters.ts ***!
  \*******************************/
/*! exports provided: RideParameters, Parameters */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RideParameters", function() { return RideParameters; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Parameters", function() { return Parameters; });
var RideParameters = /** @class */ (function () {
    function RideParameters() {
        this.mintime = 1000 * 6;
        this.maxtime = 1000 * 60 * 60 * 3;
    }
    return RideParameters;
}());

var Parameters = /** @class */ (function () {
    function Parameters() {
    }
    return Parameters;
}());



/***/ }),

/***/ "./src/app/profile-update/profile-update.component.css":
/*!*************************************************************!*\
  !*** ./src/app/profile-update/profile-update.component.css ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "input[type=\"file\"] {\n    display: none;\n}\n.custom-file-upload {\n        border: 1px solid #ccc;\n        display: inline-block;\n        padding: 6px 12px;\n        cursor: pointer;\n}\n.mat-progress-bar {\n    width: 50px;\n}"

/***/ }),

/***/ "./src/app/profile-update/profile-update.component.html":
/*!**************************************************************!*\
  !*** ./src/app/profile-update/profile-update.component.html ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-grid-list cols=\"3\" rowHeight=\"3em\">\n    <mat-grid-tile [colspan]=\"3\">\n      <h3>Profile Update</h3>\n    </mat-grid-tile>\n    \n    <mat-grid-tile [colspan]=\"3\">\n        <label for=\"file-upload\">\n            <img ngxGravatar size=\"44\" [fallback]=\"'monsterid'\" [md5Hash]=\"hash\" [src]=\"avatarURL()\">\n          <input id=\"file-upload\" type=\"file\" (change)=\"handleFileInput($event.target.files)\"/>\n        </label>\n    </mat-grid-tile>\n\n    <mat-grid-tile>\n    </mat-grid-tile>\n\n    <mat-grid-tile>\n      <mat-progress-bar *ngIf=\"avatar\" mode=\"determinate\" value=\"uploadPercent | async\"></mat-progress-bar>\n    </mat-grid-tile>\n\n    <mat-grid-tile>\n        <mat-icon *ngIf=\"updates.avatar\">check_circle_outline</mat-icon>\n    </mat-grid-tile>\n    \n</mat-grid-list>\n\n<form class=\"example-form\">\n\n  <mat-grid-list cols=\"3\" rowHeight=\"3em\">\n\n    <mat-grid-tile [rowspan]=\"2\" [colspan]=\"2\">\n      <mat-form-field>\n        <input matInput name=\"username\" type=\"text\" placeholder=\"Enter name\" required [(ngModel)]=\"username\">\n        <mat-hint align=\"start\">Example: <strong>John Smith</strong> </mat-hint>\n      </mat-form-field>\n    </mat-grid-tile>\n\n    <mat-grid-tile [rowspan]=\"2\">\n      <mat-icon *ngIf=\"updates.username\">check_circle_outline</mat-icon>\n    </mat-grid-tile>\n\n    <mat-grid-tile [rowspan]=\"2\" [colspan]=\"2\">\n      <mat-form-field>\n        <input matInput name=\"email\" type=\"text\" placeholder=\"Enter email\" [(ngModel)]=\"email\">\n        <mat-hint align=\"start\">Example: <strong>smith.john@gmail.com</strong> </mat-hint>\n      </mat-form-field>\n    </mat-grid-tile>\n\n    <mat-grid-tile [rowspan]=\"2\">\n      <mat-icon *ngIf=\"updates.email\">check_circle_outline</mat-icon>\n    </mat-grid-tile>\n\n    <mat-grid-tile [rowspan]=\"2\" [colspan]=\"2\">\n        <mat-form-field>\n          <input matInput name=\"nikname\" type=\"text\" placeholder=\"Enter nikname\" [(ngModel)]=\"nikname\">\n          <mat-hint align=\"start\">Example: <strong>Colnago Rider</strong> </mat-hint>\n        </mat-form-field>\n      </mat-grid-tile>\n  \n      <mat-grid-tile [rowspan]=\"2\">\n        <mat-icon *ngIf=\"updates.nikname\">check_circle_outline</mat-icon>\n      </mat-grid-tile>\n\n      <mat-grid-tile  [colspan]=\"2\">\n              <mat-slide-toggle\n              name=\"wallet\"\n              [(ngModel)]=\"checked\"\n              [checked]=\"checked\"\n              [disabled]=\"disabled\">\n            Generate a new wallet\n          </mat-slide-toggle>\n        </mat-grid-tile>\n    \n        <mat-grid-tile>\n          <mat-icon *ngIf=\"updates.wallet\">check_circle_outline</mat-icon>\n        </mat-grid-tile>\n\n    <mat-grid-tile [rowspan]=\"2\" [colspan]=\"3\">\n      {{msg}}\n    </mat-grid-tile>\n\n    <mat-grid-tile>\n        <button mat-raised-button color=\"primary\" [disabled]=\"!username || progress\" (click)=\"update($event)\">Update</button>\n    </mat-grid-tile>\n\n    <mat-grid-tile>\n\n    </mat-grid-tile>\n\n    <mat-grid-tile>\n        <button mat-raised-button color=\"warn\" [disabled]=\"progress\" (click)=\"cancel()\">Cancel</button>\n    </mat-grid-tile>\n  \n    <mat-grid-tile [colspan]=\"3\">\n    </mat-grid-tile>\n\n  </mat-grid-list>\n</form>\n"

/***/ }),

/***/ "./src/app/profile-update/profile-update.component.ts":
/*!************************************************************!*\
  !*** ./src/app/profile-update/profile-update.component.ts ***!
  \************************************************************/
/*! exports provided: ProfileUpdateComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProfileUpdateComponent", function() { return ProfileUpdateComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_fire_storage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/fire/storage */ "./node_modules/@angular/fire/storage/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _tag_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../tag.service */ "./src/app/tag.service.ts");
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../auth.service */ "./src/app/auth.service.ts");
/* harmony import */ var _rider_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../rider.service */ "./src/app/rider.service.ts");
/* harmony import */ var _images_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../images.service */ "./src/app/images.service.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _ethereum_ethcontract_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../ethereum/ethcontract.service */ "./src/app/ethereum/ethcontract.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var ProfileUpdateComponent = /** @class */ (function () {
    function ProfileUpdateComponent(zone, tagService, authService, route, router, riderService, imagesService, storage, contractService) {
        this.zone = zone;
        this.tagService = tagService;
        this.authService = authService;
        this.route = route;
        this.router = router;
        this.riderService = riderService;
        this.imagesService = imagesService;
        this.storage = storage;
        this.contractService = contractService;
    }
    ProfileUpdateComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.clear();
        this.riderService.getRiderByMobile(this.authService.getUserPhone())
            .subscribe(function (riders) {
            if (riders) {
                if (riders.length > 0) {
                    _this.rider = riders[0];
                    _this.nikname = _this.rider.nikname;
                    _this.hash = _this.rider.id;
                    if (_this.rider.wallet) {
                        _this.disabled = true;
                        _this.wallet = _this.rider.wallet;
                    }
                    else {
                        _this.wallet.id = _this.hash;
                    }
                }
            }
        });
        this.contractService.getMnemonic().subscribe(function (mnemonic) {
            _this.wallet.mnemonic = mnemonic;
            console.log("get mnemonic: " + _this.wallet.mnemonic);
            _this.contractService.getAccounts().subscribe(function (accounts) {
                _this.wallet.accounts = accounts;
                console.log("get accounts");
                console.log(_this.wallet.accounts);
            });
        });
    };
    ProfileUpdateComponent.prototype.avatarURL = function () {
        if (this.avatar) {
            return this.avatar;
        }
        if (this.rider) {
            return this.rider.avatar;
        }
    };
    ProfileUpdateComponent.prototype.clear = function () {
        this.mobile = this.authService.getUserPhone();
        this.username = this.authService.getUserName();
        this.email = this.authService.getUserEmail();
        this.progress = false;
        this.msg = null;
        this.avatar = null;
        this.percentage = 0;
        this.checked = false;
        this.disabled = false;
        this.wallet = { id: null, accounts: [], mnemonic: null };
        this.updates = { username: false, email: false, nikname: false, rider: false, newrider: false, avatar: false, wallet: false };
    };
    ProfileUpdateComponent.prototype.update = function (e) {
        var _this = this;
        this.progress = true;
        e.preventDefault();
        e.stopPropagation();
        if (this.username) {
            this.authService.updateProfileCB(this.username, null, function (err) {
                if (err) {
                    _this.msg = err;
                    _this.progress = false;
                    _this.updates.username = false;
                    console.log("ProfileUpdateComponent: update: " + err);
                }
                else {
                    _this.progress = false;
                    _this.updates.username = true;
                    _this.msg = 'Profile is updated';
                }
            });
        }
        if (this.email) {
            this.authService.updateEmailCB(this.email, function (err) {
                if (err) {
                    _this.msg = err;
                    _this.progress = false;
                    _this.updates.email = false;
                    console.log("ProfileUpdateComponent: update: " + err);
                }
                else {
                    _this.progress = false;
                    _this.updates.email = true;
                    _this.msg = 'Profile is updated';
                }
            });
        }
        if (this.nikname) {
            if (this.rider) {
                this.rider.nikname = this.nikname;
                this.updates.rider = true;
            }
            else {
                this.rider = { id: this.authService.getUID(), mobile: this.mobile, nikname: this.nikname };
                this.updates.rider = true;
                this.updates.newrider = true;
            }
        }
        if (this.avatar) {
            if (this.rider) {
                this.rider.avatar = this.avatar;
                this.updates.avatar = true;
            }
            else {
                this.rider = { id: this.authService.getUID(), mobile: this.mobile, nikname: this.nikname, avatar: this.avatar };
                this.updates.rider = true;
                this.updates.newrider = true;
            }
        }
        console.log('Check this out!!');
        if (this.checked && !this.rider.wallet) {
            console.log("generate wallet");
            console.log(this.wallet);
            // generate new wallet
            if (this.rider) {
                this.rider.wallet = this.wallet;
                this.updates.wallet = true;
            }
            else {
                // tslint:disable-next-line:max-line-length
                this.rider = { id: this.authService.getUID(), mobile: this.mobile, nikname: this.nikname, avatar: this.avatar, wallet: this.wallet };
                this.updates.rider = true;
                this.updates.newrider = true;
            }
        }
        if (this.updates.rider) {
            if (this.updates.newrider) {
                this.riderService.addNewRiderCB(this.rider, function (err, ref) {
                    if (err) {
                        _this.msg = err;
                        _this.progress = false;
                    }
                    else {
                        _this.progress = false;
                        _this.updates.rider = true;
                        _this.updates.newrider = false;
                        if (_this.nikname) {
                            _this.updates.nikname = true;
                        }
                        if (_this.avatar) {
                            _this.updates.avatar = true;
                        }
                        if (_this.checked) {
                            _this.updates.wallet = true;
                        }
                        _this.msg = 'Profile is updated';
                    }
                });
            }
            else {
                this.riderService.updateRiderByIdCB(this.rider, function (err, ref) {
                    if (err) {
                        _this.msg = err;
                        _this.progress = false;
                    }
                    else {
                        _this.progress = false;
                        _this.updates.rider = true;
                        _this.updates.newrider = false;
                        if (_this.nikname) {
                            _this.updates.nikname = true;
                        }
                        if (_this.avatar) {
                            _this.updates.avatar = true;
                        }
                        if (_this.checked) {
                            _this.updates.wallet = true;
                        }
                        _this.msg = 'Profile is updated';
                    }
                });
            }
        }
    };
    ProfileUpdateComponent.prototype.cancel = function () {
        this.router.navigate(["/profile"]);
    };
    ProfileUpdateComponent.prototype.handleFileInput = function (files) {
        var _this = this;
        var file = files[0];
        var filePath = this.authService.getUID() + "/images/" + file.name;
        var fileRef = this.storage.ref(filePath);
        var task = this.storage.upload(filePath, file);
        // observe percentage changes
        this.uploadPercent = task.percentageChanges();
        // get notified when the download URL is available
        task.snapshotChanges()
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["finalize"])(function () {
            _this.downloadURL = fileRef.getDownloadURL();
            _this.downloadURL.subscribe(function (url) { return _this.avatar = url; });
        }))
            .subscribe();
    };
    ProfileUpdateComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-profile-update',
            template: __webpack_require__(/*! ./profile-update.component.html */ "./src/app/profile-update/profile-update.component.html"),
            styles: [__webpack_require__(/*! ./profile-update.component.css */ "./src/app/profile-update/profile-update.component.css")]
        }),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"],
            _tag_service__WEBPACK_IMPORTED_MODULE_3__["TagService"],
            _auth_service__WEBPACK_IMPORTED_MODULE_4__["AuthService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"],
            _rider_service__WEBPACK_IMPORTED_MODULE_5__["RiderService"],
            _images_service__WEBPACK_IMPORTED_MODULE_6__["ImagesService"],
            _angular_fire_storage__WEBPACK_IMPORTED_MODULE_1__["AngularFireStorage"],
            _ethereum_ethcontract_service__WEBPACK_IMPORTED_MODULE_8__["EthcontractService"]])
    ], ProfileUpdateComponent);
    return ProfileUpdateComponent;
}());



/***/ }),

/***/ "./src/app/ride-detail/ride-detail.component.css":
/*!*******************************************************!*\
  !*** ./src/app/ride-detail/ride-detail.component.css ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/ride-detail/ride-detail.component.html":
/*!********************************************************!*\
  !*** ./src/app/ride-detail/ride-detail.component.html ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-grid-list *ngIf=\"ride; else loading;\"cols=\"3\" rowHeight=\"3em\">\n    \n    <mat-grid-tile>\n      <button (click)=\"gotoBack()\" mat-icon-button>\n        <mat-icon>arrow_back_ios</mat-icon>\n      </button>\n    </mat-grid-tile>\n\n    <mat-grid-tile><h3>Ride details</h3></mat-grid-tile>\n\n    <mat-grid-tile></mat-grid-tile>\n\n    <mat-grid-tile *ngIf=\"ride.rider\"></mat-grid-tile>\n\n    <mat-grid-tile *ngIf=\"ride.rider\"><img *ngIf=\"ride.rider && ride.rider.avatar\" ngxGravatar size=\"46\" [fallback]=\"'monsterid'\" [src]=\"ride.rider.avatar\"></mat-grid-tile>\n\n    <mat-grid-tile *ngIf=\"ride.rider\"></mat-grid-tile>\n\n    <mat-grid-tile *ngIf=\"ride.rider\"></mat-grid-tile>\n\n    <mat-grid-tile *ngIf=\"ride.rider\"><strong>{{ride.rider?ride.rider.nikname:\"\"}}</strong></mat-grid-tile>\n\n    <mat-grid-tile *ngIf=\"ride.rider\"></mat-grid-tile>\n\n    <mat-grid-tile>Date:</mat-grid-tile>\n\n    <mat-grid-tile>{{ride.start|date:\"dd-MM-yyyy\"}}</mat-grid-tile>\n\n    <mat-grid-tile></mat-grid-tile>\n\n    <mat-grid-tile>Start:</mat-grid-tile>\n\n    <mat-grid-tile>{{ride.start|date:\"HH:mm:ss\"}}</mat-grid-tile>\n\n    <mat-grid-tile></mat-grid-tile>\n\n    <mat-grid-tile>Finish:</mat-grid-tile>\n\n    <mat-grid-tile>{{ride.finish|date:\"HH:mm:ss\"}}</mat-grid-tile>\n\n    <mat-grid-tile></mat-grid-tile>\n    \n    <mat-grid-tile>Time:</mat-grid-tile>\n\n    <mat-grid-tile>{{(ride.finish-ride.start)|date:\"HH:mm:ss\":\"+00\"}}</mat-grid-tile>\n\n    <mat-grid-tile></mat-grid-tile>\n\n\n    <mat-grid-tile [colspan]=\"3\">\n        <button mat-stroked-button (click)=\"gotoTagById(ride.tagid)\">{{ride.tagid}}</button>\n    </mat-grid-tile>\n\n    <mat-grid-tile *ngIf=\"uid === id\" [colspan]=\"3\">\n        <button mat-raised-button [disabled]=\"progress || !(uid === id)\" (click)=\"updateRiderInfo()\" color=\"primary\">Update Rider Info</button>\n    </mat-grid-tile>\n\n\n</mat-grid-list>\n"

/***/ }),

/***/ "./src/app/ride-detail/ride-detail.component.ts":
/*!******************************************************!*\
  !*** ./src/app/ride-detail/ride-detail.component.ts ***!
  \******************************************************/
/*! exports provided: RideDetailComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RideDetailComponent", function() { return RideDetailComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _tag_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../tag.service */ "./src/app/tag.service.ts");
/* harmony import */ var _ride_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../ride.service */ "./src/app/ride.service.ts");
/* harmony import */ var _rider_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../rider.service */ "./src/app/rider.service.ts");
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../auth.service */ "./src/app/auth.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var RideDetailComponent = /** @class */ (function () {
    function RideDetailComponent(tagService, route, location, router, rideService, riderService, authService) {
        this.tagService = tagService;
        this.route = route;
        this.location = location;
        this.router = router;
        this.rideService = rideService;
        this.riderService = riderService;
        this.authService = authService;
    }
    RideDetailComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.progress = false;
        var id = this.route.snapshot.paramMap.get('id');
        this.rideService.getRideByIdCB(+id, function (err, ride) {
            if (err) {
                console.error("RideDetailComponent: ngOnInit: ride not found " + id);
            }
            else {
                _this.ride = ride;
                _this.id = ride.rider.id;
                console.log(_this.ride);
            }
        });
        this.authService.getUser().subscribe(function (user) {
            _this.uid = user.uid;
            console.log(_this.uid);
            _this.riders = _this.riderService.getRiderById(_this.uid);
        });
    };
    RideDetailComponent.prototype.gotoBack = function () {
        this.location.back();
    };
    RideDetailComponent.prototype.updateRiderInfo = function () {
        var _this = this;
        this.progress = true;
        this.riders.subscribe(function (riders) {
            if (riders && riders.length > 0) {
                _this.ride.rider = riders[0];
                _this.rideService.updateRideByIdCB(_this.ride, function (err, ref) {
                    if (err) {
                        _this.progress = false;
                        console.log("RideDetailComponent: updateRiderInfo: " + err);
                    }
                    else {
                        console.log("RideDetailComponent: updateRiderInfo: rider info updated " + ref);
                    }
                });
            }
            else {
                _this.progress = false;
            }
        });
    };
    RideDetailComponent.prototype.gotoTagById = function (id) {
        this.router.navigate(["/tag/" + id]);
    };
    RideDetailComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-ride-detail',
            template: __webpack_require__(/*! ./ride-detail.component.html */ "./src/app/ride-detail/ride-detail.component.html"),
            styles: [__webpack_require__(/*! ./ride-detail.component.css */ "./src/app/ride-detail/ride-detail.component.css")]
        }),
        __metadata("design:paramtypes", [_tag_service__WEBPACK_IMPORTED_MODULE_3__["TagService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"],
            _angular_common__WEBPACK_IMPORTED_MODULE_2__["Location"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"],
            _ride_service__WEBPACK_IMPORTED_MODULE_4__["RideService"],
            _rider_service__WEBPACK_IMPORTED_MODULE_5__["RiderService"],
            _auth_service__WEBPACK_IMPORTED_MODULE_6__["AuthService"]])
    ], RideDetailComponent);
    return RideDetailComponent;
}());



/***/ }),

/***/ "./src/app/ride.service.ts":
/*!*********************************!*\
  !*** ./src/app/ride.service.ts ***!
  \*********************************/
/*! exports provided: RideService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RideService", function() { return RideService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_fire_firestore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/fire/firestore */ "./node_modules/@angular/fire/firestore/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var RideService = /** @class */ (function () {
    function RideService(datePipe, db) {
        this.datePipe = datePipe;
        this.db = db;
        this.number$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](1000);
        this.start$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](null);
        this.order$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"]('time');
        this.rides = Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["combineLatest"])(this.number$, this.start$, this.order$).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["switchMap"])(function (_a) {
            var num = _a[0], start = _a[1], order = _a[2];
            return db.collection('rides', function (ref) {
                var query = ref;
                query = query.where('time', '>', 0);
                if (num) {
                    query = query.limit(num);
                }
                if (order) {
                    query = query.orderBy(order);
                    if (start) {
                        query = query.startAt(start);
                    }
                }
                return query;
            }).valueChanges();
        }));
        this.where$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](null);
        this.ride = Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["combineLatest"])(this.where$).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["switchMap"])(function (_a) {
            var where = _a[0];
            return db.collection('rides', function (ref) {
                var query = ref;
                if (where) {
                    query = query.where('tagid', '==', where);
                }
                query = query.where('open', '==', true);
                query = query.limit(1);
                return query;
            }).valueChanges();
        }));
        this.tagid$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](null);
        this.tagRides = Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["combineLatest"])(this.tagid$).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["switchMap"])(function (_a) {
            var tagid = _a[0];
            return db.collection('rides', function (ref) {
                var query = ref;
                query = query.where('tagid', '==', tagid);
                query = query.orderBy('start');
                return query;
            }).valueChanges();
        }));
    }
    RideService.prototype.getRides = function () {
        return this.rides;
    };
    RideService.prototype.setNumber = function (num) {
        this.number$.next(num);
    };
    RideService.prototype.setStart = function (start) {
        this.start$.next(start);
    };
    RideService.prototype.setOrder = function (order) {
        this.order$.next(order);
    };
    RideService.prototype.getRideByTagId = function (tagid) {
        this.where$.next(tagid);
        return this.ride;
    };
    RideService.prototype.getRideByTagIdCB = function (tagid, cb) {
        this.db.collection('rides').ref.where('tagid', '==', tagid)
            .get()
            .then(function (querySnapshot) {
            if (querySnapshot.empty) {
                cb(null);
            }
            else {
                cb(querySnapshot.docs[0]);
            }
        });
    };
    RideService.prototype.getRidesByTagId = function (tagid) {
        this.tagid$.next(tagid);
        return this.tagRides;
    };
    RideService.prototype.getRidesByTagIdCB = function (tagid, cb) {
        this.db.collection('rides').ref.where('tagid', '==', tagid)
            .get()
            .then(function (querySnapshot) {
            if (querySnapshot.empty) {
                cb(null);
            }
            else {
                cb(querySnapshot.docs);
            }
        });
    };
    RideService.prototype.addNewRideCB = function (ride, cb) {
        this.db.collection('rides').add(ride)
            .then(function (ref) { return cb(null, ref); })
            .catch(function (err) { return cb(err, null); });
    };
    RideService.prototype.updateRideByRefCB = function (ref, ride, cb) {
        this.db.collection('rides').doc(ref).update(ride)
            .then(function () { return cb(null); })
            .catch(function (err) { return cb(err); });
    };
    RideService.prototype.updateRideByIdCB = function (ride, cb) {
        var _this = this;
        this.db.collection('rides').ref.where('id', '==', ride.id)
            .get()
            .then(function (querySnapshot) {
            if (querySnapshot.empty) {
                cb('not fount', null);
            }
            else {
                var doc_1 = querySnapshot.docs[0];
                _this.db.collection('rides').doc(doc_1.id).update(ride)
                    .then(function () { return cb(null, doc_1.ref); })
                    .catch(function (err) { return cb(err, null); });
            }
        });
    };
    RideService.prototype.getRideByIdCB = function (id, cb) {
        this.db.collection('rides').ref.where('id', '==', id)
            .get()
            .then(function (querySnapshot) {
            if (querySnapshot.empty) {
                cb('not fount', null);
            }
            else {
                var doc = querySnapshot.docs[0];
                cb(null, doc.data());
            }
        });
    };
    RideService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_angular_common__WEBPACK_IMPORTED_MODULE_4__["DatePipe"], _angular_fire_firestore__WEBPACK_IMPORTED_MODULE_1__["AngularFirestore"]])
    ], RideService);
    return RideService;
}());



/***/ }),

/***/ "./src/app/ride/ride.component.css":
/*!*****************************************!*\
  !*** ./src/app/ride/ride.component.css ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "table {\n    width: 100%;\n  }\n\n  .mat-cell .mat-icon {\n    -webkit-transform: scale(0.6);\n            transform: scale(0.6);\n}"

/***/ }),

/***/ "./src/app/ride/ride.component.html":
/*!******************************************!*\
  !*** ./src/app/ride/ride.component.html ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n<mat-grid-list  cols=\"3\" rowHeight=\"3em\">\n    <mat-grid-tile>\n        <button (click)=\"gotoBack()\" mat-icon-button>\n            <mat-icon>arrow_back_ios</mat-icon>\n        </button>\n      </mat-grid-tile>\n\n    <mat-grid-tile>\n      <h3>Ride</h3>\n    </mat-grid-tile>\n\n    <mat-grid-tile>\n        <small>{{nikname}}</small>\n    </mat-grid-tile>\n  \n  </mat-grid-list>\n\n<mat-accordion>\n      <mat-expansion-panel (opened)=\"getTags()\">\n        <mat-expansion-panel-header>\n          <mat-panel-title>\n            Tags\n          </mat-panel-title>\n          <mat-panel-description>\n            Select tag to start a ride\n          </mat-panel-description>\n        </mat-expansion-panel-header>\n    \n        <span *ngFor=\"let tag of tags\">\n            <button mat-stroked-button [disabled]=\"tagid === tag.id\" (click)=\"select(tag.id)\">{{tag.id}}</button>&nbsp;\n        </span>\n    \n      </mat-expansion-panel>\n  </mat-accordion>\n\n  <mat-grid-list *ngIf=\"ride; else loading\" cols=\"3\" rowHeight=\"3em\">\n    <mat-grid-tile [colspan]=\"3\">\n      <h3>Current Ride</h3>\n    </mat-grid-tile>\n  \n    <mat-grid-tile>\n      {{ride.start|date:\"dd-MM-yyyy\"}}\n    </mat-grid-tile>\n  \n    <mat-grid-tile>\n      {{ride.start|date:\"HH:mm:ss\"}}\n    </mat-grid-tile>\n  \n    <mat-grid-tile *ngIf=\"!ride.finish\">\n      {{timestemp|date:\"HH:mm:ss\":\"+00\"}}\n    </mat-grid-tile>\n\n    <mat-grid-tile *ngIf=\"ride.finish\">\n        {{(ride.finish-ride.start)|date:\"HH:mm:ss\":\"+00\"}}\n      </mat-grid-tile>\n  </mat-grid-list>\n\n  <mat-grid-list  *ngIf=\"rides; else loading\" cols=\"3\" rowHeight=\"3em\">\n      \n      <mat-grid-tile  [rowspan] = \"2\" [colspan]=\"3\">\n        <button *ngIf=\"!ride\" mat-stroked-button mat-raised-button color=\"primary\" [disabled]=\"progress\" (click)=\"startRide($event)\">Start</button>\n        <button *ngIf=\"ride\" mat-stroked-button mat-raised-button color=\"warn\" [disabled]=\"progress || !ride.open\" (click)=\"finishRide($event)\">End</button>\n      </mat-grid-tile>\n  </mat-grid-list>\n  \n  <div *ngIf=\"rides\">\n      <table *ngIf=\"rides.length>0\" mat-table [dataSource]=\"rides | slice:start:end\" class=\"mat-elevation-z8\">\n\n          <!--- Note that these columns can be defined in any order.\n                The actual rendered columns are set as a property on the row definition\" -->\n        \n          <!-- Position Column -->\n          <ng-container matColumnDef=\"date\">\n              <th mat-header-cell *matHeaderCellDef> Date </th>\n              <td mat-cell *matCellDef=\"let element\"> {{element.start|date:\"dd-MM-yyyy\"}}</td>\n            </ng-container>\n\n          <!-- Position Column -->\n          <ng-container matColumnDef=\"start\">\n            <th mat-header-cell *matHeaderCellDef> Start </th>\n            <td mat-cell *matCellDef=\"let element\"> {{element.start|date:\"HH:mm:ss\"}}</td>\n          </ng-container>\n        \n          <!-- Name Column -->\n          <ng-container matColumnDef=\"finish\">\n            <th mat-header-cell *matHeaderCellDef> Finish </th>\n            <td mat-cell *matCellDef=\"let element\"> {{element.finish|date:\"HH:mm:ss\"}}</td>\n          </ng-container>\n        \n          <!-- Weight Column -->\n          <ng-container matColumnDef=\"time\">\n            <th mat-header-cell *matHeaderCellDef> Time </th>\n            <td mat-cell *matCellDef=\"let element\"> {{(element.finish-element.start)|date:\"HH:mm:ss\":\"+00\"}} </td>\n          </ng-container>\n        \n          <!-- Weight Column -->\n          <ng-container matColumnDef=\"link\">\n              <th mat-header-cell *matHeaderCellDef> Details </th>\n              <td mat-cell *matCellDef=\"let element\"> <button (click)=\"gotoRide(element.id)\" mat-icon-button> <mat-icon>call_made</mat-icon></button> </td>\n            </ng-container>\n        \n          <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n          <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\n        </table>\n        <br>\n        \n    <mat-paginator *ngIf=\"rides.length>0\" [length]=\"rides.length\"\n                  [pageSize]=\"10\"\n                  [pageSizeOptions]=\"[1, 5, 10, 25, 100]\"\n                  (page)=\"setPage($event)\">\n    </mat-paginator>\n  </div>\n\n"

/***/ }),

/***/ "./src/app/ride/ride.component.ts":
/*!****************************************!*\
  !*** ./src/app/ride/ride.component.ts ***!
  \****************************************/
/*! exports provided: RideComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RideComponent", function() { return RideComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _tag_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../tag.service */ "./src/app/tag.service.ts");
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../auth.service */ "./src/app/auth.service.ts");
/* harmony import */ var _rider_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../rider.service */ "./src/app/rider.service.ts");
/* harmony import */ var _ride_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ride.service */ "./src/app/ride.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _parameters__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../parameters */ "./src/app/parameters.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var RideComponent = /** @class */ (function () {
    function RideComponent(zone, tagService, authService, route, router, riderService, rideService, datePipe, location, param) {
        this.zone = zone;
        this.tagService = tagService;
        this.authService = authService;
        this.route = route;
        this.router = router;
        this.riderService = riderService;
        this.rideService = rideService;
        this.datePipe = datePipe;
        this.location = location;
        this.param = param;
        this.displayedColumns = ['date', 'start', 'finish', 'time', 'link'];
        console.log(this.param);
    }
    RideComponent.prototype.ngOnInit = function () {
        this.clear();
        this.getTags();
        this.getRider();
    };
    RideComponent.prototype.ngOnDestroy = function () {
        if (this.tags_subs) {
            this.tags_subs.unsubscribe();
        }
        if (this.rides_subs) {
            this.rides_subs.unsubscribe();
        }
        if (this.ride_subs) {
            this.ride_subs.unsubscribe();
        }
        if (this.timer_subs) {
            this.timer_subs.unsubscribe();
        }
        if (this.rider_subs) {
            this.rider_subs.unsubscribe();
        }
    };
    RideComponent.prototype.clear = function () {
        this.tagid = null;
        this.start = 0;
        this.end = 10;
        this.progress = false;
    };
    RideComponent.prototype.gotoRide = function (id) {
        this.router.navigate(["/ride/" + id]);
    };
    RideComponent.prototype.getTags = function () {
        var _this = this;
        this.tags_subs = this.tagService.getTagsByMobile(this.authService.getUserPhone())
            .subscribe(function (tags) { return _this.tags = tags; });
    };
    RideComponent.prototype.getRider = function () {
        var _this = this;
        this.rider_subs = this.riderService.getRiderByMobile(this.authService.getUserPhone())
            .subscribe(function (riders) {
            if (riders) {
                if (riders.length > 0) {
                    _this.rider = riders[0];
                    _this.nikname = _this.rider.nikname;
                    _this.avatar = _this.rider.avatar;
                }
            }
        });
    };
    RideComponent.prototype.getRides = function () {
        var _this = this;
        this.rides_subs = this.rideService.getRidesByTagId(this.tagid)
            .subscribe(function (rides) { return _this.rides = rides; });
    };
    RideComponent.prototype.getRide = function () {
        var _this = this;
        this.ride_subs = this.rideService.getRideByTagId(this.tagid)
            .subscribe(function (rides) {
            if (rides.length > 0) {
                _this.ride = rides[0];
                _this.timer = Object(rxjs__WEBPACK_IMPORTED_MODULE_7__["timer"])(0, 1000);
                _this.timer_subs = _this.timer.subscribe(function (t) {
                    _this.timestemp = new Date().getTime() - _this.ride.start;
                    _this.hours = Math.floor(_this.timestemp / 1000 / 60 / 60);
                    _this.minutes = Math.floor(_this.timestemp / 1000 / 60);
                    _this.seconds = Math.floor(_this.timestemp / 1000);
                });
            }
        });
    };
    RideComponent.prototype.select = function (tagid) {
        this.tagid = tagid;
        this.getRides();
        this.getRide();
    };
    RideComponent.prototype.setPage = function (e) {
        console.log(e);
        var pageIndex = e.pageIndex, pageSize = e.pageSize;
        this.start = pageIndex * pageSize;
        this.end = this.start + pageSize;
    };
    RideComponent.prototype.startRide = function (e) {
        var _this = this;
        if (!this.tagid) {
            return;
        }
        this.progress = true;
        e.preventDefault();
        e.stopPropagation();
        var start = new Date().getTime();
        var tagid = this.tagid;
        var id = Math.random() * 1000 + start;
        var open = true;
        var rider = this.rider;
        var ride;
        if (rider) {
            ride = { id: id, tagid: tagid, start: start, open: open, rider: rider };
        }
        else {
            ride = { id: id, tagid: tagid, start: start, open: open };
        }
        this.rideService.addNewRideCB(ride, function (err, ref) {
            if (err) {
                _this.progress = false;
                console.error(err);
            }
            else {
                _this.progress = false;
                _this.getRides();
            }
        });
    };
    RideComponent.prototype.finishRide = function (e) {
        var _this = this;
        this.progress = true;
        e.preventDefault();
        e.stopPropagation();
        var finish = new Date().getTime();
        this.ride.finish = finish;
        this.ride.open = false;
        var time = finish - this.ride.start;
        if (time > this.param.mintime && time < this.param.maxtime) {
            this.ride.time = time;
            console.log("RideComponent: finishRide: record ride time: " + time);
        }
        else {
            this.ride.time = 0;
            console.log("RideComponent: finishRide: ride time: " + time + " is out of range [" + this.param.mintime + ", " + this.param.maxtime + "]");
        }
        this.rideService.updateRideByIdCB(this.ride, function (err, ref) {
            if (err) {
                _this.progress = false;
                console.error(err);
            }
            else {
                _this.progress = false;
                _this.getRides();
            }
        });
    };
    RideComponent.prototype.gotoBack = function () {
        this.location.back();
    };
    RideComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-ride',
            template: __webpack_require__(/*! ./ride.component.html */ "./src/app/ride/ride.component.html"),
            styles: [__webpack_require__(/*! ./ride.component.css */ "./src/app/ride/ride.component.css")],
            providers: [_parameters__WEBPACK_IMPORTED_MODULE_8__["RideParameters"]]
        }),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"],
            _tag_service__WEBPACK_IMPORTED_MODULE_3__["TagService"],
            _auth_service__WEBPACK_IMPORTED_MODULE_4__["AuthService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"],
            _rider_service__WEBPACK_IMPORTED_MODULE_5__["RiderService"],
            _ride_service__WEBPACK_IMPORTED_MODULE_6__["RideService"],
            _angular_common__WEBPACK_IMPORTED_MODULE_2__["DatePipe"],
            _angular_common__WEBPACK_IMPORTED_MODULE_2__["Location"],
            _parameters__WEBPACK_IMPORTED_MODULE_8__["RideParameters"]])
    ], RideComponent);
    return RideComponent;
}());



/***/ }),

/***/ "./src/app/rider.service.ts":
/*!**********************************!*\
  !*** ./src/app/rider.service.ts ***!
  \**********************************/
/*! exports provided: RiderService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RiderService", function() { return RiderService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_fire_firestore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/fire/firestore */ "./node_modules/@angular/fire/firestore/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var RiderService = /** @class */ (function () {
    function RiderService(datePipe, db) {
        this.datePipe = datePipe;
        this.db = db;
        this.number$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](1000);
        this.start$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](null);
        this.order$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"]('id');
        this.riders = Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["combineLatest"])(this.number$, this.start$, this.order$).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["switchMap"])(function (_a) {
            var num = _a[0], start = _a[1], order = _a[2];
            return db.collection('riders', function (ref) {
                var query = ref;
                if (num) {
                    query = query.limit(num);
                }
                if (order) {
                    query = query.orderBy(order);
                    if (start) {
                        query = query.startAt(start);
                    }
                }
                return query;
            }).valueChanges();
        }));
        this.where$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](null);
        this.rider = Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["combineLatest"])(this.where$).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["switchMap"])(function (_a) {
            var where = _a[0];
            return db.collection('riders', function (ref) {
                var query = ref;
                if (where) {
                    query = query.where('id', '==', where);
                }
                query = query.limit(1);
                return query;
            }).valueChanges();
        }));
        this.mobile$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](null);
        this.userRider = Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["combineLatest"])(this.mobile$).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["switchMap"])(function (_a) {
            var mobile = _a[0];
            return db.collection('riders', function (ref) {
                var query = ref;
                query = query.where('mobile', '==', mobile);
                return query;
            }).valueChanges();
        }));
    }
    RiderService.prototype.getRiders = function () {
        return this.riders;
    };
    RiderService.prototype.setNumber = function (num) {
        this.number$.next(num);
    };
    RiderService.prototype.setStart = function (start) {
        this.start$.next(start);
    };
    RiderService.prototype.setOrder = function (order) {
        this.order$.next(order);
    };
    RiderService.prototype.getRiderById = function (id) {
        this.where$.next(id);
        return this.rider;
    };
    RiderService.prototype.getRiderByIdCB = function (id, cb) {
        this.db.collection('riders').ref.where('id', '==', id)
            .get()
            .then(function (querySnapshot) {
            if (querySnapshot.empty) {
                cb(null);
            }
            else {
                cb(querySnapshot.docs[0]);
            }
        });
    };
    RiderService.prototype.getRiderByMobile = function (mobile) {
        this.mobile$.next(mobile);
        return this.userRider;
    };
    RiderService.prototype.getRiderByMobileCB = function (mobile, cb) {
        this.db.collection('riders').ref.where('mobile', '==', mobile)
            .get()
            .then(function (querySnapshot) {
            if (querySnapshot.empty) {
                cb(null);
            }
            else {
                cb(querySnapshot.docs[0]);
            }
        });
    };
    RiderService.prototype.addNewRiderCB = function (rider, cb) {
        this.db.collection('riders').add(rider)
            .then(function (ref) { return cb(null, ref); })
            .catch(function (err) { return cb(err, null); });
    };
    RiderService.prototype.updateRiderByIdCB = function (rider, cb) {
        var _this = this;
        this.db.collection('riders').ref.where('id', '==', rider.id)
            .get()
            .then(function (querySnapshot) {
            if (querySnapshot.empty) {
                console.error("RiderService: updateRiderByIdCB: rider not found for id " + rider.id);
                cb("RiderService: updateRiderByIdCB: rider not found for id " + rider.id, null);
            }
            else {
                var doc = querySnapshot.docs[0];
                // update tag doc
                console.log("RiderService: updateRiderByIdCB: updating rider for id: " + rider.id);
                _this.db.collection('riders').doc(doc.id).update(rider);
                cb(null, doc);
            }
        });
    };
    RiderService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_angular_common__WEBPACK_IMPORTED_MODULE_4__["DatePipe"], _angular_fire_firestore__WEBPACK_IMPORTED_MODULE_1__["AngularFirestore"]])
    ], RiderService);
    return RiderService;
}());



/***/ }),

/***/ "./src/app/sms-confirmation/sms-confirmation.component.css":
/*!*****************************************************************!*\
  !*** ./src/app/sms-confirmation/sms-confirmation.component.css ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/sms-confirmation/sms-confirmation.component.html":
/*!******************************************************************!*\
  !*** ./src/app/sms-confirmation/sms-confirmation.component.html ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-grid-list cols=\"3\" rowHeight=\"3em\">\n    <mat-grid-tile [colspan]=\"3\">\n      <h3>SMS confirmation</h3>\n    </mat-grid-tile>\n    \n</mat-grid-list>\n\n<form class=\"example-form\">\n\n  <mat-grid-list cols=\"3\" rowHeight=\"3em\">\n\n    <mat-grid-tile [rowspan]=\"3\" [colspan]=\"3\">\n      <mat-form-field>\n        <input matInput name=\"smscode\" type=\"text\" placeholder=\"Enter sms code\" required minlenght=\"6\" [(ngModel)]=\"smscode\">\n      </mat-form-field>\n    </mat-grid-tile>\n\n    <mat-grid-tile [colspan]=\"3\">\n      {{msg}}\n    </mat-grid-tile>\n\n    <mat-grid-tile>\n      <button mat-raised-button color=\"primary\" [disabled]=\"!smscode || progress\" (click)=\"confirm($event)\">Confirm</button>\n    </mat-grid-tile>\n\n    <mat-grid-tile>\n\n    </mat-grid-tile>\n\n    <mat-grid-tile>\n      <button mat-raised-button color=\"warn\" [disabled]=\"!smscode || progress\" (click)=\"clear()\">Clear</button>\n    </mat-grid-tile>\n  \n    <mat-grid-tile [colspan]=\"3\">\n    </mat-grid-tile>\n\n  </mat-grid-list>\n</form>\n\n"

/***/ }),

/***/ "./src/app/sms-confirmation/sms-confirmation.component.ts":
/*!****************************************************************!*\
  !*** ./src/app/sms-confirmation/sms-confirmation.component.ts ***!
  \****************************************************************/
/*! exports provided: SmsConfirmationComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SmsConfirmationComponent", function() { return SmsConfirmationComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _tag_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tag.service */ "./src/app/tag.service.ts");
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../auth.service */ "./src/app/auth.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var SmsConfirmationComponent = /** @class */ (function () {
    function SmsConfirmationComponent(zone, tagService, authService, route, router) {
        this.zone = zone;
        this.tagService = tagService;
        this.authService = authService;
        this.route = route;
        this.router = router;
    }
    SmsConfirmationComponent.prototype.ngOnInit = function () {
        this.clear();
        this.getMobile();
    };
    SmsConfirmationComponent.prototype.clear = function () {
        this.smscode = null;
        this.msg = null;
        this.progress = false;
    };
    SmsConfirmationComponent.prototype.getMobile = function () {
        this.mobile = this.route.snapshot.paramMap.get('mobile');
    };
    SmsConfirmationComponent.prototype.confirm = function (e) {
        var _this = this;
        this.progress = true;
        e.preventDefault();
        e.stopPropagation();
        this.authService.getConfirmation(this.smscode, function (error, user) {
            if (error) {
                _this.msg = error;
                _this.progress = false;
            }
            else {
                console.log(user);
                // registration is confirmed move to client profile
                _this.zone.run(function () { return _this.router.navigate(["/profile"]); })
                    .then(function () { return console.log('SmsConfirmationComponent: confirm: navigated to profile'); })
                    .catch(function (err) { return console.error(err); });
            }
        });
    };
    SmsConfirmationComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-sms-confirmation',
            template: __webpack_require__(/*! ./sms-confirmation.component.html */ "./src/app/sms-confirmation/sms-confirmation.component.html"),
            styles: [__webpack_require__(/*! ./sms-confirmation.component.css */ "./src/app/sms-confirmation/sms-confirmation.component.css")]
        }),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"],
            _tag_service__WEBPACK_IMPORTED_MODULE_2__["TagService"],
            _auth_service__WEBPACK_IMPORTED_MODULE_3__["AuthService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"]])
    ], SmsConfirmationComponent);
    return SmsConfirmationComponent;
}());



/***/ }),

/***/ "./src/app/tag-detail/tag-detail.component.css":
/*!*****************************************************!*\
  !*** ./src/app/tag-detail/tag-detail.component.css ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".example-form {\n    min-width: 150px;\n    max-width: 500px;\n    width: 100%;\n}\n  \n.example-full-width {\n    width: 100%;\n}\n  \n.example-short {\n    width: 30%;\n}\n  \n.example-half {\n    width: 50%;\n}\n  \ntable {\n    width: 100%;\n  }\n  \n.mat-cell .mat-icon {\n    -webkit-transform: scale(0.6);\n            transform: scale(0.6);\n}"

/***/ }),

/***/ "./src/app/tag-detail/tag-detail.component.html":
/*!******************************************************!*\
  !*** ./src/app/tag-detail/tag-detail.component.html ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-grid-list *ngIf=\"tags; else loading;\"cols=\"3\" rowHeight=\"3em\">\n    \n    <mat-grid-tile>\n        <button (click)=\"gotoBack()\" mat-icon-button>\n            <mat-icon>arrow_back_ios</mat-icon>\n        </button>\n      </mat-grid-tile>\n\n    <mat-grid-tile>\n      <h3>Tag details</h3>\n    </mat-grid-tile>\n\n    <mat-grid-tile>\n        \n      </mat-grid-tile>\n\n    <mat-grid-tile  *ngIf=\"tags.length > 0\" [colspan]=\"3\">\n        <h3>{{tags[0].id}}</h3>\n      </mat-grid-tile>\n\n    <mat-grid-tile *ngIf=\"tags.length > 0\">\n        Registered:\n    </mat-grid-tile>\n\n    <mat-grid-tile [colspan]=\"2\" *ngIf=\"tags.length > 0\">\n        {{tags[0].regDate}}\n    </mat-grid-tile>\n\n    <mat-grid-tile *ngIf=\"tags.length > 0 && tags[0].reg\">\n        Mobile:\n    </mat-grid-tile>\n\n    <mat-grid-tile [colspan]=\"2\" *ngIf=\"tags.length > 0 && tags[0].reg\">\n        {{tags[0].reg.mobile}}\n    </mat-grid-tile>\n\n    <mat-grid-tile *ngIf=\"tags.length > 0 && tags[0].reg\">\n        SMS code:\n    </mat-grid-tile>\n\n    <mat-grid-tile [colspan]=\"2\" *ngIf=\"tags.length > 0 && tags[0].reg\">\n        {{tags[0].reg.sms}}\n    </mat-grid-tile>\n    \n</mat-grid-list>\n\n<div *ngIf=\"rides\">\n    <table *ngIf=\"rides.length>0\" mat-table [dataSource]=\"rides | slice:start:end\" class=\"mat-elevation-z8\">\n\n        <!--- Note that these columns can be defined in any order.\n              The actual rendered columns are set as a property on the row definition\" -->\n      \n        <!-- Position Column -->\n        <ng-container matColumnDef=\"date\">\n            <th mat-header-cell *matHeaderCellDef> Date </th>\n            <td mat-cell *matCellDef=\"let element\"> {{element.start|date:\"dd-MM-yyyy\"}}</td>\n          </ng-container>\n\n        <!-- Position Column -->\n        <ng-container matColumnDef=\"start\">\n          <th mat-header-cell *matHeaderCellDef> Start </th>\n          <td mat-cell *matCellDef=\"let element\"> {{element.start|date:\"HH:mm:ss\"}}</td>\n        </ng-container>\n      \n        <!-- Name Column -->\n        <ng-container matColumnDef=\"finish\">\n          <th mat-header-cell *matHeaderCellDef> Finish </th>\n          <td mat-cell *matCellDef=\"let element\"> {{element.finish|date:\"HH:mm:ss\"}}</td>\n        </ng-container>\n      \n        <!-- Weight Column -->\n        <ng-container matColumnDef=\"time\">\n          <th mat-header-cell *matHeaderCellDef> Time </th>\n          <td mat-cell *matCellDef=\"let element\"> {{(element.finish-element.start)|date:\"HH:mm:ss\":\"+00\"}} </td>\n        </ng-container>\n\n        <!-- Weight Column -->\n        <ng-container matColumnDef=\"link\">\n            <th mat-header-cell *matHeaderCellDef> Details </th>\n            <td mat-cell *matCellDef=\"let element\"> <button (click)=\"gotoRide(element.id)\" mat-icon-button> <mat-icon>call_made</mat-icon></button> </td>\n          </ng-container>\n      \n      \n        <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n        <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\n      </table>\n      <br>\n      \n  <mat-paginator *ngIf=\"rides.length>0\" [length]=\"rides.length\"\n                [pageSize]=\"10\"\n                [pageSizeOptions]=\"[1, 5, 10, 25, 100]\"\n                (page)=\"setPage($event)\">\n  </mat-paginator>\n</div>"

/***/ }),

/***/ "./src/app/tag-detail/tag-detail.component.ts":
/*!****************************************************!*\
  !*** ./src/app/tag-detail/tag-detail.component.ts ***!
  \****************************************************/
/*! exports provided: TagDetailComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TagDetailComponent", function() { return TagDetailComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _tag_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../tag.service */ "./src/app/tag.service.ts");
/* harmony import */ var _ride_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../ride.service */ "./src/app/ride.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var TagDetailComponent = /** @class */ (function () {
    function TagDetailComponent(tagService, route, location, router, rideService) {
        this.tagService = tagService;
        this.route = route;
        this.location = location;
        this.router = router;
        this.rideService = rideService;
        this.displayedColumns = ['date', 'start', 'finish', 'time', 'link'];
    }
    TagDetailComponent.prototype.ngOnInit = function () {
        this.start = 0;
        this.end = 10;
        this.getTag();
    };
    TagDetailComponent.prototype.getTag = function () {
        var _this = this;
        var id = this.route.snapshot.paramMap.get('id');
        this.tagService.getTagById(id)
            .subscribe(function (tags) { return _this.tags = tags; });
        this.rideService.getRidesByTagId(id)
            .subscribe(function (rides) { return _this.rides = rides; });
    };
    TagDetailComponent.prototype.gotoTags = function () {
        this.router.navigate(["/tags"]);
    };
    TagDetailComponent.prototype.gotoBack = function () {
        this.location.back();
    };
    TagDetailComponent.prototype.gotoRide = function (id) {
        this.router.navigate(["/ride/" + id]);
    };
    TagDetailComponent.prototype.setPage = function (e) {
        console.log(e);
        var pageIndex = e.pageIndex, pageSize = e.pageSize;
        this.start = pageIndex * pageSize;
        this.end = this.start + pageSize;
    };
    TagDetailComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-tag-detail',
            template: __webpack_require__(/*! ./tag-detail.component.html */ "./src/app/tag-detail/tag-detail.component.html"),
            styles: [__webpack_require__(/*! ./tag-detail.component.css */ "./src/app/tag-detail/tag-detail.component.css")]
        }),
        __metadata("design:paramtypes", [_tag_service__WEBPACK_IMPORTED_MODULE_3__["TagService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"],
            _angular_common__WEBPACK_IMPORTED_MODULE_2__["Location"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"],
            _ride_service__WEBPACK_IMPORTED_MODULE_4__["RideService"]])
    ], TagDetailComponent);
    return TagDetailComponent;
}());



/***/ }),

/***/ "./src/app/tag-reg-sms/tag-reg-sms.component.css":
/*!*******************************************************!*\
  !*** ./src/app/tag-reg-sms/tag-reg-sms.component.css ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/tag-reg-sms/tag-reg-sms.component.html":
/*!********************************************************!*\
  !*** ./src/app/tag-reg-sms/tag-reg-sms.component.html ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div *ngIf=\"tags; else loading\">\n    <h2 *ngIf=\"tags.length === 0\">Tag not found</h2>\n    <div *ngIf=\"tags.length > 0\">\n      <h2>Tag Registration</h2>\n      <div><span>id: </span>{{tags[0].id}}</div>\n    </div>\n    <br><br>\n\n    <form class=\"example-form\">\n      <table class=\"example-half\" cellspacing=\"0\">\n        <tr>\n          <td>\n            <mat-form-field>\n              <input matInput name=\"smscode\" type=\"text\" placeholder=\"Enter sms code\" required minlength=\"4\" [(ngModel)]=\"smscode\">\n            </mat-form-field>\n          </td>\n        </tr>\n        <tr *ngIf=\"msg\">\n          <td>\n            {{msg}}\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <button mat-raised-button color=\"primary\" [disabled]=\"!smscode || registered || progress\" (click)=\"confirm($event)\">Confirm</button>\n          </td>\n          <td>\n            <button mat-raised-button color=\"warn\" [disabled]=\"!smscode || registered || progress\" (click)=\"gotoBack()\">Cancel</button>\n          </td>\n        </tr>\n      </table>\n    </form>\n</div>\n"

/***/ }),

/***/ "./src/app/tag-reg-sms/tag-reg-sms.component.ts":
/*!******************************************************!*\
  !*** ./src/app/tag-reg-sms/tag-reg-sms.component.ts ***!
  \******************************************************/
/*! exports provided: TagRegSmsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TagRegSmsComponent", function() { return TagRegSmsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _tag_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tag.service */ "./src/app/tag.service.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../auth.service */ "./src/app/auth.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var TagRegSmsComponent = /** @class */ (function () {
    function TagRegSmsComponent(tagService, authService, route, location, router) {
        this.tagService = tagService;
        this.authService = authService;
        this.route = route;
        this.location = location;
        this.router = router;
    }
    TagRegSmsComponent.prototype.ngOnInit = function () {
        this.getTag();
        this.clear();
    };
    TagRegSmsComponent.prototype.clear = function () {
        this.smscode = null;
        this.msg = null;
        this.registered = false;
        this.progress = false;
    };
    TagRegSmsComponent.prototype.getTag = function () {
        var _this = this;
        this.tagid = this.route.snapshot.paramMap.get('id');
        this.mobile = this.route.snapshot.paramMap.get('mobile');
        this.tagService.getTagById(this.tagid)
            .subscribe(function (tags) { return _this.tags = tags; });
    };
    TagRegSmsComponent.prototype.gotoBack = function () {
        this.router.navigate(["/reg"]);
    };
    TagRegSmsComponent.prototype.confirm = function (e) {
        var _this = this;
        this.progress = true;
        e.preventDefault();
        e.stopPropagation();
        var reg = {
            mobile: this.mobile,
            sms: '******'
        };
        this.authService.getConfirmation(this.smscode, function (error, user) {
            if (error) {
                _this.msg = error;
                _this.progress = false;
            }
            else {
                console.log(user);
                // registration is confirmed
                if (_this.tags[0]) {
                    console.log("TagRegSmsComponent: confirm: seting reg date for " + _this.tags[0].id);
                    _this.tagService.setRegDate(_this.tags[0].id, function (err, doc) {
                        if (err) {
                            _this.msg = err;
                            _this.progress = false;
                            _this.registered = false;
                        }
                        else {
                            _this.msg = "Tag registration date updated";
                            _this.progress = false;
                            _this.registered = true;
                            _this.router.navigate(["/profile"]);
                        }
                    });
                }
                else {
                    console.log("TagRegSmsComponent: confirm: adding new tag with id " + _this.tagid);
                    _this.tagService.setRegistration(_this.tagid, null, reg);
                    _this.msg = "Tag is registered";
                    _this.progress = false;
                    _this.registered = true;
                    _this.router.navigate(["/profile"]);
                }
            }
        });
    };
    TagRegSmsComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-tag-reg-sms',
            template: __webpack_require__(/*! ./tag-reg-sms.component.html */ "./src/app/tag-reg-sms/tag-reg-sms.component.html"),
            styles: [__webpack_require__(/*! ./tag-reg-sms.component.css */ "./src/app/tag-reg-sms/tag-reg-sms.component.css")],
        }),
        __metadata("design:paramtypes", [_tag_service__WEBPACK_IMPORTED_MODULE_2__["TagService"],
            _auth_service__WEBPACK_IMPORTED_MODULE_4__["AuthService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"],
            _angular_common__WEBPACK_IMPORTED_MODULE_3__["Location"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"]])
    ], TagRegSmsComponent);
    return TagRegSmsComponent;
}());



/***/ }),

/***/ "./src/app/tag-registration/tag-registration.component.css":
/*!*****************************************************************!*\
  !*** ./src/app/tag-registration/tag-registration.component.css ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "h4 {\n    text-align: center;\n  }\n\np {\n    text-align: center;\n}"

/***/ }),

/***/ "./src/app/tag-registration/tag-registration.component.html":
/*!******************************************************************!*\
  !*** ./src/app/tag-registration/tag-registration.component.html ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-grid-list cols=\"3\" rowHeight=\"3em\">\n\n  <mat-grid-tile>\n    <button (click)=\"gotoBack()\" mat-icon-button>\n      <mat-icon>arrow_back_ios</mat-icon>\n    </button>\n  </mat-grid-tile>\n\n  <mat-grid-tile><h3>Tag registration</h3></mat-grid-tile>\n\n  <mat-grid-tile></mat-grid-tile>\n\n  <mat-grid-tile [colspan]=\"3\" [rowspan]=\"2\">\n    <h4 >Please enter mobile phone number and unique tag ID to recieve SMS registration code</h4>\n  </mat-grid-tile>\n  <mat-grid-tile [colspan]=\"3\">\n    <h4>Don't have a tag?</h4> \n  </mat-grid-tile>\n\n  <mat-grid-tile></mat-grid-tile>\n\n  <mat-grid-tile >\n      <button (click)=\"generate()\" mat-icon-button>\n          <mat-icon>get_app</mat-icon>\n        </button>\n  </mat-grid-tile>\n\n  <mat-grid-tile></mat-grid-tile>\n    \n</mat-grid-list>\n\n<form class=\"example-form\">\n\n  <mat-grid-list cols=\"3\" rowHeight=\"3em\">\n\n    <mat-grid-tile [rowspan]=\"2\" [colspan]=\"3\">\n      <mat-form-field>\n        <input matInput name=\"tagid\" type=\"text\" placeholder=\"Enter tag id\" required minlength=\"14\" [(ngModel)]=\"tagid\">\n        <mat-hint align=\"start\">Example: <strong>12345678901234</strong> </mat-hint>\n      </mat-form-field>\n    </mat-grid-tile>\n\n    <mat-grid-tile [rowspan]=\"2\" [colspan]=\"3\">\n      <mat-form-field>\n        <input matInput name=\"mobile\" type=\"text\" placeholder=\"Enter mobile\" required minlenght=\"7\" [(ngModel)]=\"mobile\">\n        <mat-hint align=\"start\">Example: <strong>+16505551234</strong> </mat-hint>\n      </mat-form-field>\n    </mat-grid-tile>\n\n    <mat-grid-tile [colspan]=\"3\">\n      {{msg}}\n    </mat-grid-tile>\n\n    <mat-grid-tile>\n        <button mat-raised-button color=\"primary\" [disabled]=\"!tagid || !mobile || progress\" (click)=\"reg($event)\">Register</button>\n    </mat-grid-tile>\n\n    <mat-grid-tile>\n\n    </mat-grid-tile>\n\n    <mat-grid-tile>\n        <button mat-raised-button color=\"warn\" [disabled]=\"!tagid || !mobile || progress\" (click)=\"clear()\">Clear</button>\n    </mat-grid-tile>\n  \n    <mat-grid-tile [colspan]=\"3\">\n    </mat-grid-tile>\n\n  </mat-grid-list>\n</form>\n\n<div id=\"recaptcha-container\"></div>"

/***/ }),

/***/ "./src/app/tag-registration/tag-registration.component.ts":
/*!****************************************************************!*\
  !*** ./src/app/tag-registration/tag-registration.component.ts ***!
  \****************************************************************/
/*! exports provided: TagRegistrationComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TagRegistrationComponent", function() { return TagRegistrationComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _tag_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tag.service */ "./src/app/tag.service.ts");
/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! firebase/app */ "./node_modules/firebase/app/dist/index.cjs.js");
/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(firebase_app__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../auth.service */ "./src/app/auth.service.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var TagRegistrationComponent = /** @class */ (function () {
    function TagRegistrationComponent(zone, tagService, authService, route, router, location) {
        this.zone = zone;
        this.tagService = tagService;
        this.authService = authService;
        this.route = route;
        this.router = router;
        this.location = location;
    }
    TagRegistrationComponent.prototype.ngAfterViewInit = function () {
        // Called after ngAfterContentInit when the component's view has been initialized. Applies to components only.
        // Add 'implements AfterViewInit' to the class.
        this.recaptchaVerifier = new firebase_app__WEBPACK_IMPORTED_MODULE_3__["auth"].RecaptchaVerifier('recaptcha-container');
    };
    TagRegistrationComponent.prototype.ngOnInit = function () {
        this.clear();
    };
    TagRegistrationComponent.prototype.clear = function () {
        this.tagid = null;
        this.mobile = null;
        this.msg = null;
        this.progress = false;
    };
    TagRegistrationComponent.prototype.reg = function (e) {
        var _this = this;
        this.progress = true;
        e.preventDefault();
        e.stopPropagation();
        this.authService.signInWithPhoneNumber(this.mobile, this.recaptchaVerifier, function (error, confirmationResult) {
            if (error) {
                console.error("TagRegistrationComponent: reg: " + error);
                _this.msg = error;
                _this.progress = false;
            }
            else {
                // I've got a confirmation object, lets go to the SMS confirmation screen
                // Need to use NgZone.run to go back to Angular zone exec env
                _this.zone.run(function () { return _this.router.navigate(["/regsms/" + _this.tagid + "/" + _this.mobile]); })
                    .then(function () { return console.log('TagRegistrationComponent: reg: navigated to regsms'); })
                    .catch(function (err) { return console.error(err); });
                console.log("TagRegistrationComponent: reg: confirmation for " + _this.mobile);
                console.log(confirmationResult);
            }
        });
    };
    TagRegistrationComponent.prototype.gotoBack = function () {
        this.location.back();
    };
    TagRegistrationComponent.prototype.generate = function () {
        var tagid = Math.random();
        tagid = tagid * 1e14;
        tagid = Math.floor(tagid);
        this.tagid = tagid.toString();
    };
    TagRegistrationComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-tag-registration',
            template: __webpack_require__(/*! ./tag-registration.component.html */ "./src/app/tag-registration/tag-registration.component.html"),
            styles: [__webpack_require__(/*! ./tag-registration.component.css */ "./src/app/tag-registration/tag-registration.component.css")],
        }),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"],
            _tag_service__WEBPACK_IMPORTED_MODULE_2__["TagService"],
            _auth_service__WEBPACK_IMPORTED_MODULE_4__["AuthService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"],
            _angular_common__WEBPACK_IMPORTED_MODULE_5__["Location"]])
    ], TagRegistrationComponent);
    return TagRegistrationComponent;
}());



/***/ }),

/***/ "./src/app/tag.service.ts":
/*!********************************!*\
  !*** ./src/app/tag.service.ts ***!
  \********************************/
/*! exports provided: TagService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TagService", function() { return TagService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_fire_firestore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/fire/firestore */ "./node_modules/@angular/fire/firestore/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var TagService = /** @class */ (function () {
    function TagService(datePipe, db) {
        this.datePipe = datePipe;
        this.db = db;
        this.number$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](1000);
        this.start$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](null);
        this.order$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"]('id');
        this.tags = Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["combineLatest"])(this.number$, this.start$, this.order$).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["switchMap"])(function (_a) {
            var num = _a[0], start = _a[1], order = _a[2];
            return db.collection('tags', function (ref) {
                var query = ref;
                if (num) {
                    query = query.limit(num);
                }
                if (order) {
                    query = query.orderBy(order);
                    if (start) {
                        query = query.startAt(start);
                    }
                }
                return query;
            }).valueChanges();
        }));
        this.where$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](null);
        this.tag = Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["combineLatest"])(this.where$).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["switchMap"])(function (_a) {
            var where = _a[0];
            return db.collection('tags', function (ref) {
                var query = ref;
                if (where) {
                    query = query.where('id', '==', where);
                }
                query = query.limit(1);
                return query;
            }).valueChanges();
        }));
        this.mobile$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](null);
        this.userTags = Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["combineLatest"])(this.mobile$).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["switchMap"])(function (_a) {
            var mobile = _a[0];
            return db.collection('tags', function (ref) {
                var query = ref;
                query = query.where('reg.mobile', '==', mobile);
                return query;
            }).valueChanges();
        }));
    }
    TagService.prototype.getTagById = function (id) {
        this.where$.next(id);
        return this.tag;
    };
    TagService.prototype.getTagByIdCB = function (id, cb) {
        this.db.collection('tags').ref.where('id', '==', id)
            .get()
            .then(function (querySnapshot) {
            if (querySnapshot.empty) {
                cb(null);
            }
            else {
                cb(querySnapshot.docs[0]);
            }
        });
    };
    TagService.prototype.getTagsByMobile = function (mobile) {
        this.mobile$.next(mobile);
        return this.userTags;
    };
    TagService.prototype.setRegistration = function (id, docRef, reg) {
        var regDate = this.datePipe.transform(new Date(), 'dd-MM-yy');
        if (docRef) {
            console.log("TagService: update tag ref: " + docRef + " and id: " + id);
            this.db.collection('tags').doc(docRef).update({ reg: reg });
        }
        else {
            console.log("TagService: add new tag " + id);
            this.db.collection('tags').add({ id: id, regDate: regDate, reg: reg });
        }
    };
    TagService.prototype.setRegDate = function (id, cb) {
        var _this = this;
        this.db.collection('tags').ref.where('id', '==', id)
            .get()
            .then(function (querySnapshot) {
            if (querySnapshot.empty) {
                console.error("TagService: setRegDate: tag not found for id " + id);
                cb("TagService: setRegDate: tag not found for id " + id, null);
            }
            else {
                var doc = querySnapshot.docs[0];
                var regDate = _this.datePipe.transform(new Date(), 'dd-MM-yy');
                // update tag doc
                console.log("TagService: setRegDate: set regDate: " + regDate + " for id: " + id);
                _this.db.collection('tags').doc(doc.id).update({ regDate: regDate });
                cb(null, doc);
            }
        });
    };
    TagService.prototype.getTags = function () {
        return this.tags;
    };
    TagService.prototype.setNumber = function (num) {
        this.number$.next(num);
    };
    TagService.prototype.setStart = function (start) {
        this.start$.next(start);
    };
    TagService.prototype.setOrder = function (order) {
        this.order$.next(order);
    };
    TagService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_angular_common__WEBPACK_IMPORTED_MODULE_4__["DatePipe"], _angular_fire_firestore__WEBPACK_IMPORTED_MODULE_1__["AngularFirestore"]])
    ], TagService);
    return TagService;
}());



/***/ }),

/***/ "./src/app/tags/tags.component.css":
/*!*****************************************!*\
  !*** ./src/app/tags/tags.component.css ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".example-form {\n    min-width: 150px;\n    max-width: 500px;\n    width: 100%;\n}\n  \n.example-full-width {\n    width: 100%;\n}\n  \n.example-short {\n    width: 30%;\n}\n  \n.example-half {\n    width: 50%;\n}"

/***/ }),

/***/ "./src/app/tags/tags.component.html":
/*!******************************************!*\
  !*** ./src/app/tags/tags.component.html ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-grid-list *ngIf=\"tags; else loading\" cols=\"3\" rowHeight=\"3em\">\n    <mat-grid-tile [colspan]=\"3\">\n      <h3>Tags list</h3>\n    </mat-grid-tile>\n    <mat-grid-tile *ngFor=\"let tag of tags | slice:start:end\" [colspan]=\"3\">\n      <button mat-stroked-button (click)=\"gotoTagById(tag)\">{{tag.id}}</button>\n    </mat-grid-tile>\n</mat-grid-list>\n\n<mat-paginator *ngIf=\"tags; else loading\" [length]=\"tags.length\"\n              [pageSize]=\"10\"\n              [pageSizeOptions]=\"[1, 5, 10, 25, 100]\"\n              (page)=\"setPage($event)\">\n</mat-paginator>\n"

/***/ }),

/***/ "./src/app/tags/tags.component.ts":
/*!****************************************!*\
  !*** ./src/app/tags/tags.component.ts ***!
  \****************************************/
/*! exports provided: TagsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TagsComponent", function() { return TagsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _tag_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tag.service */ "./src/app/tag.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var TagsComponent = /** @class */ (function () {
    function TagsComponent(tagService, route, router) {
        this.tagService = tagService;
        this.route = route;
        this.router = router;
    }
    TagsComponent.prototype.ngOnInit = function () {
        this.getTags();
        this.clear();
    };
    TagsComponent.prototype.clear = function () {
        this.start = 0;
        this.end = 10;
    };
    TagsComponent.prototype.getTags = function () {
        var _this = this;
        this.tagService.getTags()
            .subscribe(function (tags) { return _this.tags = tags; });
    };
    TagsComponent.prototype.gotoTagById = function (tag) {
        var tagId = tag ? tag.id : null;
        this.router.navigate(["/tag/" + tagId]);
    };
    TagsComponent.prototype.setPage = function (e) {
        console.log(e);
        var pageIndex = e.pageIndex, pageSize = e.pageSize;
        this.start = pageIndex * pageSize;
        this.end = this.start + pageSize;
    };
    TagsComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-tags',
            template: __webpack_require__(/*! ./tags.component.html */ "./src/app/tags/tags.component.html"),
            styles: [__webpack_require__(/*! ./tags.component.css */ "./src/app/tags/tags.component.css")]
        }),
        __metadata("design:paramtypes", [_tag_service__WEBPACK_IMPORTED_MODULE_2__["TagService"], _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"], _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"]])
    ], TagsComponent);
    return TagsComponent;
}());



/***/ }),

/***/ "./src/app/user-profile/user-profile.component.css":
/*!*********************************************************!*\
  !*** ./src/app/user-profile/user-profile.component.css ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".example-headers-align .mat-expansion-panel-header-title,\n.example-headers-align .mat-expansion-panel-header-description {\n  flex-basis: 0;\n}\n\n.example-headers-align .mat-expansion-panel-header-description {\n  justify-content: space-between;\n  align-items: center;\n}\n"

/***/ }),

/***/ "./src/app/user-profile/user-profile.component.html":
/*!**********************************************************!*\
  !*** ./src/app/user-profile/user-profile.component.html ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-grid-list cols=\"3\" rowHeight=\"3em\">\n\n  <mat-grid-tile>\n  </mat-grid-tile>\n\n  <mat-grid-tile>\n    <h3>Profile</h3>\n  </mat-grid-tile>\n\n  <mat-grid-tile>\n  </mat-grid-tile>\n\n  <mat-grid-tile *ngIf=\"name()\">\n    Name\n  </mat-grid-tile>\n\n  <mat-grid-tile *ngIf=\"name()\">\n  </mat-grid-tile>\n\n  <mat-grid-tile *ngIf=\"name()\">\n    {{name()}}\n  </mat-grid-tile>\n\n  <mat-grid-tile *ngIf=\"phone()\">\n    Mobile\n  </mat-grid-tile>\n\n  <mat-grid-tile *ngIf=\"phone()\">\n  </mat-grid-tile>\n\n  <mat-grid-tile *ngIf=\"phone()\">\n    {{phone()}}\n  </mat-grid-tile>\n\n  <mat-grid-tile *ngIf=\"rider\">\n      Nikname\n    </mat-grid-tile>\n  \n    <mat-grid-tile *ngIf=\"rider\">\n    </mat-grid-tile>\n  \n    <mat-grid-tile *ngIf=\"rider\">\n      {{rider.nikname}}\n    </mat-grid-tile>\n\n    <mat-grid-tile [colspan]=\"3\" *ngIf=\"wallet\">\n        <h3>Wallet</h3>\n      </mat-grid-tile>\n\n    <mat-grid-tile [colspan]=\"3\" *ngIf=\"wallet\">\n        {{account}}\n      </mat-grid-tile>\n    \n      <mat-grid-tile [colspan]=\"3\" *ngIf=\"wallet\">\n        {{balance}} Ether\n      </mat-grid-tile>\n    \n\n</mat-grid-list>\n\n<mat-accordion>\n    <mat-expansion-panel (opened)=\"getTags()\">\n      <mat-expansion-panel-header>\n        <mat-panel-title>\n          Tags\n        </mat-panel-title>\n        <mat-panel-description>\n          Open to see your tags\n        </mat-panel-description>\n      </mat-expansion-panel-header>\n  \n      <span *ngFor=\"let tag of tags\">\n          <button mat-stroked-button (click)=\"gotoTagById(tag)\">{{tag.id}}</button>&nbsp;\n      </span>\n  \n    </mat-expansion-panel>\n</mat-accordion>\n  \n<mat-grid-list cols=\"3\" rowHeight=\"3em\">\n\n  <mat-grid-tile [colspan]=\"3\">\n  </mat-grid-tile>\n\n  <mat-grid-tile *ngIf=\"authenticated()\">\n    <button mat-raised-button color=\"warn\" [disabled]=\"!authenticated()\" (click)=\"logout()\">Logout</button>\n  </mat-grid-tile>\n  \n  <mat-grid-tile *ngIf=\"authenticated()\">\n    \n  </mat-grid-tile>\n  \n  <mat-grid-tile *ngIf=\"authenticated()\">\n    <button mat-raised-button color=\"primary\" [disabled]=\"!authenticated()\" (click)=\"gotoUpdate()\">Update</button>\n  </mat-grid-tile>\n\n  <mat-grid-tile *ngIf=\"!authenticated()\" [colspan]=\"3\">\n    No user logged in\n  </mat-grid-tile>\n\n</mat-grid-list>\n\n\n  "

/***/ }),

/***/ "./src/app/user-profile/user-profile.component.ts":
/*!********************************************************!*\
  !*** ./src/app/user-profile/user-profile.component.ts ***!
  \********************************************************/
/*! exports provided: UserProfileComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserProfileComponent", function() { return UserProfileComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _tag_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tag.service */ "./src/app/tag.service.ts");
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../auth.service */ "./src/app/auth.service.ts");
/* harmony import */ var _rider_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../rider.service */ "./src/app/rider.service.ts");
/* harmony import */ var _ethereum_ethcontract_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ethereum/ethcontract.service */ "./src/app/ethereum/ethcontract.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var UserProfileComponent = /** @class */ (function () {
    function UserProfileComponent(tagService, authService, riderService, route, router, contractService, zone) {
        this.tagService = tagService;
        this.authService = authService;
        this.riderService = riderService;
        this.route = route;
        this.router = router;
        this.contractService = contractService;
        this.zone = zone;
    }
    UserProfileComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.riderService.getRiderByMobile(this.authService.getUserPhone())
            .subscribe(function (riders) {
            if (riders) {
                if (riders.length > 0) {
                    _this.rider = riders[0];
                    _this.wallet = _this.rider.wallet;
                    if (_this.rider.wallet) {
                        _this.account = _this.rider.wallet.accounts[0];
                        _this.contractService.getAccountBalance(_this.account)
                            .subscribe(function (result) { return _this.zone.run(function () { return _this.balance = result[0]; }); });
                    }
                }
            }
        });
    };
    UserProfileComponent.prototype.ngAfterViewInit = function () {
        this.getTags();
    };
    UserProfileComponent.prototype.getTags = function () {
        var _this = this;
        this.tagService.getTagsByMobile(this.phone())
            .subscribe(function (tags) { return _this.tags = tags; });
    };
    UserProfileComponent.prototype.phone = function () {
        return this.authService.getUserPhone();
    };
    UserProfileComponent.prototype.name = function () {
        return this.authService.getUserName();
    };
    UserProfileComponent.prototype.authenticated = function () {
        return this.authService.authenticated();
    };
    UserProfileComponent.prototype.logout = function () {
        this.authService.logout();
    };
    UserProfileComponent.prototype.gotoUpdate = function () {
        this.router.navigate(["/update"]);
    };
    UserProfileComponent.prototype.gotoTagById = function (tag) {
        var tagId = tag ? tag.id : null;
        this.router.navigate(["/tag/" + tagId]);
    };
    UserProfileComponent.prototype.getAccount = function () {
        if (this.wallet) {
            return this.wallet.accounts[0];
        }
        else {
            return null;
        }
    };
    UserProfileComponent.prototype.getAccountBalance = function () {
        if (!this.wallet) {
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_6__["of"])(null);
        }
        else {
            return this.contractService.getAccountBalance(this.wallet.accounts[0]);
        }
    };
    UserProfileComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-user-profile',
            template: __webpack_require__(/*! ./user-profile.component.html */ "./src/app/user-profile/user-profile.component.html"),
            styles: [__webpack_require__(/*! ./user-profile.component.css */ "./src/app/user-profile/user-profile.component.css")],
            providers: [_tag_service__WEBPACK_IMPORTED_MODULE_2__["TagService"]]
        }),
        __metadata("design:paramtypes", [_tag_service__WEBPACK_IMPORTED_MODULE_2__["TagService"],
            _auth_service__WEBPACK_IMPORTED_MODULE_3__["AuthService"],
            _rider_service__WEBPACK_IMPORTED_MODULE_4__["RiderService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"],
            _ethereum_ethcontract_service__WEBPACK_IMPORTED_MODULE_5__["EthcontractService"],
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"]])
    ], UserProfileComponent);
    return UserProfileComponent;
}());



/***/ }),

/***/ "./src/environments/environment.ts":
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
// This file can be replaced during build by using the `fileReplacements` array.
// `ng build ---prod` replaces `environment.ts` with `environment.prod.ts`.
// The list of file replacements can be found in `angular.json`.
var environment = {
    production: false,
    firebase: {
        apiKey: 'AIzaSyARllasipU-7JhdvtkRV25er--zMyOPEW0',
        authDomain: 'cloud-firestore-test-d95bf.firebaseapp.com',
        databaseURL: 'https://cloud-firestore-test-d95bf.firebaseio.com',
        projectId: 'cloud-firestore-test-d95bf',
        storageBucket: 'cloud-firestore-test-d95bf.appspot.com',
        messagingSenderId: '740765205427'
    }
};
/*
 * In development mode, to ignore zone related error stack frames such as
 * `zone.run`, `zoneDelegate.invokeTask` for easier debugging, you can
 * import the following file, but please comment it out in production mode
 * because it will have performance impact when throw error
 */
// import 'zone.js/dist/zone-error';  // Included with Angular CLI.


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ "./node_modules/@angular/platform-browser-dynamic/fesm5/platform-browser-dynamic.js");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/app.module */ "./src/app/app.module.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./environments/environment */ "./src/environments/environment.ts");




if (_environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["enableProdMode"])();
}
Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_2__["AppModule"])
    .catch(function (err) { return console.log(err); });


/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./src/main.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! /Users/sergei/cloud-firestore-test/src/main.ts */"./src/main.ts");


/***/ }),

/***/ 1:
/*!**********************!*\
  !*** util (ignored) ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 2:
/*!**********************!*\
  !*** util (ignored) ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 3:
/*!************************!*\
  !*** buffer (ignored) ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 4:
/*!************************!*\
  !*** crypto (ignored) ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main.js.map